(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{7:(e,t)=>{"use strict";t.q=o,t.l=u;var r=Object.prototype.toString,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var i=t&&t.decode||d,a=0,s=0,o=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(o=e.indexOf(";",a)))o=n;else if(s>o){a=e.lastIndexOf(";",s-1)+1;continue}var u=l(e,a,s),h=c(e,s,u),p=e.slice(u,h);if(!r.hasOwnProperty(p)){var m=l(e,s+1,o),g=c(e,o,m);34===e.charCodeAt(m)&&34===e.charCodeAt(g-1)&&(m++,g--);var y=e.slice(m,g);r[p]=f(y,i)}a=o+1}while(a<n);return r}function l(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function u(e,t,r){var o=r&&r.encode||encodeURIComponent;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=o(t);if(!i.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(!r)return c;if(null!=r.maxAge){var u=Math.floor(r.maxAge);if(!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+u}if(r.domain){if(!a.test(r.domain))throw TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){var d=r.expires;if(!h(d)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+d.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.partitioned&&(c+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c}function d(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function h(e){return"[object Date]"===r.call(e)}function f(e,t){try{return t(e)}catch(t){return e}}},16:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,h:()=>a});let n="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}},23:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var __dirname="/",__filename="/index.js",Buffer=__webpack_require__(356).Buffer,mu=Object.create,Jt=Object.defineProperty,fu=Object.getOwnPropertyDescriptor,gu=Object.getOwnPropertyNames,hu=Object.getPrototypeOf,yu=Object.prototype.hasOwnProperty,Eu=(e,t,r)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wt=(e,t)=>{for(var r in t)Jt(e,r,{get:t[r],enumerable:!0})},Ao=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of gu(t))yu.call(e,i)||i===r||Jt(e,i,{get:()=>t[i],enumerable:!(n=fu(t,i))||n.enumerable});return e},D=(e,t,r)=>(r=null!=e?mu(hu(e)):{},Ao(!t&&e&&e.__esModule?r:Jt(r,"default",{value:e,enumerable:!0}),e)),bu=e=>Ao(Jt({},"__esModule",{value:!0}),e),d=(e,t,r)=>Eu(e,"symbol"!=typeof t?t+"":t,r),Zo=K((e,t)=>{var r=t.exports;t.exports.default=r;var n="\x1b[",i="\x1b]",a="\x07",s=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;r.cursorTo=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?n+(e+1)+"G":n+(t+1)+";"+(e+1)+"H"},r.cursorMove=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let r="";return e<0?r+=n+-e+"D":e>0&&(r+=n+e+"C"),t<0?r+=n+-t+"A":t>0&&(r+=n+t+"B"),r},r.cursorUp=(e=1)=>n+e+"A",r.cursorDown=(e=1)=>n+e+"B",r.cursorForward=(e=1)=>n+e+"C",r.cursorBackward=(e=1)=>n+e+"D",r.cursorLeft=n+"G",r.cursorSavePosition=o?"\x1b7":n+"s",r.cursorRestorePosition=o?"\x1b8":n+"u",r.cursorGetPosition=n+"6n",r.cursorNextLine=n+"E",r.cursorPrevLine=n+"F",r.cursorHide=n+"?25l",r.cursorShow=n+"?25h",r.eraseLines=e=>{let t="";for(let n=0;n<e;n++)t+=r.eraseLine+(n<e-1?r.cursorUp():"");return e&&(t+=r.cursorLeft),t},r.eraseEndLine=n+"K",r.eraseStartLine=n+"1K",r.eraseLine=n+"2K",r.eraseDown=n+"J",r.eraseUp=n+"1J",r.eraseScreen=n+"2J",r.scrollUp=n+"S",r.scrollDown=n+"T",r.clearScreen="\x1bc",r.clearTerminal="win32"===process.platform?`${r.eraseScreen}${n}0f`:`${r.eraseScreen}${n}3J${n}H`,r.beep=a,r.link=(e,t)=>[i,"8",s,s,t,a,e,i,"8",s,s,a].join(""),r.image=(e,t={})=>{let r=`${i}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+a},r.iTerm={setCwd:(e=process.cwd())=>`${i}50;CurrentDir=${e}${a}`,annotation:(e,t={})=>{let r=`${i}1337;`,n="u">typeof t.x,s="u">typeof t.y;if((n||s)&&!(n&&s&&"u">typeof t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+a}}}),di=K((e,t)=>{t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}}),rs=K((e,t)=>{var r,n=__webpack_require__(485),i=__webpack_require__(550),a=di(),{env:s}=process;function o(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===r)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===r)return 0;let i=r||0;if("dumb"===s.TERM)return i;if("win32"===process.platform){let e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:i;if("TEAMCITY_VERSION"in s)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION);if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:i}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?r=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(r=1),"FORCE_COLOR"in s&&(r="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),t.exports={supportsColor:function(e){return o(l(e,e&&e.isTTY))},stdout:o(l(!0,i.isatty(1))),stderr:o(l(!0,i.isatty(2)))}}),os=K((e,t)=>{var r=rs(),n=di();function i(e){if(/^\d{3,4}$/.test(e)){let t=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}let t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function a(e){let{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&0===parseInt(t.FORCE_HYPERLINK,10));if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||"NETLIFY"in t)return!0;if(!r.supportsColor(e)||e&&!e.isTTY||"win32"===process.platform||"CI"in t||"TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){let e=i(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3;case"WezTerm":return e.major>=0x1343cac;case"vscode":return e.major>1||1===e.major&&e.minor>=72}}if("VTE_VERSION"in t){if("0.50.0"===t.VTE_VERSION)return!1;let e=i(t.VTE_VERSION);return e.major>0||e.minor>=50}return!1}t.exports={supportsHyperlink:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),as=K((e,t)=>{var r=Zo(),n=os(),i=(e,t,{target:i="stdout",...a}={})=>n[i]?r.link(e,t):!1===a.fallback?e:"function"==typeof a.fallback?a.fallback(e,t):`${e} (\u200B${t}\u200B)`;t.exports=(e,t,r={})=>i(e,t,r),t.exports.stderr=(e,t,r={})=>i(e,t,{target:"stderr",...r}),t.exports.isSupported=n.stdout,t.exports.stderr.isSupported=n.stderr}),us=K((e,t)=>{t.exports={name:"@prisma/internals",version:"6.5.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@antfu/ni":"0.21.12","@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.4.7",esbuild:"0.24.2","escape-string-regexp":"4.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0","read-package-up":"11.0.0",resolve:"1.22.10","string-width":"4.2.3","strip-ansi":"6.0.1","strip-indent":"3.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"2.1.1",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.5.0-73.173f8d54f8d52e692c7e27e72a88314ec7aeff60","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),bi=K((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.5.0-73.173f8d54f8d52e692c7e27e72a88314ec7aeff60",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"173f8d54f8d52e692c7e27e72a88314ec7aeff60"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),wi=K(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=bi().prisma.enginesVersion}),ds=K((e,t)=>{t.exports={name:"dotenv",version:"16.4.7",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),hs=K((e,t)=>{var r=__webpack_require__(704),n=__webpack_require__(112),i=__webpack_require__(485),a=__webpack_require__(418),s=ds().version,o=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function l(e){console.log(`[dotenv@${s}][INFO] ${e}`)}function c(e){console.log(`[dotenv@${s}][WARN] ${e}`)}function u(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function h(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let n=r.password;if(!n){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let i=r.searchParams.get("environment");if(!i){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let a=`DOTENV_VAULT_${i.toUpperCase()}`,s=e.parsed[a];if(!s){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:s,key:n}}function f(e){let t=null;if(e&&e.path&&e.path.length>0){if(Array.isArray(e.path))for(let n of e.path)r.existsSync(n)&&(t=n.endsWith(".vault")?n:`${n}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`}else t=n.resolve(process.cwd(),".env.vault");return r.existsSync(t)?t:null}function p(e){return"~"===e[0]?n.join(i.homedir(),e.slice(1)):e}var m={configDotenv:function(e){let t=n.resolve(process.cwd(),".env"),i="utf8",a=!!(e&&e.debug);e&&e.encoding?i=e.encoding:a&&u("No encoding is specified. UTF-8 is used by default");let s=[t];if(e&&e.path){if(Array.isArray(e.path))for(let t of(s=[],e.path))s.push(p(t));else s=[p(e.path)]}let o,l={};for(let t of s)try{let n=m.parse(r.readFileSync(t,{encoding:i}));m.populate(l,n,e)}catch(e){a&&u(`Failed to load ${t} ${e.message}`),o=e}let c=process.env;return e&&null!=e.processEnv&&(c=e.processEnv),m.populate(c,l,e),o?{parsed:l,error:o}:{parsed:l}},_configVault:function(e){l("Loading env from encrypted .env.vault");let t=m._parseVault(e),r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),m.populate(r,t,e),{parsed:t}},_parseVault:function(e){let t=f(e),r=m.configDotenv({path:t});if(!r.parsed){let e=Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let n=d(e).split(","),i=n.length,a;for(let e=0;e<i;e++)try{let t=n[e].trim(),i=h(r,t);a=m.decrypt(i.ciphertext,i.key);break}catch(t){if(e+1>=i)throw t}return m.parse(a)},config:function(e){if(0===d(e).length)return m.configDotenv(e);let t=f(e);return t?m._configVault(e):(c(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),m.configDotenv(e))},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),i=n.subarray(0,12),s=n.subarray(-16);n=n.subarray(12,-16);try{let e=a.createDecipheriv("aes-256-gcm",r,i);return e.setAuthTag(s),`${e.update(n)}${e.final()}`}catch(n){let e=n instanceof RangeError,t="Invalid key length"===n.message,r="Unsupported state or unable to authenticate data"===n.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw n}},parse:function(e){let t,r={},n=e.toString();for(n=n.replace(/\r\n?/mg,`
`);null!=(t=o.exec(n));){let e=t[1],n=t[2]||"",i=(n=n.trim())[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===i&&(n=(n=n.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),r[e]=n}return r},populate:function(e,t,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===i&&(e[r]=t[r]),n&&u(!0===i?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=t[r]}};t.exports.configDotenv=m.configDotenv,t.exports._configVault=m._configVault,t.exports._parseVault=m._parseVault,t.exports.config=m.config,t.exports.decrypt=m.decrypt,t.exports.parse=m.parse,t.exports.populate=m.populate,t.exports=m}),Ps=K((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),Ts=K((e,t)=>{var r=Ps();t.exports=e=>{let t=r(e);if(0===t)return e;let n=RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(n,"")}}),Oi=K((e,t)=>{t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),ks=K((e,t)=>{t.exports=({onlyFirst:e=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",e?void 0:"g")}),Li=K((e,t)=>{var r=ks();t.exports=e=>"string"==typeof e?e.replace(r(),""):e}),_s=K((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let n=e[t];if(void 0!==n){if("labels"===t||"projects"===t){if(!Array.isArray(n))throw TypeError(`The \`${t}\` option should be an array`);n=n.join(",")}r.searchParams.set(t,n)}}return r.toString()},t.exports.default=t.exports}),Qi=K((e,t)=>{t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,a-=s,0===i||a<3)return a;var o,l,c,u,d,h,f,p,m,g,y,b,w=0,v=[];for(o=0;o<i;o++)v.push(o+1),v.push(t.charCodeAt(s+o));for(var _=v.length-1;w<a-3;)for(m=r.charCodeAt(s+(l=w)),g=r.charCodeAt(s+(c=w+1)),y=r.charCodeAt(s+(u=w+2)),b=r.charCodeAt(s+(d=w+3)),h=w+=4,o=0;o<_;o+=2)l=e(f=v[o],l,c,m,p=v[o+1]),c=e(l,c,u,g,p),u=e(c,u,d,y,p),h=e(u,d,h,b,p),v[o]=h,d=u,u=c,c=l,l=f;for(;w<a;)for(m=r.charCodeAt(s+(l=w)),h=++w,o=0;o<_;o+=2)f=v[o],v[o]=h=e(f,l,h,m,v[o+1]),l=f;return h}}()}),pf={};Wt(pf,{Debug:()=>ri,Decimal:()=>Ce,Extensions:()=>Kn,MetricsClient:()=>Dt,PrismaClientInitializationError:()=>C,PrismaClientKnownRequestError:()=>te,PrismaClientRustPanicError:()=>pe,PrismaClientUnknownRequestError:()=>U,PrismaClientValidationError:()=>re,Public:()=>Yn,Sql:()=>le,createParam:()=>xa,defineDmmfProperty:()=>Aa,deserializeJsonResponse:()=>Pt,deserializeRawResult:()=>Jn,dmmfToRuntimeDataModel:()=>Sa,empty:()=>Oa,getPrismaClient:()=>cu,getRuntime:()=>Fn,join:()=>ka,makeStrictEnum:()=>pu,makeTypedQueryFactory:()=>Ia,objectEnumValues:()=>Pn,raw:()=>Xi,serializeJsonQuery:()=>In,skip:()=>An,sqltag:()=>eo,warnEnvConflicts:()=>du,warnOnce:()=>or}),module.exports=bu(pf);var Kn={};function Io(e){return"function"==typeof e?e:t=>t.$extends(e)}function ko(e){return e}Wt(Kn,{defineExtension:()=>Io,getExtensionContext:()=>ko});var Yn={};function Oo(...e){return e=>e}function zn(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function qr(e){return{ok:!0,value:e,map:t=>qr(t(e)),flatMap:t=>t(e)}}function nt(e){return{ok:!1,error:e,map:()=>nt(e),flatMap:()=>nt(e)}}Wt(Yn,{validator:()=>Oo});var Zn=class{constructor(){d(this,"registeredErrors",[])}consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},Xn=e=>{let t=new Zn,r=me(t,e.transactionContext.bind(e)),n={adapterName:e.adapterName,errorRegistry:t,queryRaw:me(t,e.queryRaw.bind(e)),executeRaw:me(t,e.executeRaw.bind(e)),executeScript:me(t,e.executeScript.bind(e)),dispose:me(t,e.dispose.bind(e)),provider:e.provider,transactionContext:async(...e)=>(await r(...e)).map(e=>wu(t,e))};return e.getConnectionInfo&&(n.getConnectionInfo=Pu(t,e.getConnectionInfo.bind(e))),n},wu=(e,t)=>{let r=me(e,t.startTransaction.bind(t));return{adapterName:t.adapterName,provider:t.provider,queryRaw:me(e,t.queryRaw.bind(t)),executeRaw:me(e,t.executeRaw.bind(t)),startTransaction:async(...t)=>(await r(...t)).map(t=>xu(e,t))}},xu=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:me(e,t.queryRaw.bind(t)),executeRaw:me(e,t.executeRaw.bind(t)),commit:me(e,t.commit.bind(t)),rollback:me(e,t.rollback.bind(t))});function me(e,t){return async(...r)=>{try{return qr(await t(...r))}catch(t){if(zn(t))return nt(t.cause);return nt({kind:"GenericJs",id:e.registerNewError(t)})}}}function Pu(e,t){return(...r)=>{try{return qr(t(...r))}catch(t){if(zn(t))return nt(t.cause);return nt({kind:"GenericJs",id:e.registerNewError(t)})}}}var Vr={};Wt(Vr,{$:()=>Fo,bgBlack:()=>_u,bgBlue:()=>Fu,bgCyan:()=>$u,bgGreen:()=>Nu,bgMagenta:()=>Mu,bgRed:()=>Du,bgWhite:()=>qu,bgYellow:()=>Lu,black:()=>Au,blue:()=>it,bold:()=>Y,cyan:()=>Ne,dim:()=>_e,gray:()=>Ht,green:()=>je,grey:()=>Ou,hidden:()=>Ru,inverse:()=>Cu,italic:()=>Tu,magenta:()=>Iu,red:()=>fe,reset:()=>vu,strikethrough:()=>Su,underline:()=>ee,white:()=>ku,yellow:()=>De});var ei,_o,Do,No,Lo=!0;"u">typeof process&&({FORCE_COLOR:ei,NODE_DISABLE_COLORS:_o,NO_COLOR:Do,TERM:No}=process.env||{},Lo=process.stdout&&process.stdout.isTTY);var Fo={enabled:!_o&&null==Do&&"dumb"!==No&&(null!=ei&&"0"!==ei||Lo)};function q(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return Fo.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}var vu=q(0,0),Y=q(1,22),_e=q(2,22),Tu=q(3,23),ee=q(4,24),Cu=q(7,27),Ru=q(8,28),Su=q(9,29),Au=q(30,39),fe=q(31,39),je=q(32,39),De=q(33,39),it=q(34,39),Iu=q(35,39),Ne=q(36,39),ku=q(37,39),Ht=q(90,39),Ou=q(90,39),_u=q(40,49),Du=q(41,49),Nu=q(42,49),Lu=q(43,49),Fu=q(44,49),Mu=q(45,49),$u=q(46,49),qu=q(47,49),Vu=100,Mo=["green","yellow","blue","magenta","cyan","red"],Kt=[],$o=Date.now(),ju=0,ti="u">typeof process?process.env:{};globalThis.DEBUG??=ti.DEBUG??"",globalThis.DEBUG_COLORS??=!ti.DEBUG_COLORS||"true"===ti.DEBUG_COLORS;var Yt={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Bu(e){let t={color:Mo[ju++%Mo.length],enabled:Yt.enabled(e),namespace:e,log:Yt.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&Kt.push([n,...e]),Kt.length>Vu&&Kt.shift(),Yt.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:Uu(e)),r=`+${Date.now()-$o}ms`;$o=Date.now(),globalThis.DEBUG_COLORS?a(Vr[i](Y(n)),...t,Vr[i](r)):a(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})}var ri=new Proxy(Bu,{get:(e,t)=>Yt[t],set:(e,t,r)=>Yt[t]=r});function Uu(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}function qo(e=7500){let t=Kt.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function Vo(){Kt.length=0}var M=ri,jo=D(__webpack_require__(704));function ni(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&jo.default.existsSync(e))&&"ia32"===process.arch)throw Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var ii=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],jr="libquery_engine";function Br(e,t){let r="url"===t;return e.includes("windows")?r?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?r?`${jr}.dylib.node`:`${jr}-${e}.dylib.node`:r?`${jr}.so.node`:`${jr}-${e}.so.node`}var Go=D(__webpack_require__(745)),ui=D(__webpack_require__(799)),Wr=D(__webpack_require__(485)),Le=Symbol.for("@ts-pattern/matcher"),Qu=Symbol.for("@ts-pattern/isVariadic"),Qr="@ts-pattern/anonymous-select-key",oi=e=>!!(e&&"object"==typeof e),Ur=e=>e&&!!e[Le],Pe=(e,t,r)=>{if(Ur(e)){let{matched:n,selections:i}=e[Le]().match(t);return n&&i&&Object.keys(i).forEach(e=>r(e,i[e])),n}if(oi(e)){if(!oi(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],a=[];for(let t of e.keys()){let r=e[t];Ur(r)&&r[Qu]?a.push(r):a.length?i.push(r):n.push(r)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;let e=t.slice(0,n.length),s=0===i.length?[]:t.slice(-i.length),o=t.slice(n.length,0===i.length?1/0:-i.length);return n.every((t,n)=>Pe(t,e[n],r))&&i.every((e,t)=>Pe(e,s[t],r))&&(0===a.length||Pe(a[0],o,r))}return e.length===t.length&&e.every((e,n)=>Pe(e,t[n],r))}return Reflect.ownKeys(e).every(n=>{var i;let a=e[n];return(n in t||Ur(i=a)&&"optional"===i[Le]().matcherType)&&Pe(a,t[n],r)})}return Object.is(t,e)},Je=e=>{var t,r,n;return oi(e)?Ur(e)?null!=(t=null==(r=(n=e[Le]()).getSelectionKeys)?void 0:r.call(n))?t:[]:Array.isArray(e)?zt(e,Je):zt(Object.values(e),Je):[]},zt=(e,t)=>e.reduce((e,r)=>e.concat(t(r)),[]);function ge(e){return Object.assign(e,{optional:()=>Gu(e),and:t=>B(e,t),or:t=>Ju(e,t),select:t=>void 0===t?Bo(e):Bo(t,e)})}function Gu(e){return ge({[Le]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return void 0===t?(Je(e).forEach(e=>n(e,void 0)),{matched:!0,selections:r}):{matched:Pe(e,t,n),selections:r}},getSelectionKeys:()=>Je(e),matcherType:"optional"})})}function B(...e){return ge({[Le]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return{matched:e.every(e=>Pe(e,t,n)),selections:r}},getSelectionKeys:()=>zt(e,Je),matcherType:"and"})})}function Ju(...e){return ge({[Le]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return zt(e,Je).forEach(e=>n(e,void 0)),{matched:e.some(e=>Pe(e,t,n)),selections:r}},getSelectionKeys:()=>zt(e,Je),matcherType:"or"})})}function k(e){return{[Le]:()=>({match:t=>({matched:!!e(t)})})}}function Bo(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return ge({[Le]:()=>({match:e=>{let n={[t??Qr]:e};return{matched:void 0===r||Pe(r,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[t??Qr].concat(void 0===r?[]:Je(r))})})}function we(e){return"number"==typeof e}function Be(e){return"string"==typeof e}function Ue(e){return"bigint"==typeof e}var Nf=ge(k(function(e){return!0})),Qe=e=>Object.assign(ge(e),{startsWith:t=>{var r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.startsWith(r)))))},endsWith:t=>{var r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.endsWith(r)))))},minLength:t=>{let r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.length>=r))))},length:t=>{let r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.length===r))))},maxLength:t=>{let r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.length<=r))))},includes:t=>{var r;return Qe(B(e,(r=t,k(e=>Be(e)&&e.includes(r)))))},regex:t=>{var r;return Qe(B(e,(r=t,k(e=>Be(e)&&!!e.match(r)))))}}),Lf=Qe(k(Be)),xe=e=>Object.assign(ge(e),{between:(t,r)=>{let n,i;return xe(B(e,(n=t,i=r,k(e=>we(e)&&n<=e&&i>=e))))},lt:t=>{let r;return xe(B(e,(r=t,k(e=>we(e)&&e<r))))},gt:t=>{let r;return xe(B(e,(r=t,k(e=>we(e)&&e>r))))},lte:t=>{let r;return xe(B(e,(r=t,k(e=>we(e)&&e<=r))))},gte:t=>{let r;return xe(B(e,(r=t,k(e=>we(e)&&e>=r))))},int:()=>xe(B(e,k(e=>we(e)&&Number.isInteger(e)))),finite:()=>xe(B(e,k(e=>we(e)&&Number.isFinite(e)))),positive:()=>xe(B(e,k(e=>we(e)&&e>0))),negative:()=>xe(B(e,k(e=>we(e)&&e<0)))}),Ff=xe(k(we)),Ge=e=>Object.assign(ge(e),{between:(t,r)=>{let n,i;return Ge(B(e,(n=t,i=r,k(e=>Ue(e)&&n<=e&&i>=e))))},lt:t=>{let r;return Ge(B(e,(r=t,k(e=>Ue(e)&&e<r))))},gt:t=>{let r;return Ge(B(e,(r=t,k(e=>Ue(e)&&e>r))))},lte:t=>{let r;return Ge(B(e,(r=t,k(e=>Ue(e)&&e<=r))))},gte:t=>{let r;return Ge(B(e,(r=t,k(e=>Ue(e)&&e>=r))))},positive:()=>Ge(B(e,k(e=>Ue(e)&&e>0))),negative:()=>Ge(B(e,k(e=>Ue(e)&&e<0)))}),Mf=Ge(k(Ue)),$f=ge(k(function(e){return"boolean"==typeof e})),qf=ge(k(function(e){return"symbol"==typeof e})),Vf=ge(k(function(e){return null==e})),jf=ge(k(function(e){return null!=e})),si=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},ai={matched:!1,value:void 0};function ft(e){return new li(e,ai)}var li=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],i;3===t.length&&"function"==typeof t[1]?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let a=!1,s={},o=(t,r)=>{a=!0,s[t]=r},l=n.some(t=>Pe(t,this.input,o))&&(!i||i(this.input))?{matched:!0,value:r(a?Qr in s?s[Qr]:s:this.input,this.input)}:ai;return new e(this.input,l)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new e(this.input,n?{matched:!0,value:r(this.input,this.input)}:ai)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new si(this.input)}run(){return this.exhaustive()}returnType(){return this}},Jo=__webpack_require__(37),Wu={warn:De("prisma:warn")},Hu={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Gr(e,...t){Hu.warn()&&console.warn(`${Wu.warn} ${e}`,...t)}var Ku=(0,Jo.promisify)(Go.default.exec),ie=M("prisma:get-platform"),Yu=["1.0.x","1.1.x","3.0.x"];async function Wo(){let e=Wr.default.platform(),t=process.arch;if("freebsd"===e){let e=await Hr("freebsd-version");if(e&&e.trim().length>0){let r=/^(\d+)\.?/.exec(e);if(r)return{platform:"freebsd",targetDistro:`freebsd${r[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let r=await Zu(),n=await sc(),i=ec({arch:t,archFromUname:n,familyDistro:r.familyDistro}),{libssl:a}=await tc(i);return{platform:"linux",libssl:a,arch:t,archFromUname:n,...r}}function zu(e){let t=/^ID_LIKE="?([^"\n]*)"?$/im,r=/^ID="?([^"\n]*)"?$/im.exec(e),n=r&&r[1]&&r[1].toLowerCase()||"",i=t.exec(e),a=ft({id:n,idLike:i&&i[1]&&i[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===n||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e}));return ie(`Found distro info:
${JSON.stringify(a,null,2)}`),a}async function Zu(){let e="/etc/os-release";try{let t=await ui.default.readFile(e,{encoding:"utf-8"});return zu(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Xu(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return Ho(`${t[1]}.x`)}function Uo(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return Ho(`${t[1]}${t[2]??".0"}.x`)}function Ho(e){let t=(()=>{if(Yo(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(Yu.includes(t))return t}function ec(e){return ft(e).with({familyDistro:"musl"},()=>(ie('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(ie('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(ie('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:r})=>(ie(`Don't know any platform-specific paths for "${e}" on ${t} (${r})`),[]))}async function tc(e){let t='grep -v "libssl.so.0"',r=await Qo(e);if(r){ie(`Found libssl.so file using platform-specific paths: ${r}`);let e=Uo(r);if(ie(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}ie('Falling back to "ldconfig" and other generic paths');let n=await Hr(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(n||(n=await Qo(["/lib64","/usr/lib64","/lib","/usr/lib"])),n){ie(`Found libssl.so file using "ldconfig" or other generic paths: ${n}`);let e=Uo(n);if(ie(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let i=await Hr("openssl version -v");if(i){ie(`Found openssl binary with version: ${i}`);let e=Xu(i);if(ie(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return ie("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function Qo(e){for(let t of e){let e=await rc(t);if(e)return e}}async function rc(e){try{return(await ui.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function ot(){let{binaryTarget:e}=await Ko();return e}function nc(e){return void 0!==e.binaryTarget}async function ci(){let{memoized:e,...t}=await Ko();return t}var Jr={};async function Ko(){if(nc(Jr))return Promise.resolve({...Jr,memoized:!0});let e=await Wo(),t=ic(e);return{...Jr={...e,binaryTarget:t},memoized:!1}}function ic(e){let{platform:t,arch:r,archFromUname:n,libssl:i,targetDistro:a,familyDistro:s,originalDistro:o}=e;"linux"!==t||["x64","arm64"].includes(r)||Gr(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let l="1.1.x";if("linux"===t&&void 0===i){let e=ft({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");Gr(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${e}`)}let c="debian";if("linux"===t&&void 0===a&&ie(`Distro is "${o}". Falling back to Prisma engines built for "${c}".`),"darwin"===t&&"arm64"===r)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return a;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===a)return"linux-nixos";if("linux"===t&&"arm64"===r)return`${"musl"===a?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if("linux"===t&&"arm"===r)return`linux-arm-openssl-${i||l}`;if("linux"===t&&"musl"===a){let e="linux-musl";return!i||Yo(i)?e:`${e}-openssl-${i}`}return"linux"===t&&a&&i?`${a}-openssl-${i}`:("linux"!==t&&Gr(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${c}-openssl-${i}`:a?`${a}-openssl-${l}`:`${c}-openssl-${l}`)}async function oc(e){try{return await e()}catch{return}}function Hr(e){return oc(async()=>{let t=await Ku(e);return ie(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function sc(){return"function"==typeof Wr.default.machine?Wr.default.machine():(await Hr("uname -m"))?.trim()}function Yo(e){return e.startsWith("1.")}var ls=D(as());function yi(e){return(0,ls.default)(e,e,{fallback:ee})}var dc=us(),Ei=dc.version,fc=D(wi()),V=D(__webpack_require__(112)),gc=D(wi()),xg=M("prisma:engines");function cs(){return V.default.join(__dirname,"../")}var Pg="libquery-engine";V.default.join(__dirname,"../query-engine-darwin"),V.default.join(__dirname,"../query-engine-darwin-arm64"),V.default.join(__dirname,"../query-engine-debian-openssl-1.0.x"),V.default.join(__dirname,"../query-engine-debian-openssl-1.1.x"),V.default.join(__dirname,"../query-engine-debian-openssl-3.0.x"),V.default.join(__dirname,"../query-engine-linux-static-x64"),V.default.join(__dirname,"../query-engine-linux-static-arm64"),V.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x"),V.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x"),V.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x"),V.default.join(__dirname,"../libquery_engine-darwin.dylib.node"),V.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node"),V.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node"),V.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),V.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-linux-musl.so.node"),V.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node"),V.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node"),V.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node"),V.default.join(__dirname,"../query_engine-windows.dll.node");var xi=D(__webpack_require__(704)),ps=M("chmodPlusX");function Pi(e){if("win32"===process.platform)return;let t=xi.default.statSync(e),r=73|t.mode;if(t.mode===r){ps(`Execution permissions of ${e} are fine`);return}let n=r.toString(8).slice(-3);ps(`Have to call chmodPlusX on ${e}`),xi.default.chmodSync(e,n)}function vi(e){let t=e.e,r=e=>`Prisma cannot find the required \`${e}\` system library in your system`,n=t.message.includes("cannot open shared object file"),i=`Please refer to the documentation about Prisma's system requirements: ${yi("https://pris.ly/d/system-requirements")}`,a=`Unable to require(\`${_e(e.id)}\`).`,s=ft({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>n&&e.includes("libz"),()=>`${r("libz")}. Please install it and try again.`).when(({message:e})=>n&&e.includes("libgcc_s"),()=>`${r("libgcc_s")}. Please install it and try again.`).when(({message:e})=>n&&e.includes("libssl"),()=>{let t=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${r("libssl")}. Please install ${t} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${i}`).when(({message:t})=>"linux"===e.platformInfo.platform&&t.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${i}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${i}`);return`${a}
${s}

Details: ${t.message}`}var Ai=D(hs()),Zr=D(__webpack_require__(704)),yt=D(__webpack_require__(112));function ys(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(n,i){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(i);if(!a)return n;let s=a[1],o,l;if("\\"===s)o=(l=a[0]).replace("\\$","$");else{let n=a[2];l=a[0].substring(s.length),o=r(o=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n]||"")}return n.replace(l,o)},n)??n;for(let n in e.parsed){let i=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(i)}for(let r in e.parsed)t[r]=e.parsed[r];return e}var Si=M("prisma:tryLoadEnv");function er({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=Es(e);"none"!==r.conflictCheck&&Oc(n,t,r.conflictCheck);let i=null;return bs(n?.path,t)||(i=Es(t)),n||i||Si("No Environment variables loaded"),i?.dotenvResult.error?console.error(fe(Y("Schema Env Error: "))+i.dotenvResult.error):{message:[n?.message,i?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function Oc(e,t,r){let n=e?.dotenvResult.parsed,i=!bs(e?.path,t);if(n&&t&&i&&Zr.default.existsSync(t)){let i=Ai.default.parse(Zr.default.readFileSync(t)),a=[];for(let e in i)n[e]===i[e]&&a.push(e);if(a.length>0){let n=yt.default.relative(process.cwd(),e.path),i=yt.default.relative(process.cwd(),t);if("error"===r)throw Error(`There is a conflict between env var${a.length>1?"s":""} in ${ee(n)} and ${ee(i)}
Conflicting env vars:
${a.map(e=>`  ${Y(e)}`).join(`
`)}

We suggest to move the contents of ${ee(i)} to ${ee(n)} to consolidate your env vars.
`);if("warn"===r){let e=`Conflict for env var${a.length>1?"s":""} ${a.map(e=>Y(e)).join(", ")} in ${ee(n)} and ${ee(i)}
Env vars from ${ee(i)} overwrite the ones from ${ee(n)}
      `;console.warn(`${De("warn(prisma)")} ${e}`)}}}}function Es(e){return _c(e)?(Si(`Environment variables loaded from ${e}`),{dotenvResult:ys(Ai.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:_e(`Environment variables loaded from ${yt.default.relative(process.cwd(),e)}`),path:e}):(Si(`Environment variables not found at ${e}`),null)}function bs(e,t){return e&&t&&yt.default.resolve(e)===yt.default.resolve(t)}function _c(e){return!!(e&&Zr.default.existsSync(e))}var ws="library";function Et(e){return Dc()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":ws)}function Dc(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return"library"===e?"library":"binary"===e?"binary":"client"===e?"client":void 0}var Cs="prisma+postgres",Xr=`${Cs}:`;function Ii(e){return e?.startsWith(`${Xr}//`)??!1}(e=>{let t;(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw"))(t=e.ModelAction||={})})(tr||={});var rr=D(__webpack_require__(112));function ki(e){return rr.default.sep===rr.default.posix.sep?e:e.split(rr.default.sep).join(rr.default.posix.sep)}var Ss=D(Oi());function Di(e){return String(new _i(e))}var _i=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,binaryTargets:Lc(e.binaryTargets)}));return`generator ${e.name} {
${(0,Ss.default)(Fc(t),2)}
}`}};function Lc(e){let t;if(e.length>0){let r=e.find(e=>null!==e.fromEnvVar);t=r?`env("${r.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}function Fc(e){let t=Object.keys(e).reduce((e,t)=>Math.max(e,t.length),0);return Object.entries(e).map(([e,r])=>`${e.padEnd(t)} = ${Mc(r)}`).join(`
`)}function Mc(e){return JSON.parse(JSON.stringify(e,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}var ir={};Wt(ir,{error:()=>Vc,info:()=>qc,log:()=>$c,query:()=>jc,should:()=>As,tags:()=>nr,warn:()=>Ni});var nr={error:fe("prisma:error"),warn:De("prisma:warn"),info:Ne("prisma:info"),query:it("prisma:query")},As={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function $c(...e){console.log(...e)}function Ni(e,...t){As.warn()&&console.warn(`${nr.warn} ${e}`,...t)}function qc(e,...t){console.info(`${nr.info} ${e}`,...t)}function Vc(e,...t){console.error(`${nr.error} ${e}`,...t)}function jc(e,...t){console.log(`${nr.query} ${e}`,...t)}function en(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function Me(e,t){throw Error(t)}function Fi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mi=(e,t)=>e.reduce((e,r)=>(e[t(r)]=r,e),{});function bt(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function $i(e,t){if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)0>t(r,e[n])&&(r=e[n]);return r}function x(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Ds=new Set,or=(e,t,...r)=>{Ds.has(e)||(Ds.add(e),Ni(t,...r))},C=class e extends Error{constructor(t,r,n){super(t),d(this,"clientVersion"),d(this,"errorCode"),d(this,"retryable"),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};x(C,"PrismaClientInitializationError");var te=class extends Error{constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),d(this,"code"),d(this,"meta"),d(this,"clientVersion"),d(this,"batchRequestIdx"),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};x(te,"PrismaClientKnownRequestError");var pe=class extends Error{constructor(e,t){super(e),d(this,"clientVersion"),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};x(pe,"PrismaClientRustPanicError");var U=class extends Error{constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),d(this,"clientVersion"),d(this,"batchRequestIdx"),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};x(U,"PrismaClientUnknownRequestError");var re=class extends Error{constructor(e,{clientVersion:t}){super(e),d(this,"name","PrismaClientValidationError"),d(this,"clientVersion"),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};x(re,"PrismaClientValidationError");var tr,Ms,$e,wt=9e15,ze=1e9,qi="0123456789abcdef",sn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",an="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Vi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-wt,maxE:wt,crypto:!1},w=!0,un="[DecimalError] ",Ye=un+"Invalid argument: ",$s=un+"Precision limit exceeded",qs=un+"crypto unavailable",Vs="[object Decimal]",ne=Math.floor,J=Math.pow,Uc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Qc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Gc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,js=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ye=1e7,b=7,Jc=0x1fffffffffffff,Wc=sn.length-1,ji=an.length-1,f={toStringTag:Vs};function z(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=b-(n=e[t]+"").length)&&(a+=He(r)),a+=n;(r=b-(n=(s=e[t])+"").length)&&(a+=He(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function ae(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ye+e)}function sr(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=b,i=0):(i=Math.ceil((t+1)/b),t%=b),a=J(10,b-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==J(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==J(10,t-3)-1,s}function nn(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=qi.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function Hc(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/pn(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=xt(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),E(e)},f.ceil=function(){return E(new this.constructor(this),this.e+1,2)},f.clampedTo=f.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(Ye+t);return 0>r.cmp(e)?e:r.cmp(t)>0?t:new n(r)},f.comparedTo=f.cmp=function(e){var t,r,n,i,a=this,s=a.d,o=(e=new a.constructor(e)).d,l=a.s,c=e.s;if(!s||!o)return l&&c?l!==c?l:s===o?0:!s^l<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?l:o[0]?-c:0;if(l!==c)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(n=s.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1},f.cosine=f.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+b,n.rounding=1,r=Hc(n,Js(n,r)),n.precision=e,n.rounding=t,E(2==$e||3==$e?r.neg():r,e,t,!0)):new n(1):new n(NaN)},f.cubeRoot=f.cbrt=function(){var e,t,r,n,i,a,s,o,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(w=!1,(a=u.s*J(u.s*u,1/3))&&Math.abs(a)!=1/0?n=new d(a.toString()):(r=z(u.d),(a=((e=u.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=J(r,1/3),e=ne((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=u.s),s=(e=d.precision)+3;;)if(n=$((c=(l=(o=n).times(o).times(o)).plus(u)).plus(u).times(o),c.plus(l),s+2,1),z(o.d).slice(0,s)===(r=z(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(E(n,e+1,1),t=!n.times(n).times(n).eq(u));break}if(!i&&(E(o,e+1,0),o.times(o).times(o).eq(u))){n=o;break}s+=4,i=1}return w=!0,E(n,e,d.rounding,t)},f.decimalPlaces=f.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-ne(this.e/b))*b,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},f.dividedBy=f.div=function(e){return $(this,new this.constructor(e))},f.dividedToIntegerBy=f.divToInt=function(e){var t=this,r=t.constructor;return E($(t,new r(e),0,1,1),r.precision,r.rounding)},f.equals=f.eq=function(e){return 0===this.cmp(e)},f.floor=function(){return E(new this.constructor(this),this.e+1,3)},f.greaterThan=f.gt=function(e){return this.cmp(e)>0},f.greaterThanOrEqualTo=f.gte=function(e){var t=this.cmp(e);return 1==t||0===t},f.hyperbolicCosine=f.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/pn(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=xt(s,1,a.times(t),new s(1),!0);for(var l,c=e,u=new s(8);c--;)l=a.times(a),a=o.minus(l.times(u.minus(l.times(u))));return E(a,s.precision=r,s.rounding=n,!0)},f.hyperbolicSine=f.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=xt(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=xt(a,2,i=i.times(1/pn(5,e)),i,!0);for(var s,o=new a(5),l=new a(16),c=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(c))))}return a.precision=t,a.rounding=r,E(i,t,r,!0)},f.hyperbolicTangent=f.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,$(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},f.inverseCosine=f.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?ve(t,n,i):new t(0):new t(NaN):e.isZero()?ve(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},f.inverseHyperbolicCosine=f.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,w=!1,r=r.times(r).minus(1).sqrt().plus(r),w=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},f.inverseHyperbolicSine=f.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,w=!1,r=r.times(r).plus(1).sqrt().plus(r),w=!0,n.precision=e,n.rounding=t,r.ln())},f.inverseHyperbolicTangent=f.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?E(new a(i),e,t,!0):(a.precision=r=n-i.e,i=$(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},f.inverseSine=f.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=ve(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},f.inverseTangent=f.atan=function(){var e,t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,h=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=ji)return(s=ve(u,d+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new u(NaN);if(d+4<=ji)return(s=ve(u,d+4,h).times(.5)).s=c.s,s}for(u.precision=o=d+10,u.rounding=1,e=r=Math.min(28,o/b+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(w=!1,t=Math.ceil(o/b),n=1,l=c.times(c),s=new u(c),i=c;-1!==e;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),w=!0,E(s,u.precision=d,u.rounding=h,!0)},f.isFinite=function(){return!!this.d},f.isInteger=f.isInt=function(){return!!this.d&&ne(this.e/b)>this.d.length-2},f.isNaN=function(){return!this.s},f.isNegative=f.isNeg=function(){return this.s<0},f.isPositive=f.isPos=function(){return this.s>0},f.isZero=function(){return!!this.d&&0===this.d[0]},f.lessThan=f.lt=function(e){return 0>this.cmp(e)},f.lessThanOrEqualTo=f.lte=function(e){return 1>this.cmp(e)},f.logarithm=f.log=function(e){var t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,h=u.rounding,f=5;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new u(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t){if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}}if(w=!1,sr((l=$(s=Ke(c,o=d+f),n=t?ln(u,o+10):Ke(e,o),o,1)).d,i=d,h))do if(o+=10,l=$(s=Ke(c,o),n=t?ln(u,o+10):Ke(e,o),o,1),!a){+z(l.d).slice(i+1,i+15)+1==1e14&&(l=E(l,d+1,0));break}while(sr(l.d,i+=10,h));return w=!0,E(l,d,h)},f.minus=f.sub=function(e){var t,r,n,i,a,s,o,l,c,u,d,h,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new p(e.d||f.s!==e.s?f:NaN):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,h=e.d,o=p.precision,l=p.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new p(3===l?-0:0);e=new p(f)}return w?E(e,o,l):e}if(r=ne(e.e/b),u=ne(f.e/b),c=c.slice(),a=u-r){for((d=a<0)?(t=c,a=-a,s=h.length):(t=h,r=u,s=c.length),a>(n=Math.max(Math.ceil(o/b),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=c.length)<(s=h.length))&&(s=n),n=0;n<s;n++)if(c[n]!=h[n]){d=c[n]<h[n];break}a=0}for(d&&(t=c,c=h,h=t,e.s=-e.s),s=c.length,n=h.length-s;n>0;--n)c[s++]=0;for(n=h.length;n>a;){if(c[--n]<h[n]){for(i=n;i&&0===c[--i];)c[i]=ye-1;--c[i],c[n]+=ye}c[n]-=h[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=cn(c,r),w?E(e,o,l):e):new p(3===l?-0:0)},f.modulo=f.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),r.d&&e.s&&(!e.d||e.d[0])?e.d&&(!r.d||r.d[0])?(w=!1,9==n.modulo?(t=$(r,e.abs(),0,3,1),t.s*=e.s):t=$(r,e,0,n.modulo,1),t=t.times(e),w=!0,r.minus(t)):E(new n(r),n.precision,n.rounding):new n(NaN)},f.naturalExponential=f.exp=function(){return Bi(this)},f.naturalLogarithm=f.ln=function(){return Ke(this)},f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s,E(e)},f.plus=f.add=function(e){var t,r,n,i,a,s,o,l,c,u,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,u=e.d,o=h.precision,l=h.rounding,!c[0]||!u[0])return u[0]||(e=new h(d)),w?E(e,o,l):e;if(a=ne(d.e/b),n=ne(e.e/b),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,s=u.length):(r=u,n=a,s=c.length),i>(s=(a=Math.ceil(o/b))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=c.length)-(i=u.length)<0&&(i=s,r=u,u=c,c=r),t=0;i;)t=(c[--i]=c[i]+u[i]+t)/ye|0,c[i]%=ye;for(t&&(c.unshift(t),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=cn(c,n),w?E(e,o,l):e},f.precision=f.sd=function(e){var t,r=this;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(Ye+e);return r.d?(t=Bs(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},f.round=function(){var e=this,t=e.constructor;return E(new t(e),e.e+1,t.rounding)},f.sine=f.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+b,n.rounding=1,r=Yc(n,Js(n,r)),n.precision=e,n.rounding=t,E($e>2?r.neg():r,e,t,!0)):new n(NaN)},f.squareRoot=f.sqrt=function(){var e,t,r,n,i,a,s=this,o=s.d,l=s.e,c=s.s,u=s.constructor;if(1!==c||!o||!o[0])return new u(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);for(w=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=z(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=ne((l+1)/2)-(l<0||l%2),n=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new u(c.toString()),r=(l=u.precision)+3;;)if(n=(a=n).plus($(s,a,r+2,1)).times(.5),z(a.d).slice(0,r)===(t=z(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(E(n,l+1,1),e=!n.times(n).eq(s));break}if(!i&&(E(a,l+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}return w=!0,E(n,l,u.rounding,e)},f.tangent=f.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=$(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,E(2==$e||4==$e?r.neg():r,e,t,!0)):new n(NaN)},f.times=f.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(e.s*=u.s,!h||!h[0]||!f||!f[0])return new d(e.s&&(!h||h[0]||f)&&(!f||f[0]||h)?h&&f?0*e.s:e.s/0:NaN);for(r=ne(u.e/b)+ne(e.e/b),(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,s=l,l=c,c=s),a=[],n=s=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+f[n]*h[i-n-1]+t,a[i--]=o%ye|0,t=o/ye|0;a[i]=(a[i]+t)%ye|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=cn(a,r),w?E(e,d.precision,d.rounding):e},f.toBinary=function(e,t){return Ui(this,2,e,t)},f.toDecimalPlaces=f.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(ae(e,0,ze),void 0===t?t=n.rounding:ae(t,0,8),E(r,e+r.e+1,t))},f.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Te(n,!0):(ae(e,0,ze),void 0===t?t=i.rounding:ae(t,0,8),r=Te(n=E(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},f.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=Te(i):(ae(e,0,ze),void 0===t?t=a.rounding:ae(t,0,8),r=Te(n=E(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},f.toFraction=function(e){var t,r,n,i,a,s,o,l,c,u,d,h,f=this,p=f.d,m=f.constructor;if(!p)return new m(f);if(c=r=new m(1),n=l=new m(0),s=(a=(t=new m(n)).e=Bs(p)-f.e-1)%b,t.d[0]=J(10,s<0?b+s:s),null==e)e=a>0?t:c;else{if(!(o=new m(e)).isInt()||o.lt(c))throw Error(Ye+o);e=o.gt(t)?a>0?t:c:o}for(w=!1,o=new m(z(p)),u=m.precision,m.precision=a=p.length*b*2;d=$(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=c,c=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=$(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=f.s,h=1>$(c,n,a,1).minus(f).abs().cmp($(l,r,a,1).minus(f).abs())?[c,n]:[l,r],m.precision=u,w=!0,h},f.toHexadecimal=f.toHex=function(e,t){return Ui(this,16,e,t)},f.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:ae(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(w=!1,r=$(r,e,0,t,1).times(e),w=!0,E(r)):(e.s=r.s,r=e),r},f.toNumber=function(){return+this},f.toOctal=function(e,t){return Ui(this,8,e,t)},f.toPower=f.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(J(+o,c));if((o=new l(o)).eq(1))return o;if(n=l.precision,a=l.rounding,e.eq(1))return E(o,n,a);if((t=ne(e.e/b))>=e.d.length-1&&(r=c<0?-c:c)<=Jc)return i=Us(l,o,r,n),e.s<0?new l(1).div(i):E(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new l(NaN);if(1&e.d[t]||(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=J(+o,c))&&isFinite(r)?new l(r+"").e:ne(c*(Math.log("0."+z(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(w=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=Bi(e.times(Ke(o,n+r)),n)).d&&sr((i=E(i,n+5,1)).d,n,a)&&(t=n+10,+z((i=E(Bi(e.times(Ke(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=E(i,n+1,0))),i.s=s,w=!0,l.rounding=a,E(i,n,a))},f.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Te(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ae(e,1,ze),void 0===t?t=i.rounding:ae(t,0,8),r=Te(n=E(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},f.toSignificantDigits=f.toSD=function(e,t){var r=this,n=r.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ae(e,1,ze),void 0===t?t=n.rounding:ae(t,0,8)),E(new n(r),e,t)},f.toString=function(){var e=this,t=e.constructor,r=Te(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},f.truncated=f.trunc=function(){return E(new this.constructor(this),this.e+1,1)},f.valueOf=f.toJSON=function(){var e=this,t=e.constructor,r=Te(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var $=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,l){var c,u,d,h,f,p,m,g,y,w,v,_,x,S,k,P,A,T,O,R,C=n.constructor,N=n.s==i.s?1:-1,I=n.d,$=i.d;if(!I||!I[0]||!$||!$[0])return new C(n.s&&i.s&&(I?!$||I[0]!=$[0]:$)?I&&0==I[0]||!$?0*N:N/0:NaN);for(l?(f=1,u=n.e-i.e):(l=ye,f=b,u=ne(n.e/f)-ne(i.e/f)),O=$.length,A=I.length,w=(y=new C(N)).d=[],d=0;$[d]==(I[d]||0);d++);if($[d]>(I[d]||0)&&u--,null==a?(S=a=C.precision,s=C.rounding):S=o?a+(n.e-i.e)+1:a,S<0)w.push(1),p=!0;else{if(S=S/f+2|0,d=0,1==O){for(h=0,$=$[0],S++;(d<A||h)&&S--;d++)k=h*l+(I[d]||0),w[d]=k/$|0,h=k%$|0;p=h||d<A}else{for((h=l/($[0]+1)|0)>1&&($=e($,h,l),I=e(I,h,l),O=$.length,A=I.length),P=O,_=(v=I.slice(0,O)).length;_<O;)v[_++]=0;(R=$.slice()).unshift(0),T=$[0],$[1]>=l/2&&++T;do h=0,(c=t($,v,O,_))<0?(x=v[0],O!=_&&(x=x*l+(v[1]||0)),(h=x/T|0)>1?(h>=l&&(h=l-1),g=(m=e($,h,l)).length,_=v.length,1==(c=t(m,v,g,_))&&(h--,r(m,O<g?R:$,g,l))):(0==h&&(c=h=1),m=$.slice()),(g=m.length)<_&&m.unshift(0),r(v,m,_,l),-1==c&&(_=v.length,(c=t($,v,O,_))<1&&(h++,r(v,O<_?R:$,_,l))),_=v.length):0===c&&(h++,v=[0]),w[d++]=h,c&&v[0]?v[_++]=I[P]||0:(v=[I[P]],_=1);while((P++<A||void 0!==v[0])&&S--);p=void 0!==v[0]}w[0]||w.shift()}if(1==f)y.e=u,Ms=p;else{for(d=1,h=w[0];h>=10;h/=10)d++;y.e=d+u*f-1,E(y,o?a+y.e+1:a,s,p)}return y}}();function E(e,t,r,n){var i,a,s,o,l,c,u,d,h,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=b,s=t,l=(u=d[h=0])/J(10,i-s-1)%10|0;else if((h=Math.ceil((a+1)/b))>=(o=d.length)){if(n){for(;o++<=h;)d.push(0);u=l=0,i=1,a%=b,s=a-b+1}else break e}else{for(u=o=d[h],i=1;o>=10;o/=10)i++;a%=b,l=(s=a-b+i)<0?0:u/J(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[h+1]||(s<0?u:u%J(10,i-s-1)),c=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?s>0?u/J(10,i-s):0:d[h-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=J(10,(b-t%b)%b),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=h,o=1,h--):(d.length=h+1,o=J(10,b-a),d[h]=s>0?(u/J(10,i-s)%J(10,s)|0)*o:0),c)for(;;)if(0==h){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,d[0]==ye&&(d[0]=1));break}else{if(d[h]+=o,d[h]!=ye)break;d[h--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return w&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function Te(e,t,r){if(!e.isFinite())return Gs(e);var n,i=e.e,a=z(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+He(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+He(-i-1)+a,r&&(n=r-s)>0&&(a+=He(n))):i>=s?(a+=He(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+He(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=He(n))),a}function cn(e,t){var r=e[0];for(t*=b;r>=10;r/=10)t++;return t}function ln(e,t,r){if(t>Wc)throw w=!0,r&&(e.precision=r),Error($s);return E(new e(sn),t,1,!0)}function ve(e,t,r){if(t>ji)throw Error($s);return E(new e(an),t,r,!0)}function Bs(e){var t=e.length-1,r=t*b+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function He(e){for(var t="";e--;)t+="0";return t}function Us(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/b+4);for(w=!1;;){if(r%2&&Ls((a=a.times(t)).d,s)&&(i=!0),0===(r=ne(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}Ls((t=t.times(t)).d,s)}return w=!0,a}function Ns(e){return 1&e.d[e.d.length-1]}function Qs(e,t,r){for(var n,i,a=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function Bi(e,t){var r,n,i,a,s,o,l,c=0,u=0,d=0,h=e.constructor,f=h.rounding,p=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(w=!1,l=p):l=t,o=new h(.03125);e.e>-2;)e=e.times(o),d+=5;for(l+=n=Math.log(J(2,d))/Math.LN10*2+5|0,r=a=s=new h(1),h.precision=l;;){if(a=E(a.times(e),l,1),r=r.times(++u),z((o=s.plus($(a,r,l,1))).d).slice(0,l)===z(s.d).slice(0,l)){for(i=d;i--;)s=E(s.times(s),l,1);if(null!=t)return h.precision=p,s;if(!(c<3&&sr(s.d,l-n,f,c)))return E(s,h.precision=p,f,w=!0);h.precision=l+=10,r=a=o=new h(1),u=0,c++}s=o}}function Ke(e,t){var r,n,i,a,s,o,l,c,u,d,h,f=1,p=10,m=e,g=m.d,y=m.constructor,b=y.rounding,v=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(w=!1,u=v):u=t,y.precision=u+=p,n=(r=z(g)).charAt(0),!(15e14>Math.abs(a=m.e)))return c=ln(y,u+2,v).times(a+""),m=Ke(new y(n+"."+r.slice(1)),u-p).plus(c),y.precision=v,null==t?E(m,v,b,w=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=z((m=m.times(e)).d)).charAt(0),f++;for(a=m.e,n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1)),d=m,l=s=m=$(m.minus(1),m.plus(1),u,1),h=E(m.times(m),u,1),i=3;;){if(s=E(s.times(h),u,1),z((c=l.plus($(s,new y(i),u,1))).d).slice(0,u)===z(l.d).slice(0,u)){if(l=l.times(2),0!==a&&(l=l.plus(ln(y,u+2,v).times(a+""))),l=$(l,new y(f),u,1),null!=t)return y.precision=v,l;if(!sr(l.d,u-p,b,o))return E(l,y.precision=v,b,w=!0);y.precision=u+=p,c=s=m=$(d.minus(1),d.plus(1),u,1),h=E(m.times(m),u,1),i=o=1}l=c,i+=2}}function Gs(e){return String(e.s*e.s/0)}function on(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%b,r<0&&(n+=b),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=b;n<i;)e.d.push(+t.slice(n,n+=b));n=b-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),w&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Kc(e,t){var r,n,i,a,s,o,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),js.test(t))return on(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Qc.test(t))r=16,t=t.toLowerCase();else if(Uc.test(t))r=2;else if(Gc.test(t))r=8;else throw Error(Ye+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=Us(n,new n(r),a,2*a)),a=u=(c=nn(t,r,ye)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=cn(c,u),e.d=c,w=!1,s&&(e=$(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?J(2,l):st.pow(2,l))),w=!0,e)}function Yc(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:xt(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=xt(e,2,t=t.times(1/pn(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}function xt(e,t,r,n,i){var a,s,o,l,c=e.precision,u=Math.ceil(c/b);for(w=!1,l=r.times(r),o=new e(n);;){if(s=$(o.times(l),new e(t++*t++),c,1),o=i?n.plus(s):n.minus(s),n=$(s.times(l),new e(t++*t++),c,1),void 0!==(s=o.plus(n)).d[u]){for(a=u;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return w=!0,s.d.length=u+1,s}function pn(e,t){for(var r=e;--t;)r*=e;return r}function Js(e,t){var r,n=t.s<0,i=ve(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return $e=n?4:1,t;if((r=t.divToInt(i)).isZero())$e=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return $e=Ns(r)?n?2:3:n?4:1,t;$e=Ns(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Ui(e,t,r,n){var i,a,s,o,l,c,u,d,h,f=e.constructor,p=void 0!==r;if(p?(ae(r,1,ze),void 0===n?n=f.rounding:ae(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(s=(u=Te(e)).indexOf("."),p?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(u=u.replace(".",""),(h=new f(1)).e=u.length-s,h.d=nn(Te(h),10,i),h.e=h.d.length),a=l=(d=nn(u,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?a--:((e=new f(e)).d=d,e.e=a,d=(e=$(e,h,r,n,0,i)).d,a=e.e,c=Ms),s=d[r],o=i/2,c=c||void 0!==d[r+1],c=n<4?(void 0!==s||c)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||c||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,c)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,u="";s<l;s++)u+=qi.charAt(d[s]);if(p){if(l>1){if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)u+="0";for(l=(d=nn(u,i,t)).length;!d[l-1];--l);for(s=1,u="1.";s<l;s++)u+=qi.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1)}u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>l)for(a-=l;a--;)u+="0";else a<l&&(u=u.slice(0,a)+"."+u.slice(a))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=Gs(e);return e.s<0?"-"+u:u}function Ls(e,t){if(e.length>t)return e.length=t,!0}function zc(e){return new this(e).abs()}function Zc(e){return new this(e).acos()}function Xc(e){return new this(e).acosh()}function ep(e,t){return new this(e).plus(t)}function tp(e){return new this(e).asin()}function rp(e){return new this(e).asinh()}function np(e){return new this(e).atan()}function ip(e){return new this(e).atanh()}function op(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?ve(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=ve(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan($(e,t,a,1)),t=ve(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan($(e,t,a,1)):(r=ve(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function sp(e){return new this(e).cbrt()}function ap(e){return E(e=new this(e),e.e+1,2)}function lp(e,t,r){return new this(e).clamp(t,r)}function up(e){if(!e||"object"!=typeof e)throw Error(un+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,ze,"rounding",0,8,"toExpNeg",-wt,0,"toExpPos",0,wt,"maxE",0,wt,"minE",-wt,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=Vi[r]),void 0!==(n=e[r])){if(ne(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ye+r+": "+n)}if(r="crypto",i&&(this[r]=Vi[r]),void 0!==(n=e[r])){if(!0===n||!1===n||0===n||1===n){if(n){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(qs)}else this[r]=!1}else throw Error(Ye+r+": "+n)}return this}function cp(e){return new this(e).cos()}function pp(e){return new this(e).cosh()}function Ws(e){var t,r,n;function i(e){var t,r,n,a=this;if(!(a instanceof i))return new i(e);if(a.constructor=i,Fs(e)){a.s=e.s,w?!e.d||e.e>i.maxE?(a.e=NaN,a.d=null):e.e<i.minE?(a.e=0,a.d=[0]):(a.e=e.e,a.d=e.d.slice()):(a.e=e.e,a.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){a.s=1/e<0?-1:1,a.e=0,a.d=[0];return}if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;w?t>i.maxE?(a.e=NaN,a.d=null):t<i.minE?(a.e=0,a.d=[0]):(a.e=t,a.d=[e]):(a.e=t,a.d=[e]);return}if(0*e!=0){e||(a.s=NaN),a.e=NaN,a.d=null;return}return on(a,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),a.s=-1):(43===r&&(e=e.slice(1)),a.s=1),js.test(e)?on(a,e):Kc(a,e);if("bigint"===n)return e<0?(e=-e,a.s=-1):a.s=1,on(a,e.toString());throw Error(Ye+e)}if(i.prototype=f,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=up,i.clone=Ws,i.isDecimal=Fs,i.abs=zc,i.acos=Zc,i.acosh=Xc,i.add=ep,i.asin=tp,i.asinh=rp,i.atan=np,i.atanh=ip,i.atan2=op,i.cbrt=sp,i.ceil=ap,i.clamp=lp,i.cos=cp,i.cosh=pp,i.div=dp,i.exp=mp,i.floor=fp,i.hypot=gp,i.ln=hp,i.log=yp,i.log10=bp,i.log2=Ep,i.max=wp,i.min=xp,i.mod=Pp,i.mul=vp,i.pow=Tp,i.random=Cp,i.round=Rp,i.sign=Sp,i.sin=Ap,i.sinh=Ip,i.sqrt=kp,i.sub=Op,i.sum=_p,i.tan=Dp,i.tanh=Np,i.trunc=Lp,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dp(e,t){return new this(e).div(t)}function mp(e){return new this(e).exp()}function fp(e){return E(e=new this(e),e.e+1,3)}function gp(){var e,t,r=new this(0);for(w=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return w=!0,new this(1/0);r=t}return w=!0,r.sqrt()}function Fs(e){return e instanceof st||e&&e.toStringTag===Vs||!1}function hp(e){return new this(e).ln()}function yp(e,t){return new this(e).log(t)}function Ep(e){return new this(e).log(2)}function bp(e){return new this(e).log(10)}function wp(){return Qs(this,arguments,-1)}function xp(){return Qs(this,arguments,1)}function Pp(e,t){return new this(e).mod(t)}function vp(e,t){return new this(e).mul(t)}function Tp(e,t){return new this(e).pow(t)}function Cp(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:ae(e,1,ze),n=Math.ceil(e/b),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(qs)}else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=b,n&&e&&(i=J(10,b-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=b)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<b&&(r-=b-n)}return s.e=r,s.d=o,s}function Rp(e){return E(e=new this(e),e.e+1,this.rounding)}function Sp(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ap(e){return new this(e).sin()}function Ip(e){return new this(e).sinh()}function kp(e){return new this(e).sqrt()}function Op(e,t){return new this(e).sub(t)}function _p(){var e=0,t=arguments,r=new this(t[0]);for(w=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return w=!0,E(r,this.precision,this.rounding)}function Dp(e){return new this(e).tan()}function Np(e){return new this(e).tanh()}function Lp(e){return E(e=new this(e),e.e+1,1)}f[Symbol.for("nodejs.util.inspect.custom")]=f.toString,f[Symbol.toStringTag]="Decimal";var st=f.constructor=Ws(Vi);sn=new st(sn),an=new st(an);var Ce=st;function Pt(e){return null===e?e:Array.isArray(e)?e.map(Pt):"object"==typeof e?Fp(e)?Mp(e):bt(e,Pt):e}function Fp(e){return null!==e&&"object"==typeof e&&"string"==typeof e.$type}function Mp({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:n}=Buffer.from(t,"base64");return new Uint8Array(e,r,n)}case"DateTime":return new Date(t);case"Decimal":return new Ce(t);case"Json":return JSON.parse(t);default:Me(t,"Unknown tagged value")}}function vt(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Tt(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function dn(e){return"Invalid Date"!==e.toString()}function Ct(e){return!!st.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var Xs=D(Oi()),Zs=D(__webpack_require__(704)),Hs={keyword:Ne,entity:Ne,value:e=>Y(it(e)),punctuation:it,directive:Ne,function:Ne,variable:e=>Y(it(e)),string:e=>Y(je(e)),boolean:De,number:Ne,comment:Ht},$p=e=>e,mn={},qp=0,P={manual:mn.Prism&&mn.Prism.manual,disableWorkerMessageHandler:mn.Prism&&mn.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(!(e instanceof Ee))return Array.isArray(e)?e.map(P.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");{let t=e;return new Ee(t.type,P.util.encode(t.content),t.alias)}},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++qp}),e.__id},clone:function e(t,r){let n,i,a=P.util.type(t);switch(r=r||{},a){case"Object":if(r[i=P.util.objId(t)])return r[i];for(let a in n={},r[i]=n,t)t.hasOwnProperty(a)&&(n[a]=e(t[a],r));return n;case"Array":return r[i=P.util.objId(t)]?r[i]:(n=[],r[i]=n,t.forEach(function(t,i){n[i]=e(t,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=P.util.clone(P.languages[e]);for(let e in t)r[e]=t[e];return r},insertBefore:function(e,t,r,n){let i=(n=n||P.languages)[e],a={};for(let e in i)if(i.hasOwnProperty(e)){if(e==t)for(let e in r)r.hasOwnProperty(e)&&(a[e]=r[e]);r.hasOwnProperty(e)||(a[e]=i[e])}let s=n[e];return n[e]=a,P.languages.DFS(P.languages,function(t,r){r===s&&t!=e&&(this[t]=a)}),a},DFS:function e(t,r,n,i){i=i||{};let a=P.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let o=t[s],l=P.util.type(o);"Object"!==l||i[a(o)]?"Array"!==l||i[a(o)]||(i[a(o)]=!0,e(o,r,s,i)):(i[a(o)]=!0,e(o,r,null,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return P.hooks.run("before-tokenize",n),n.tokens=P.tokenize(n.code,n.grammar),P.hooks.run("after-tokenize",n),Ee.stringify(P.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,a,s){for(let m in r){if(!r.hasOwnProperty(m)||!r[m])continue;if(m==s)return;let g=r[m];g="Array"===P.util.type(g)?g:[g];for(let s=0;s<g.length;++s){let y=g[s],b=y.inside,w=!!y.lookbehind,v=!!y.greedy,_=0,x=y.alias;if(v&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let s=n,g=i;s<t.length;g+=t[s].length,++s){let n=t[s];if(t.length>e.length)return;if(n instanceof Ee)continue;if(v&&s!=t.length-1){y.lastIndex=g;var o=y.exec(e);if(!o)break;var l=o.index+(w?o[1].length:0),c=o.index+o[0].length,u=s,d=g;for(let e=t.length;u<e&&(d<c||!t[u].type&&!t[u-1].greedy);++u)l>=(d+=t[u].length)&&(++s,g=d);if(t[s]instanceof Ee)continue;h=u-s,n=e.slice(g,d),o.index-=g}else{y.lastIndex=0;var o=y.exec(n),h=1}if(!o){if(a)break;continue}w&&(_=o[1]?o[1].length:0);var l=o.index+_,o=o[0].slice(_),c=l+o.length,f=n.slice(0,l),p=n.slice(c);let i=[s,h];f&&(++s,g+=f.length,i.push(f));let E=new Ee(m,b?P.tokenize(o,b):o,x,o,v);if(i.push(E),p&&i.push(p),Array.prototype.splice.apply(t,i),1!=h&&P.matchGrammar(e,t,r,s,g,!0,m),a)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let e in n)t[e]=n[e];delete t.rest}return P.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=P.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=P.hooks.all[e];if(!(!r||!r.length))for(var n,i=0;n=r[i++];)n(t)}},Token:Ee};function Ee(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!i}function Vp(e){return Hs[e]||$p}function Ks(e){return jp(e,P.languages.javascript)}function jp(e,t){return P.tokenize(e,t).map(e=>Ee.stringify(e)).join("")}P.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},P.languages.javascript=P.languages.extend("clike",{"class-name":[P.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),P.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,P.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:P.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:P.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:P.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:P.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),P.languages.markup&&P.languages.markup.tag.addInlined("script","javascript"),P.languages.js=P.languages.javascript,P.languages.typescript=P.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),P.languages.ts=P.languages.typescript,Ee.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return Ee.stringify(e,t)}).join(""):Vp(e.type)(e.content)};var Ys=D(Ts());function zs(e){return(0,Ys.default)(e)}var fn=class e{constructor(e,t){d(this,"firstLineNumber"),d(this,"lines"),this.firstLineNumber=e,this.lines=t}static read(t){let r;try{r=Zs.default.readFileSync(t,"utf-8")}catch{return null}return e.fromContent(r)}static fromContent(t){return new e(1,t.split(/\r?\n/))}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new e(this.firstLineNumber,i)}mapLines(t){return new e(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(e){return this.lines[e-this.firstLineNumber]}prependSymbolAt(e,t){return this.mapLines((r,n)=>n===e?`${t} ${r}`:`  ${r}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new e(t,zs(n).split(`
`))}highlight(){let t=Ks(this.toString());return new e(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},Bp={red:fe,gray:Ht,dim:_e,bold:Y,underline:ee,highlightSource:e=>e.highlight()},Up={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Qp({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function Gp({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},a){return Qp({message:t,originalMethod:r,isPanic:n,callArguments:i})}function Jp(e){let t=Object.keys(tr.ModelAction).join("|"),r=new RegExp(String.raw`\.(${t})\(`).exec(e);if(r){let t=r.index+r[0].length,n=e.lastIndexOf(" ",r.index)+1;return{code:e.slice(n,t),openingBraceIndex:t}}return null}function Wp(e){let t=0;for(let r=0;r<e.length&&" "===e.charAt(r);r++)t++;return t}function Hp({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},s){let o=[""],l=t?" in":":";if(n?(o.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),o.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):o.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&o.push(s.underline(Kp(t))),i){o.push("");let e=[i.toString()];a&&(e.push(a),e.push(s.dim(")"))),o.push(e.join("")),a&&o.push("")}else o.push(""),a&&o.push(a),o.push("");return o.push(r),o.join(`
`)}function Kp(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function gn(e){let t=e.showColors?Bp:Up;return Hp(Gp(e,t),t)}var sa=D(Qi());function na(e,t,r){let n=Zp(Yp(ia(e)));n?hn(n,t,r):t.addErrorMessage(()=>"Unknown error")}function ia(e){return e.errors.flatMap(e=>"Union"===e.kind?ia(e):[e])}function Yp(e){let t=new Map,r=[];for(let n of e){if("InvalidArgumentType"!==n.kind){r.push(n);continue}let e=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,i=t.get(e);i?t.set(e,{...n,argument:{...n.argument,typeNames:zp(i.argument.typeNames,n.argument.typeNames)}}):t.set(e,n)}return r.push(...t.values()),r}function zp(e,t){return[...new Set(e.concat(t))]}function Zp(e){return $i(e,(e,t)=>{let r=ta(e),n=ta(t);return r!==n?r-n:ra(e)-ra(t)})}function ta(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function ra(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var de=class{constructor(e,t){this.name=e,this.value=t,d(this,"isRequired",!1)}makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}},Rt=class{constructor(e=0,t){this.context=t,d(this,"lines",[]),d(this,"currentLine",""),d(this,"currentIndent",0),d(this,"marginSymbol"),d(this,"afterNextNewLineCallback"),this.currentIndent=e}write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}},yn=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},En=e=>e,bn={bold:En,red:En,green:En,dim:En,enabled:!1},oa={bold:Y,red:fe,green:je,dim:_e,enabled:!0},St={write(e){e.writeLine(",")}},Re=class{constructor(e){this.contents=e,d(this,"isUnderlined",!1),d(this,"color",e=>e)}underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},Ze=class{constructor(){d(this,"hasError",!1)}markAsError(){return this.hasError=!0,this}},At=class extends Ze{constructor(){super(...arguments),d(this,"items",[])}addItem(e){return this.items.push(new yn(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(0===this.items.length){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new Re("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(St,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},It=class e extends Ze{constructor(){super(...arguments),d(this,"fields",{}),d(this,"suggestions",[])}addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof At&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);if(0===t.length&&0===this.suggestions.length){this.writeEmpty(e);return}this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new Re("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(St,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}},H=class extends Ze{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new Re(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},ar=class{constructor(){d(this,"fields",[])}addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(St,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function hn(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":ed(e,t);break;case"IncludeOnScalar":td(e,t);break;case"EmptySelection":rd(e,t,r);break;case"UnknownSelectionField":sd(e,t);break;case"InvalidSelectionValue":ad(e,t);break;case"UnknownArgument":ld(e,t);break;case"UnknownInputField":ud(e,t);break;case"RequiredArgumentMissing":cd(e,t);break;case"InvalidArgumentType":pd(e,t);break;case"InvalidArgumentValue":dd(e,t);break;case"ValueTooLarge":md(e,t);break;case"SomeFieldsMissing":fd(e,t);break;case"TooManyFieldsGiven":gd(e,t);break;case"Union":na(e,t,r);break;default:throw Error("not implemented: "+e.kind)}}function ed(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(t=>`Please ${t.bold("either")} use ${t.green(`\`${e.firstField}\``)} or ${t.green(`\`${e.secondField}\``)}, but ${t.red("not both")} at the same time.`)}function td(e,t){let[r,n]=lr(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new de(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${ur(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}function rd(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r){nd(e,t,r);return}if(n.hasField("select")){id(e,t);return}}if(r?.[vt(e.outputType.name)]){od(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function nd(e,t,r){for(let t of(r.removeAllFields(),e.outputType.fields))r.addSuggestion(new de(t.name,"false"));t.addErrorMessage(t=>`The ${t.red("omit")} statement includes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function id(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),ua(n,r)),t.addErrorMessage(e=>i?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${ur(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}function od(e,t){let r=new ar;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new de("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=lr(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new It;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function sd(e,t){let r=ca(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":ua(t,e.outputType);break;case"include":hd(t,e.outputType);break;case"omit":yd(t,e.outputType)}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(ur(t)),n.join(" ")})}function ad(e,t){let r=ca(e.selectionPath,t);"unknown"!==r.parentKind&&r.field.value.markAsError(),t.addErrorMessage(t=>`Invalid value for selection field \`${t.red(r.fieldName)}\`: ${e.underlyingError}`)}function ld(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Ed(n,e.arguments)),t.addErrorMessage(t=>aa(t,r,e.arguments.map(e=>e.name)))}function ud(e,t){let[r,n]=lr(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&pa(t,e.inputType)}t.addErrorMessage(t=>aa(t,n,e.inputType.fields.map(e=>e.name)))}function aa(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=wd(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(ur(e)),n.join(" ")}function cd(e,t){let r;t.addErrorMessage(e=>r?.value instanceof H&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=lr(e.argumentPath),s=new ar,o=n.getDeepFieldValue(i)?.asObject();if(o){if((r=o.getField(a))&&o.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)s.addField(t.name,t.typeNames.join(" | "));o.addSuggestion(new de(a,s).makeRequired())}else{let t=e.inputTypes.map(la).join(" | ");o.addSuggestion(new de(a,t).makeRequired())}}}function la(e){return"list"===e.kind?`${la(e.elementType)}[]`:e.name}function pd(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=wn("or",e.argument.typeNames.map(e=>t.green(e)));return`Argument \`${t.bold(r)}\`: Invalid value provided. Expected ${n}, provided ${t.red(e.inferredType)}.`})}function dd(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=[`Invalid value for argument \`${t.bold(r)}\``];if(e.underlyingError&&n.push(`: ${e.underlyingError}`),n.push("."),e.argument.typeNames.length>0){let r=wn("or",e.argument.typeNames.map(e=>t.green(e)));n.push(` Expected ${r}.`)}return n.join("")})}function md(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let t=n.getDeepField(e.argumentPath)?.value;t?.markAsError(),t instanceof H&&(i=t.text)}t.addErrorMessage(e=>{let t=["Unable to fit value"];return i&&t.push(e.red(i)),t.push(`into a 64-bit signed integer for field \`${e.bold(r)}\``),t.join(" ")})}function fd(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&pa(t,e.inputType)}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount?e.constraints.requiredFields?n.push(`${t.green("at least one of")} ${wn("or",e.constraints.requiredFields.map(e=>`\`${t.bold(e)}\``))} arguments.`):n.push(`${t.green("at least one")} argument.`):n.push(`${t.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),n.push(ur(t)),n.join(" ")})}function gd(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&(t.markAsError(),i=Object.keys(t.getFields()))}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount&&1==e.constraints.maxFieldCount?n.push(`${t.green("exactly one")} argument,`):1==e.constraints.maxFieldCount?n.push(`${t.green("at most one")} argument,`):n.push(`${t.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),n.push(`but you provided ${wn("and",i.map(e=>t.red(e)))}. Please choose`),1===e.constraints.maxFieldCount?n.push("one."):n.push(`${e.constraints.maxFieldCount}.`),n.join(" ")})}function ua(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new de(r.name,"true"))}function hd(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new de(r.name,"true"))}function yd(e,t){for(let r of t.fields)e.hasField(r.name)||r.isRelation||e.addSuggestion(new de(r.name,"true"))}function Ed(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new de(r.name,r.typeNames.join(" | ")))}function ca(e,t){let[r,n]=lr(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=a?.getField(n);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function pa(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new de(r.name,r.typeNames.join(" | ")))}function lr(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function ur({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function wn(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var bd=3;function wd(e,t){let r=1/0,n;for(let i of t){let t=(0,sa.default)(e,i);t>bd||t<r&&(r=t,n=i)}return n}function da(e){return e.substring(0,1).toLowerCase()+e.substring(1)}var cr=class{constructor(e,t,r,n,i){d(this,"modelName"),d(this,"name"),d(this,"typeName"),d(this,"isList"),d(this,"isEnum"),this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function kt(e){return e instanceof cr}var xn=Symbol(),Gi=new WeakMap,qe=class{constructor(e){e===xn?Gi.set(this,`Prisma.${this._getName()}`):Gi.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return Gi.get(this)}},pr=class extends qe{_getNamespace(){return"NullTypes"}},dr=class extends pr{};Ji(dr,"DbNull");var mr=class extends pr{};Ji(mr,"JsonNull");var fr=class extends pr{};Ji(fr,"AnyNull");var Pn={classes:{DbNull:dr,JsonNull:mr,AnyNull:fr},instances:{DbNull:new dr(xn),JsonNull:new mr(xn),AnyNull:new fr(xn)}};function Ji(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var ma=": ",vn=class{constructor(e,t){this.name=e,this.value=t,d(this,"hasError",!1)}markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+ma.length}write(e){let t=new Re(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(ma).write(this.value)}},Wi=class{constructor(e){d(this,"arguments"),d(this,"errorMessages",[]),this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function Ot(e){return new Wi(fa(e))}function fa(e){let t=new It;for(let[r,n]of Object.entries(e)){let e=new vn(r,ga(n));t.addField(e)}return t}function ga(e){if("string"==typeof e)return new H(JSON.stringify(e));if("number"==typeof e||"boolean"==typeof e)return new H(String(e));if("bigint"==typeof e)return new H(`${e}n`);if(null===e)return new H("null");if(void 0===e)return new H("undefined");if(Ct(e))return new H(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return new H(Buffer.isBuffer(e)?`Buffer.alloc(${e.byteLength})`:`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=dn(e)?e.toISOString():"Invalid Date";return new H(`new Date("${t}")`)}return e instanceof qe?new H(`Prisma.${e._getName()}`):kt(e)?new H(`prisma.${da(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?xd(e):"object"==typeof e?fa(e):new H(Object.prototype.toString.call(e))}function xd(e){let t=new At;for(let r of e)t.addItem(ga(r));return t}function Tn(e,t){let r="pretty"===t?oa:bn;return{message:e.renderAllMessages(r),args:new Rt(0,{colors:r}).write(e).toString()}}function Cn({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:s}){let o=Ot(e);for(let e of t)hn(e,o,s);let{message:l,args:c}=Tn(o,r);throw new re(gn({message:l,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:c}),{clientVersion:a})}var Se=class{constructor(){d(this,"_map",new Map)}get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function gr(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function Ae(e){return e.replace(/^./,e=>e.toLowerCase())}function ya(e,t,r){let n=Ae(r);return t.result&&(t.result.$allModels||t.result[n])?Pd({...e,...ha(t.name,e,t.result.$allModels),...ha(t.name,e,t.result[n])}):e}function Pd(e){let t=new Se,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(e=>r(e,i)):[n]));return bt(e,e=>({...e,needs:r(e.name,new Set)}))}function ha(e,t,r){return r?bt(r,({needs:e,compute:r},n)=>({name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:vd(t,n,r)})):{}}function vd(e,t,r){let n=e?.[t]?.compute;return n?e=>r({...e,[t]:n(e)}):r}function Ea(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}function ba(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}var Rn=class{constructor(e,t){this.extension=e,this.previous=t,d(this,"computedFieldsCache",new Se),d(this,"modelExtensionsCache",new Se),d(this,"queryCallbacksCache",new Se),d(this,"clientExtensions",gr(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions())),d(this,"batchCallbacks",gr(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e}))}getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>ya(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Ae(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},_t=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new Rn(t))}isEmpty(){return void 0===this.head}append(t){return new e(new Rn(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},Sn=class{constructor(e){this.name=e}};function wa(e){return e instanceof Sn}function xa(e){return new Sn(e)}var Pa=Symbol(),hr=class{constructor(e){if(e!==Pa)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?An:e}},An=new hr(Pa);function Ie(e){return e instanceof hr}var Td={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},va="explicitly `undefined` values are not allowed";function In({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=_t.empty(),callsite:a,clientMethod:s,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u}){let d=new Hi({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Td[t],query:yr(r,d)}}function yr({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:Ca(r,n),selection:Cd(e,t,i,n)}}function Cd(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Id(e,n)):Rd(n,t,r)}function Rd(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Sd(n,t,e),Ad(n,r,e),n}function Sd(e,t,r){for(let[n,i]of Object.entries(t)){if(Ie(i))continue;let t=r.nestSelection(n);if(Ki(i,t),!1===i||void 0===i){e[n]=!1;continue}let a=r.findField(n);if(a&&"object"!==a.kind&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),a){e[n]=yr(!0===i?{}:i,t);continue}if(!0===i){e[n]=!0;continue}e[n]=yr(i,t)}}function Ad(e,t,r){let n=r.getComputedFields();for(let[i,a]of Object.entries(ba({...r.getGlobalOmit(),...t},n))){if(Ie(a))continue;Ki(a,r.nestSelection(i));let t=r.findField(i);n?.[i]&&!t||(e[i]=!a)}}function Id(e,t){let r={},n=t.getComputedFields();for(let[i,a]of Object.entries(Ea(e,n))){if(Ie(a))continue;let e=t.nestSelection(i);Ki(a,e);let s=t.findField(i);if(!(n?.[i]&&!s)){if(!1===a||void 0===a||Ie(a)){r[i]=!1;continue}if(!0===a){s?.kind==="object"?r[i]=yr({},e):r[i]=!0;continue}r[i]=yr(a,e)}}return r}function Ta(e,t){if(null===e)return null;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if("bigint"==typeof e)return{$type:"BigInt",value:String(e)};if(Tt(e)){if(dn(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(wa(e))return{$type:"Param",value:e.name};if(kt(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return kd(e,t);if(ArrayBuffer.isView(e)){let{buffer:t,byteOffset:r,byteLength:n}=e;return{$type:"Bytes",value:Buffer.from(t,r,n).toString("base64")}}if(Od(e))return e.values;if(Ct(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof qe){if(e!==Pn.instances[e._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}return _d(e)?e.toJSON():"object"==typeof e?Ca(e,t):void t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function Ca(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);Ie(i)||(void 0!==i?r[n]=Ta(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:va}))}return r}function kd(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),a=e[n];if(void 0===a||Ie(a)){let e=void 0===a?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}r.push(Ta(a,i))}return r}function Od(e){return"object"==typeof e&&null!==e&&!0===e.__prismaRawParameters__}function _d(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJSON}function Ki(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:va})}var Hi=class e{constructor(e){this.params=e,d(this,"modelOrType"),this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}throwValidationError(e){Cn({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[vt(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:Me(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function Ra(e){if(!e._hasPreviewFlag("metrics"))throw new re("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var Dt=class{constructor(e){d(this,"_client"),this._client=e}prometheus(e){return Ra(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return Ra(this._client),this._client._engine.metrics({format:"json",...e})}};function Sa(e){return{models:Yi(e.models),enums:Yi(e.enums),types:Yi(e.types)}}function Yi(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function Aa(e,t){let r=gr(()=>Dd(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Dd(e){return{datamodel:{models:zi(e.models),enums:zi(e.enums),types:zi(e.types)}}}function zi(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var Zi=new WeakMap,kn="$$PrismaTypedSql",Er=class{constructor(e,t){Zi.set(this,{sql:e,values:t}),Object.defineProperty(this,kn,{value:kn})}get sql(){return Zi.get(this).sql}get values(){return Zi.get(this).values}};function Ia(e){return(...t)=>new Er(e,t)}function On(e){return null!=e&&e[kn]===kn}var su=D(bi()),au=__webpack_require__(521),lu=__webpack_require__(351),uu=D(__webpack_require__(704)),Mr=D(__webpack_require__(112)),le=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],s=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let t=0;for(;t<n.values.length;)this.values[a++]=n.values[t++],this.strings[a]=n.strings[t];this.strings[a]+=s}else this.values[a++]=n,this.strings[a]=s}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function ka(e,t=",",r="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new le([r,...Array(e.length-1).fill(t),n],e)}function Xi(e){return new le([e],[])}var Oa=Xi("");function eo(e,...t){return new le(e,t)}function br(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function oe(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function at(e){let t=new Se;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var _n={enumerable:!0,configurable:!0,writable:!0};function Dn(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>_n,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var _a=Symbol.for("nodejs.util.inspect.custom");function be(e,t){let r=Nd(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...Da(Reflect.ownKeys(e),r),...Da(Array.from(r.keys()),r),...n])],set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{..._n,...i?.getPropertyDescriptor(t)}:_n:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[_a]=function(){let e={...this};return delete e[_a],e},i}function Nd(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}function Da(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function Nt(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function Lt(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function Na(e){if(void 0===e)return"";let t=Ot(e);return new Rt(0,{colors:bn}).write(t).toString()}var Ld="P2037";function Ft({error:e,user_facing_error:t},r,n){return t.error_code?new te(Fd(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new U(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function Fd(e,t){let r=e.message;return("postgresql"===t||"postgres"===t||"mysql"===t)&&e.error_code===Ld&&(r+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),r}var wr="<unknown>";function La(e){return e.split(`
`).reduce(function(e,t){var r=qd(t)||jd(t)||Qd(t)||Hd(t)||Jd(t);return r&&e.push(r),e},[])}var Md=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$d=/\((\S*)(?::(\d+))(?::(\d+))\)/;function qd(e){var t=Md.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=$d.exec(t[2]);return n&&null!=i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||wr,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Vd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function jd(e){var t=Vd.exec(e);return t?{file:t[2],methodName:t[1]||wr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Bd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Ud=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Qd(e){var t=Bd.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Ud.exec(t[3]);return r&&null!=n&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||wr,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Gd=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Jd(e){var t=Gd.exec(e);return t?{file:t[3],methodName:t[1]||wr,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Wd=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Hd(e){var t=Wd.exec(e);return t?{file:t[2],methodName:t[1]||wr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var to=class{getLocation(){return null}},ro=class{constructor(){d(this,"_error"),this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=La(e).find(e=>{if(!e.file)return!1;let t=ki(e.file);return"<anonymous>"!==t&&!t.includes("@prisma")&&!t.includes("/packages/client/src/runtime/")&&!t.endsWith("/runtime/binary.js")&&!t.endsWith("/runtime/library.js")&&!t.endsWith("/runtime/edge.js")&&!t.endsWith("/runtime/edge-esm.js")&&!t.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function Xe(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new to:new ro}var Fa={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Mt(e={}){return Object.entries(Yd(e)).reduce((e,[t,r])=>(void 0!==Fa[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function Yd(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}function Nn(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function Ma(e,t){return t({action:"aggregate",unpacker:Nn(e),argsMapper:Mt})(e)}function zd(e={}){let{select:t,...r}=e;return"object"==typeof t?Mt({...r,_count:t}):Mt({...r,_count:{_all:!0}})}function Zd(e={}){return"object"==typeof e.select?t=>Nn(e)(t)._count:t=>Nn(e)(t)._count._all}function $a(e,t){return t({action:"count",unpacker:Zd(e),argsMapper:zd})(e)}function Xd(e={}){let t=Mt(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}function em(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}function qa(e,t){return t({action:"groupBy",unpacker:em(e),argsMapper:Xd})(e)}function Va(e,t,r){return"aggregate"===t?e=>Ma(e,r):"count"===t?e=>$a(e,r):"groupBy"===t?e=>qa(e,r):void 0}function ja(e,t){let r=Mi(t.fields.filter(e=>!e.relationName),e=>e.name);return new Proxy({},{get(t,n){if(n in t||"symbol"==typeof n)return t[n];let i=r[n];if(i)return new cr(e,n,i.type,i.isList,"enum"===i.kind)},...Dn(Object.keys(r))})}var Ba=e=>Array.isArray(e)?e:e.split("."),no=(e,t)=>Ba(t).reduce((e,t)=>e&&e[t],e),Ua=(e,t,r)=>Ba(t).reduceRight((t,r,n,i)=>Object.assign({},no(e,i.slice(0,n)),{[r]:t}),r);function tm(e,t){return void 0===e||void 0===t?[]:[...t,"select",e]}function rm(e,t,r){return void 0===t?e??{}:Ua(t,r,e||!0)}function io(e,t,r,n,i,a){let s=e._runtimeDataModel.models[t].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return o=>{let l=Xe(e._errorFormat),c=tm(n,i),u=rm(o,a,c),d=r({dataPath:c,callsite:l})(u),h=nm(e,t);return new Proxy(d,{get:(t,n)=>h.includes(n)?io(e,s[n].type,r,n,c,u):t[n],...Dn([...h,...Object.getOwnPropertyNames(d)])})}}function nm(e,t){return e._runtimeDataModel.models[t].fields.filter(e=>"object"===e.kind).map(e=>e.name)}var im=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],om=["aggregate","count","groupBy"];function oo(e,t){let r=e._extensions.getAllModelExtensions(t)??{};return be({},[sm(e,t),lm(e,t),br(r),oe("name",()=>t),oe("$name",()=>t),oe("$parent",()=>e._appliedParent)])}function sm(e,t){let r=Ae(t),n=Object.keys(tr.ModelAction).concat("count");return{getKeys:()=>n,getPropertyValue(n){let i=n,a=a=>s=>{let o=Xe(e._errorFormat);return e._createPrismaPromise(l=>{let c={args:s,dataPath:[],action:i,model:t,clientMethod:`${r}.${n}`,jsModelName:r,transaction:l,callsite:o};return e._request({...c,...a})},{action:i,args:s,model:t})};return im.includes(i)?io(e,t,a):am(n)?Va(e,n,a):a({})}}}function am(e){return om.includes(e)}function lm(e,t){return at(oe("fields",()=>{let r=e._runtimeDataModel.models[t];return ja(t,r)}))}function Qa(e){return e.replace(/^./,e=>e.toUpperCase())}var so=Symbol();function xr(e){let t=[um(e),cm(e),oe(so,()=>e),oe("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(br(r)),be(e,t)}function um(e){let t=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf(e._originalClient)))];return{getKeys:()=>t,getPropertyValue:t=>e[t]}}function cm(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Ae),n=[...new Set(t.concat(r))];return at({getKeys:()=>n,getPropertyValue(t){let r=Qa(t);return void 0!==e._runtimeDataModel.models[r]?oo(e,r):void 0!==e._runtimeDataModel.models[t]?oo(e,t):void 0},getPropertyDescriptor(e){if(!r.includes(e))return{enumerable:!1}}})}function Ga(e){return e[so]?e[so]:e}function Ja(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return xr(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}}))}function Wa({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let s=[],o=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&o.push(Nt(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&o.push(Nt(e))}pm(e,t.needs)&&s.push(dm(t,be(e,s)))}return s.length>0||o.length>0?be(e,[...s,...o]):e}function pm(e,t){return t.every(t=>Fi(e,t))}function dm(e,t){return at(oe(e.name,()=>e.compute(t)))}function Ln({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=Ln({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&Ha({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Ha({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function Ha({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,s]of Object.entries(e)){if(!s||null==t[a]||Ie(s))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let o="object"==typeof s?s:{};t[a]=Ln({visitor:i,result:t[a],args:o,modelName:e.type,runtimeDataModel:n})}}function Ka({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:Ln({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=Ae(t);return Wa({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}var mm=["$connect","$disconnect","$on","$transaction","$use","$extends"],Ya=mm;function za(e){if(e instanceof le)return fm(e);if(On(e))return gm(e);if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=Pr(e[r]);return t}let t={};for(let r in e)t[r]=Pr(e[r]);return t}function fm(e){return new le(e.strings,e.values)}function gm(e){return new Er(e.sql,e.values)}function Pr(e){if("object"!=typeof e||null==e||e instanceof qe||kt(e))return e;if(Ct(e))return new Ce(e.toFixed());if(Tt(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Pr(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:Pr(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Pr(e[r]);return t}Me(e,"Unknown value")}function Xa(e,t,r,n=0){return e._createPrismaPromise(i=>{let a=t.customDataProxyFetch;return"transaction"in t&&void 0!==i&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:za(t.args??{}),__internalParams:t,query:(i,s=t)=>{let o=s.customDataProxyFetch;return s.customDataProxyFetch=nl(a,o),s.args=i,Xa(e,s,r,n+1)}})})}function el(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,a=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",a);return Xa(e,t,s)}function tl(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?rl(r,n,0,e):e(r)}}function rl(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,a=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:a?{isolationLevel:"batch"===a.kind?a.isolationLevel:void 0}:void 0},__internalParams:e,query(a,s=e){let o=s.customDataProxyFetch;return s.customDataProxyFetch=nl(i,o),rl(s,t,r+1,n)}})}var Za=e=>e;function nl(e=Za,t=Za){return r=>e(t(r))}var il=M("prisma:client"),ol={Vercel:"vercel","Netlify CI":"netlify"};function sl({postinstall:e,ciName:t,clientVersion:r}){if(il("checkPlatformCaching:postinstall",e),il("checkPlatformCaching:ciName",t),!0===e&&t&&t in ol){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${ol[t]}-build`;throw console.error(e),new C(e,r)}}function al(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var hm=()=>globalThis.process?.release?.name==="node",ym=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Em=()=>!!globalThis.Deno,bm=()=>"object"==typeof globalThis.Netlify,wm=()=>"object"==typeof globalThis.EdgeRuntime,xm=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Pm(){return[[bm,"netlify"],[wm,"edge-light"],[xm,"workerd"],[Em,"deno"],[ym,"bun"],[hm,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var vm={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Fn(){let e=Pm();return{id:e,prettyName:vm[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var dl=D(__webpack_require__(704)),vr=D(__webpack_require__(112));function Mn(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${Tm(e)}`}function Tm(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,i=[...r,{fromEnvVar:null,value:n}];return Di({...t,binaryTargets:i})}function et(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function tt(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function ll(e){let{runtimeBinaryTarget:t}=e;return`${et(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${Mn(e)}

${tt(e)}`}function $n(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function qn(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function ul(e){let{queryEngineName:t}=e;return`${et(e)}${qn(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${$n("engine-not-found-bundler-investigation")}

${tt(e)}`}function cl(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(e=>e.native);return`${et(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${Mn(e)}

${tt(e)}`}function pl(e){let{queryEngineName:t}=e;return`${et(e)}${qn(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${$n("engine-not-found-tooling-investigation")}

${tt(e)}`}var Cm=M("prisma:client:engines:resolveEnginePath"),Rm=()=>RegExp("runtime[\\\\/]library\\.m?js$");async function ml(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==r)return r;let{enginePath:n,searchedLocations:i}=await Sm(e,t);if(Cm("enginePath",n),void 0!==n&&"binary"===e&&Pi(n),void 0!==n)return t.prismaPath=n;let a=await ot(),s=t.generator?.binaryTargets??[],o=s.some(e=>e.native),l=!s.some(e=>e.value===a),c=null===__filename.match(Rm()),u={searchedLocations:i,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:fl(e,a),expectedLocation:vr.default.relative(process.cwd(),t.dirname),errorStack:Error().stack},d;throw new C(d=o&&l?cl(u):l?ll(u):c?ul(u):pl(u),t.clientVersion)}async function Sm(engineType,config){let binaryTarget=await ot(),searchedLocations=[],dirname=__next_eval__(function(){return eval("__dirname")}),searchLocations=[config.dirname,vr.default.resolve(dirname,".."),config.generator?.output?.value??dirname,vr.default.resolve(dirname,"../../../.prisma/client"),"/tmp/prisma-engines",config.cwd];for(let e of(__filename.includes("resolveEnginePath")&&searchLocations.push(cs()),searchLocations)){let t=fl(engineType,binaryTarget),r=vr.default.join(e,t);if(searchedLocations.push(e),dl.default.existsSync(r))return{enginePath:r,searchedLocations}}return{enginePath:void 0,searchedLocations}}function fl(e,t){return"library"===e?Br(t,"fs"):`query-engine-${t}${"windows"===t?".exe":""}`}var ao=D(Li());function gl(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}function hl(e){return e.split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var yl=D(_s());function El({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,yl.default)({user:t,repo:r,template:n,title:e,body:i})}function bl({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:a,query:s}){let o=qo(6e3-(s?.length??0)),l=hl((0,ao.default)(o)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=El({title:r,body:(0,ao.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?gl(s):""}
\`\`\`
`)});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${ee(u)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function $t({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],s=e[a]?.url,o=t[a]?.url;if(void 0===a?i=void 0:o?i=o:s?.value?i=s.value:s?.fromEnvVar&&(i=r[s.fromEnvVar]),s?.fromEnvVar!==void 0&&void 0===i)throw new C(`error: Environment variable not found: ${s.fromEnvVar}.`,n);if(void 0===i)throw new C("error: Missing URL environment variable, value, or override.",n);return i}var Vn=class extends Error{constructor(e,t){super(e),d(this,"clientVersion"),d(this,"cause"),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},ue=class extends Vn{constructor(e,t){super(e,t),d(this,"isRetryable"),this.isRetryable=t.isRetryable??!0}};function A(e,t){return{...e,isRetryable:t}}var qt=class extends ue{constructor(e){super("This request must be retried",A(e,!0)),d(this,"name","ForcedRetryError"),d(this,"code","P5001")}};x(qt,"ForcedRetryError");var lt=class extends ue{constructor(e,t){super(e,A(t,!1)),d(this,"name","InvalidDatasourceError"),d(this,"code","P6001")}};x(lt,"InvalidDatasourceError");var ut=class extends ue{constructor(e,t){super(e,A(t,!1)),d(this,"name","NotImplementedYetError"),d(this,"code","P5004")}};x(ut,"NotImplementedYetError");var j=class extends ue{constructor(e,t){super(e,t),d(this,"response"),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},ct=class extends j{constructor(e){super("Schema needs to be uploaded",A(e,!0)),d(this,"name","SchemaMissingError"),d(this,"code","P5005")}};x(ct,"SchemaMissingError");var lo="This request could not be understood by the server",Tr=class extends j{constructor(e,t,r){super(t||lo,A(e,!1)),d(this,"name","BadRequestError"),d(this,"code","P5000"),r&&(this.code=r)}};x(Tr,"BadRequestError");var Cr=class extends j{constructor(e,t){super("Engine not started: healthcheck timeout",A(e,!0)),d(this,"name","HealthcheckTimeoutError"),d(this,"code","P5013"),d(this,"logs"),this.logs=t}};x(Cr,"HealthcheckTimeoutError");var Rr=class extends j{constructor(e,t,r){super(t,A(e,!0)),d(this,"name","EngineStartupError"),d(this,"code","P5014"),d(this,"logs"),this.logs=r}};x(Rr,"EngineStartupError");var Sr=class extends j{constructor(e){super("Engine version is not supported",A(e,!1)),d(this,"name","EngineVersionNotSupportedError"),d(this,"code","P5012")}};x(Sr,"EngineVersionNotSupportedError");var uo="Request timed out",Ar=class extends j{constructor(e,t=uo){super(t,A(e,!1)),d(this,"name","GatewayTimeoutError"),d(this,"code","P5009")}};x(Ar,"GatewayTimeoutError");var Am="Interactive transaction error",Ir=class extends j{constructor(e,t=Am){super(t,A(e,!1)),d(this,"name","InteractiveTransactionError"),d(this,"code","P5015")}};x(Ir,"InteractiveTransactionError");var Im="Request parameters are invalid",kr=class extends j{constructor(e,t=Im){super(t,A(e,!1)),d(this,"name","InvalidRequestError"),d(this,"code","P5011")}};x(kr,"InvalidRequestError");var co="Requested resource does not exist",Or=class extends j{constructor(e,t=co){super(t,A(e,!1)),d(this,"name","NotFoundError"),d(this,"code","P5003")}};x(Or,"NotFoundError");var po="Unknown server error",Vt=class extends j{constructor(e,t,r){super(t||po,A(e,!0)),d(this,"name","ServerError"),d(this,"code","P5006"),d(this,"logs"),this.logs=r}};x(Vt,"ServerError");var mo="Unauthorized, check your connection string",_r=class extends j{constructor(e,t=mo){super(t,A(e,!1)),d(this,"name","UnauthorizedError"),d(this,"code","P5007")}};x(_r,"UnauthorizedError");var fo="Usage exceeded, retry again later",Dr=class extends j{constructor(e,t=fo){super(t,A(e,!0)),d(this,"name","UsageExceededError"),d(this,"code","P5008")}};async function km(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e){if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};return{type:"UnknownTextError",body:e}}if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function Nr(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await km(e);if("QueryEngineError"===n.type)throw new te(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new Vt(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new ct(r);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new Sr(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new Rr(r,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:r}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new C(e,t,r)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new Cr(r,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new Ir(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new kr(r,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new _r(r,jt(mo,n));if(404===e.status)return new Or(r,jt(co,n));if(429===e.status)throw new Dr(r,jt(fo,n));if(504===e.status)throw new Ar(r,jt(uo,n));if(e.status>=500)throw new Vt(r,jt(po,n));if(e.status>=400)throw new Tr(r,jt(lo,n))}function jt(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}function wl(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(e=>setTimeout(()=>e(n),n))}x(Dr,"UsageExceededError");var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function xl(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,a=n-i,s,o,l,c,u;for(let e=0;e<a;e+=3)s=(0xfc0000&(u=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,o=(258048&u)>>12,l=(4032&u)>>6,c=63&u,r+=Ve[s]+Ve[o]+Ve[l]+Ve[c];return 1==i?(s=(252&(u=t[a]))>>2,o=(3&u)<<4,r+=Ve[s]+Ve[o]+"=="):2==i&&(s=(64512&(u=t[a]<<8|t[a+1]))>>10,o=(1008&u)>>4,l=(15&u)<<2,r+=Ve[s]+Ve[o]+Ve[l]+"="),r}function Pl(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new C("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}function Om(e){return 1e3*e[0]+e[1]/1e6}function go(e){return new Date(Om(e))}var vl={"@prisma/engines-version":"6.5.0-73.173f8d54f8d52e692c7e27e72a88314ec7aeff60"},Lr=class extends ue{constructor(e,t){super(`Cannot fetch data from service:
${e}`,A(t,!0)),d(this,"name","RequestError"),d(this,"code","P5010")}};async function pt(e,t,r=e=>e){let{clientVersion:n,...i}=t,a=r(fetch);try{return await a(e,i)}catch(e){throw new Lr(e.message??"Unknown error",{clientVersion:n,cause:e})}}x(Lr,"RequestError");var Dm=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,Tl=M("prisma:client:dataproxyEngine");async function Nm(e,t){let r=vl["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==n&&"in-memory"!==n)return n;let[i,a]=n?.split("-")??[];if(void 0===a&&Dm.test(i))return i;if(void 0!==a||"0.0.0"===n||"in-memory"===n){let t;if(e.startsWith("localhost")||e.startsWith("127.0.0.1"))return"0.0.0";let[i]=r.split("-")??[],[a,s,o]=i.split("."),l=Lm(`<=${a}.${s}.${o}`),c=await pt(l,{clientVersion:n});if(!c.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${c.status} ${c.statusText}, response body: ${await c.text()||"<empty body>"}`);let u=await c.text();Tl("length of body fetched from unpkg.com",u.length);try{t=JSON.parse(u)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",u),e}return t.version}throw new ut("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function Cl(e,t){let r=await Nm(e,t);return Tl("version",r),r}function Lm(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var Rl=3,jn=M("prisma:client:dataproxyEngine"),ho=class{constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){d(this,"apiKey"),d(this,"tracingHelper"),d(this,"logLevel"),d(this,"logQueries"),d(this,"engineHash"),this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,interactiveTransaction:t}={}){let r={Authorization:`Bearer ${this.apiKey}`,"Prisma-Engine-Hash":this.engineHash};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-transaction-id"]=t.id);let n=this.buildCaptureSettings();return n.length>0&&(r["X-capture-telemetry"]=n.join(", ")),r}buildCaptureSettings(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}},Fr=class{constructor(e){d(this,"name","DataProxyEngine"),d(this,"inlineSchema"),d(this,"inlineSchemaHash"),d(this,"inlineDatasources"),d(this,"config"),d(this,"logEmitter"),d(this,"env"),d(this,"clientVersion"),d(this,"engineHash"),d(this,"tracingHelper"),d(this,"remoteClientVersion"),d(this,"host"),d(this,"headerBuilder"),d(this,"startPromise"),Pl(e),this.config=e,this.env={...e.env,..."u">typeof process?process.env:{}},this.inlineSchema=xl(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let[e,t]=this.extractHostAndApiKey();this.host=e,this.headerBuilder=new ho({apiKey:t,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel,logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Cl(e,this.config),jn("host",this.host)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":jn(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:go(e.timestamp),message:e.attributes.message??"",target:e.target});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:go(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`https://${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let e=await pt(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||jn("schema response status",e.status);let t=await Nr(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,a=Lt(e,r);return(await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(a);let s=await pt(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,interactiveTransaction:n}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);s.ok||jn("graphql response status",s.status),await this.handleError(await Nr(s,this.clientVersion));let o=await s.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,r){let n={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${n[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");n(i);let a=await pt(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await Nr(a,this.clientVersion));let s=await a.json(),{extensions:o}=s;return o&&this.propagateResponseExtensions(o),{id:s.id,payload:{endpoint:s["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;n(i);let a=await pt(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await Nr(a,this.clientVersion));let{extensions:s}=await a.json();s&&this.propagateResponseExtensions(s);return}}})}extractHostAndApiKey(){let e={clientVersion:this.clientVersion},t=Object.keys(this.inlineDatasources)[0],r=$t({inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources,clientVersion:this.clientVersion,env:this.env}),n;try{n=new URL(r)}catch{throw new lt(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\``,e)}let{protocol:i,host:a,searchParams:s}=n;if("prisma:"!==i&&i!==Xr)throw new lt(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\``,e);let o=s.get("api_key");if(null===o||o.length<1)throw new lt(`Error validating datasource \`${t}\`: the URL must contain a valid API key`,e);return[a,o]}metrics(){throw new ut("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof ue)||!n.isRetryable)throw n;if(t>=Rl)throw n instanceof qt?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${Rl} failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await wl(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof ct)throw await this.uploadSchema(),new qt({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?Ft(e[0],this.config.clientVersion,this.config.activeProvider):new U(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}};function Sl(e){if(e?.kind==="itx")return e.options.id}var Eo=D(__webpack_require__(485)),Al=D(__webpack_require__(112)),yo=Symbol("PrismaLibraryEngineCache");function Fm(){let e=globalThis;return void 0===e[yo]&&(e[yo]={}),e[yo]}function Mm(e){let t=Fm();if(void 0!==t[e])return t[e];let r=Al.default.toNamespacedPath(e),n={exports:{}},i=0;return"win32"!==process.platform&&(i=Eo.default.constants.dlopen.RTLD_LAZY|Eo.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,r,i),t[e]=n.exports,n.exports}var bo,Il={async loadLibrary(e){let t=await ci(),r=await ml("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>Mm(r))}catch(n){throw new C(vi({e:n,platformInfo:t,id:r}),e.clientVersion)}}},kl={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(void 0===r)throw new C(`The \`adapter\` option for \`PrismaClient\` is required in this context (${Fn().prettyName})`,t);if(void 0===n)throw new C("WASM engine was unexpectedly `undefined`",t);return void 0===bo&&(bo=(async()=>{let e=n.getRuntime(),r=await n.getQueryEngineWasmModule();if(null==r)throw new C("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i={"./query_engine_bg.js":e},a=new WebAssembly.Instance(r,i),s=a.exports.__wbindgen_start;return e.__wbg_set_wasm(a.exports),s(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await bo}}},$m="P2036",ke=M("prisma:client:libraryEngine");function qm(e){return"query"===e.item_type&&"query"in e}function Vm(e){return"level"in e&&"error"===e.level&&"PANIC"===e.message}var Ol=[...ii,"native"],jm=0xffffffffffffffffn,wo=1n;function Bm(){let e=wo++;return wo>jm&&(wo=1n),e}var Bt=class{constructor(e,t){d(this,"name","LibraryEngine"),d(this,"engine"),d(this,"libraryInstantiationPromise"),d(this,"libraryStartingPromise"),d(this,"libraryStoppingPromise"),d(this,"libraryStarted"),d(this,"executingQueryPromise"),d(this,"config"),d(this,"QueryEngineConstructor"),d(this,"libraryLoader"),d(this,"library"),d(this,"logEmitter"),d(this,"libQueryEnginePath"),d(this,"binaryTarget"),d(this,"datasourceOverrides"),d(this,"datamodel"),d(this,"logQueries"),d(this,"logLevel"),d(this,"lastQuery"),d(this,"loggerRustPanic"),d(this,"tracingHelper"),d(this,"versionInfo"),this.libraryLoader=t??Il,void 0!==e.engineWasm&&(this.libraryLoader=t??kl),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==n&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e)}}withRequestId(e){return async(...t)=>{let r=Bm().toString();try{return await e(...t,r)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(r);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){await this.start();let n=JSON.stringify(t),i;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});i=await this.engine?.startTransaction(e,n)}else"commit"===e?i=await this.engine?.commitTransaction(r.id,n):"rollback"===e&&(i=await this.engine?.rollbackTransaction(r.id,n));let a=this.parseEngineResponse(i);if(Um(a)){let e=this.getExternalAdapterError(a);throw e?e.error:new te(a.message,{code:a.error_code,clientVersion:this.config.clientVersion,meta:a.meta})}if("string"==typeof a.message)throw new U(a.message,{clientVersion:this.config.clientVersion});return a}async instantiateLibrary(){if(ke("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;ni(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>ot());if(!Ol.includes(e))throw new C(`Unknown ${fe("PRISMA_QUERY_ENGINE_LIBRARY")} ${fe(Y(e))}. Possible binaryTargets: ${je(Ol.join(", "))} or a path to the query engine library.
You may have to run ${je("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new U("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new U("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this),{adapter:t}=this.config;t&&ke("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(r){let e=r,t=this.parseInitError(e.message);throw"string"==typeof t?e:new C(t.message,this.config.clientVersion,t.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",qm(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):Vm(t)?this.loggerRustPanic=new pe(xo(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return ke(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{ke("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,ke("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new C(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return ke("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted)return;let e=async()=>{await new Promise(e=>setTimeout(e,5)),ke("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.libraryStarted=!1,this.libraryStoppingPromise=void 0,ke("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){ke(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start(),this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let e=this.parseEngineResponse(await this.executingQueryPromise);if(e.errors)throw 1===e.errors.length?this.buildQueryError(e.errors[0]):new U(JSON.stringify(e.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:e}}catch(t){if(t instanceof C)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new pe(xo(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new U(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){ke("requestBatch");let n=Lt(e,t);await this.start(),this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine.query(this.lastQuery,JSON.stringify({traceparent:r}),Sl(t));let i=await this.executingQueryPromise,a=this.parseEngineResponse(i);if(a.errors)throw 1===a.errors.length?this.buildQueryError(a.errors[0]):new U(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});let{batchResult:s,errors:o}=a;if(Array.isArray(s))return s.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0]):{data:e});throw o&&1===o.length?Error(o[0].error):Error(JSON.stringify(a))}buildQueryError(e){if(e.user_facing_error.is_panic)return new pe(xo(this,e.user_facing_error.message),this.config.clientVersion);let t=this.getExternalAdapterError(e.user_facing_error);return t?t.error:Ft(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e){if(e.error_code===$m&&this.config.adapter){let t=e.meta?.id;en("number"==typeof t,"Malformed external JS error received from the engine");let r=this.config.adapter.errorRegistry.consumeError(t);return en(r,"External error with reported id was not registered"),r}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function Um(e){return"object"==typeof e&&null!==e&&void 0!==e.error_code}function xo(e,t){return bl({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function _l({copyEngine:e=!0},t){let r;try{r=$t({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let n=!!(r?.startsWith("prisma://")||Ii(r));e&&n&&or("recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)");let i=Et(t.generator),a=n||!e,s=!!t.adapter;if(a&&s){let n;throw new re((n=e?r?.startsWith("prisma://")?["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]:["Prisma Client was configured to use both the `adapter` and Accelerate, please chose one."]:["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]).join(`
`),{clientVersion:t.clientVersion})}return a?new Fr(t):new Bt(t)}function Bn({generator:e}){return e?.previewFeatures??[]}var Dl=e=>({command:e}),Nl=e=>e.strings.reduce((e,t,r)=>`${e}@P${r}${t}`);function Ut(e){try{return Ll(e,"fast")}catch{return Ll(e,"slow")}}function Ll(e,t){return JSON.stringify(e.map(e=>Ml(e,t)))}function Ml(e,t){if(Array.isArray(e))return e.map(e=>Ml(e,t));if("bigint"==typeof e)return{prisma__type:"bigint",prisma__value:e.toString()};if(Tt(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Ce.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Qm(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:t,byteOffset:r,byteLength:n}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(t,r,n).toString("base64")}}return"object"==typeof e&&"slow"===t?$l(e):e}function Qm(e){return!!(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer)||"object"==typeof e&&null!==e&&("ArrayBuffer"===e[Symbol.toStringTag]||"SharedArrayBuffer"===e[Symbol.toStringTag])}function $l(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(Fl);let t={};for(let r of Object.keys(e))t[r]=Fl(e[r]);return t}function Fl(e){return"bigint"==typeof e?e.toString():$l(e)}var Gm=/^(\s*alter\s)/i,ql=M("prisma:client");function Po(e,t,r,n){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&Gm.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var vo=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(On(r))n=r.sql,i={values:Ut(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;n=e,i={values:Ut(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:Ut(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:Ut(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=Nl(r),i={values:Ut(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?ql(`prisma.${e}(${n}, ${i.values})`):ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Vl={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new le(t,r)}},jl={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function To(e){return function(t,r){let n,i=(r=e)=>{try{return void 0===r||r?.kind==="itx"?n??=Bl(t(r)):Bl(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function Bl(e){return"function"==typeof e.then?e:Promise.resolve(e)}var Jm=Ei.split(".")[0],Wm={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},Co=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${Jm}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Wm}};function Ul(){return new Co}function Ql(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(n))}}function Gl(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}var Un=class{constructor(){d(this,"_middlewares",[])}use(e){this._middlewares.push(e)}get(e){return this._middlewares[e]}has(e){return!!this._middlewares[e]}length(){return this._middlewares.length}},Wl=D(Li());function Qn(e){return"number"==typeof e.batchRequestIdx}function Jl(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Ro(e.query.arguments)),t.push(Ro(e.query.selection)),t.join("")}function Ro(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${Ro(r)})`:t}).join(" ")})`}var Hm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function So(e){return Hm[e]}var Gn=class{constructor(e){this.options=e,d(this,"batches"),d(this,"tickActive",!1),this.batches={}}request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function dt(e,t){if(null===t)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:e,byteOffset:r,byteLength:n}=Buffer.from(t,"base64");return new Uint8Array(e,r,n)}case"decimal":return new Ce(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(e=>dt("bigint",e));case"bytes-array":return t.map(e=>dt("bytes",e));case"decimal-array":return t.map(e=>dt("decimal",e));case"datetime-array":return t.map(e=>dt("datetime",e));case"date-array":return t.map(e=>dt("date",e));case"time-array":return t.map(e=>dt("time",e));default:return t}}function Jn(e){let t=[],r=Km(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=dt(e.types[t],i[t]);t.push(a)}return t}function Km(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Ym=M("prisma:client:request_handler"),Wn=class{constructor(e,t){d(this,"client"),d(this,"dataloader"),d(this,"logEmitter"),this.logEmitter=t,this.client=e,this.dataloader=new Gn({batchLoader:tl(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),s=e.some(e=>So(e.protocolQuery.action));return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:zm(r),containsWrite:s,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?Hl(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:So(e.protocolQuery.action),customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:Jl(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(s){let{clientMethod:t,callsite:r,transaction:n,args:i,modelName:a}=e;this.handleAndLogRequestError({error:s,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:s}){if(Ym(e),Zm(e,n))throw e;e instanceof te&&Xm(e)&&Cn({args:i,errors:[Kl(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s});let o=e.message;if(r&&(o=gn({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:o})),o=this.sanitizeMessage(o),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new te(o,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new pe(o,this.client._clientVersion);if(e instanceof U)throw new U(o,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof C)throw new C(o,this.client._clientVersion);if(e instanceof pe)throw new pe(o,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,Wl.default)(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=no(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?Jn(i):Pt(i);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function zm(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:Hl(e)};Me(e,"Unknown transaction kind")}}function Hl(e){return{id:e.id,payload:e.payload}}function Zm(e,t){return Qn(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Xm(e){return"P2009"===e.code||"P2012"===e.code}function Kl(e){if("Union"===e.kind)return{kind:"Union",errors:e.errors.map(Kl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var Yl="6.5.0",zl=Yl,ru=D(Qi()),L=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};x(L,"PrismaClientConstructorValidationError");var Zl=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],Xl=["pretty","colorless","minimal"],eu=["info","query","warn","error"],tf={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new L(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=Qt(r,t)||` Available datasources: ${t.join(", ")}`;throw new L(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new L(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new L(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new L(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===Et(t.generator))throw new L('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new L('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!Bn(t).includes("driverAdapters"))throw new L('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===Et(t.generator))throw new L('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new L(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new L(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!Xl.includes(e)){let t=Qt(e,Xl);throw new L(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new L(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=Qt(e,t);throw new L(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r))if(e[t])e[t](n);else throw new L(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!eu.includes(e)){let t=Qt(e,eu);throw new L(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new L(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new L(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new L('"omit" option is expected to be an object.');if(null===e)throw new L('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let e=nf(n,t.runtimeDataModel);if(!e){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[t,a]of Object.entries(i)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:n,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:t});continue}"boolean"!=typeof a&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:t})}}if(r.length>0)throw new L(of(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new L(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=Qt(r,t);throw new L(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function nu(e,t){for(let[r,n]of Object.entries(e)){if(!Zl.includes(r)){let e=Qt(r,Zl);throw new L(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}tf[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new L('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Qt(e,t){if(0===t.length||"string"!=typeof e)return"";let r=rf(e,t);return r?` Did you mean "${r}"?`:""}function rf(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,ru.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function nf(e,t){return tu(t.models,e)??tu(t.types,e)}function tu(e,t){let r=Object.keys(e).find(e=>vt(e)===t);if(r)return e[r]}function of(e,t){let r=Ot(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=Tn(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}function iu(e){return 0===e.length?Promise.resolve([]):new Promise((t,r)=>{let n=Array(e.length),i=null,a=!1,s=0,o=()=>{a||++s===e.length&&(a=!0,i?r(i):t(n))},l=e=>{a||(a=!0,r(e))};for(let t=0;t<e.length;t++)e[t].then(e=>{n[t]=e,o()},e=>{if(!Qn(e)){l(e);return}e.batchRequestIdx===t?l(e):(i||(i=e),o())})})}var rt=M("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var sf={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},af=Symbol.for("prisma.client.transaction.id"),lf={id:0,nextId(){return++this.id}};function cu(e){class t{constructor(t){d(this,"_originalClient",this),d(this,"_runtimeDataModel"),d(this,"_requestHandler"),d(this,"_connectionPromise"),d(this,"_disconnectionPromise"),d(this,"_engineConfig"),d(this,"_accelerateEngineConfig"),d(this,"_clientVersion"),d(this,"_errorFormat"),d(this,"_tracingHelper"),d(this,"_middlewares",new Un),d(this,"_previewFeatures"),d(this,"_activeProvider"),d(this,"_globalOmit"),d(this,"_extensions"),d(this,"_engine"),d(this,"_appliedParent"),d(this,"_createPrismaPromise",To()),d(this,"$metrics",new Dt(this)),d(this,"$extends",Ja),sl(e=t?.__internal?.configOverride?.(e)??e),t&&nu(t,e);let r=new lu.EventEmitter().on("error",()=>{});this._extensions=_t.empty(),this._previewFeatures=Bn(e),this._clientVersion=e.clientVersion??zl,this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=Ul();let n={rootEnvPath:e.relativeEnvPaths.rootEnvPath&&Mr.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&Mr.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},i;if(t?.adapter){i=Xn(t.adapter);let r="postgresql"===e.activeProvider?"postgres":e.activeProvider;if(i.provider!==r)throw new C(`The Driver Adapter \`${i.adapterName}\`, based on \`${i.provider}\`, is not compatible with the provider \`${r}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new C("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!i&&er(n,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let n=t??{},s=n.__internal??{},o=!0===s.debug;o&&M.enable("prisma:client");let l=Mr.default.resolve(e.dirname,e.relativePath);uu.default.existsSync(l)||(l=e.dirname),rt("dirname",e.dirname),rt("relativePath",e.relativePath),rt("cwd",l);let c=s.engine||{};if(n.errorFormat?this._errorFormat=n.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:o,allowTriggerPanic:c.allowTriggerPanic,datamodelPath:Mr.default.join(e.dirname,e.filename??"schema.prisma"),prismaPath:c.binaryPath??void 0,engineEndpoint:c.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:n.log&&Gl(n.log),logQueries:n.log&&!!("string"==typeof n.log?"query"===n.log:n.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:al(n,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:n.transactionOptions?.maxWait??2e3,timeout:n.transactionOptions?.timeout??5e3,isolationLevel:n.transactionOptions?.isolationLevel},logEmitter:r,isBundled:e.isBundled,adapter:i},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:$t,getBatchRequestPayload:Lt,prismaGraphQLToJSError:Ft,PrismaClientUnknownRequestError:U,PrismaClientInitializationError:C,PrismaClientKnownRequestError:te,debug:M("prisma:client:accelerateEngine"),engineVersion:su.version,clientVersion:e.clientVersion}},rt("clientVersion",e.clientVersion),this._engine=_l(e,this._engineConfig),this._requestHandler=new Wn(this,r),n.log)for(let e of n.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{ir.log(`${ir.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=xr(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(e){this._middlewares.use(e)}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{Vo()}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:vo({clientMethod:t,activeProvider:i}),callsite:Xe(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=ou(e,t);return Po(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new re("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(Po(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new re(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Dl,callsite:Xe(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:vo({clientMethod:t,activeProvider:i}),callsite:Xe(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...ou(e,t));throw new re("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new re("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){let r=lf.nextId(),n=Ql(e.length);return iu(e.map((e,i)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a={kind:"batch",id:r,index:i,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,lock:n};return e.requestTransaction?.(a)??e}))}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,n),a;try{let t={kind:"itx",...i};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return a}_createItxClient(e){return be(xr(be(Ga(this),[oe("_appliedParent",()=>this._appliedParent._createItxClient(e)),oe("_createPrismaPromise",()=>To(e)),oe(af,()=>e.id)])),[Nt(Ya)])}$transaction(e,t){let r;r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t});let n={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(n,r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??sf,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=-1,a=async r=>{let s=this._middlewares.get(++i);if(s)return this._tracingHelper.runInChildSpan(n.middleware,e=>s(r,t=>(e?.end(),a(t))));let{runInTransaction:o,args:l,...c}=r,u={...e,...c};l&&(u.args=t.middlewareArgsToRequestArgs(l)),void 0!==e.transaction&&!1===o&&delete u.transaction;let h=await el(this,u);return u.model?Ka({result:h,modelName:u.model,args:u.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(n.operation,()=>new au.AsyncResource("prisma-client-request").runInAsyncScope(()=>a(r)))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:s,transaction:o,unpacker:l,otelParentCtx:c,customDataProxyFetch:u}){try{e=s?s(e):e;let h={name:"serialize"},f=this._tracingHelper.runInChildSpan(h,()=>In({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return M.enabled("prisma:client")&&(rt("Prisma Client call:"),rt(`prisma.${t}(${Na(e)})`),rt("Generated request:"),rt(JSON.stringify(f,null,2)+`
`)),o?.kind==="batch"&&await o.lock,this._requestHandler.request({protocolQuery:f,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:o,unpacker:l,otelParentCtx:c,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:u})}catch(e){throw e.clientVersion=this._clientVersion,e}}_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}}return t}function ou(e,t){return uf(e)?[new le(e,t),Vl]:[e,jl]}function uf(e){return Array.isArray(e)&&Array.isArray(e.raw)}var cf=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function pu(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!cf.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function du(e){er(e,{conflictCheck:"warn"})}},35:(e,t)=>{"use strict";var r={H:null,A:null};function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Array.isArray,a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}var g=Object.prototype.hasOwnProperty,y=Object.assign;function b(e,t,r,n,i,s){return{$$typeof:a,type:e,key:t,ref:void 0!==(r=s.ref)?r:null,props:s}}function w(e,t){return b(e.type,t,void 0,void 0,void 0,e.props)}function v(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}function _(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var x=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?_(""+e.key):t.toString(36)}function S(){}function k(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function P(e,t,r,o,l){var c=typeof e;("undefined"===c||"boolean"===c)&&(e=null);var u=!1;if(null===e)u=!0;else switch(c){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case s:u=!0;break;case f:return P((u=e._init)(e._payload),t,r,o,l)}}if(u)return l=l(e),u=""===o?"."+E(e,0):o,i(l)?(r="",null!=u&&(r=u.replace(x,"$&/")+"/"),P(l,t,r,"",function(e){return e})):null!=l&&(v(l)&&(l=w(l,r+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(x,"$&/")+"/")+u)),t.push(l)),1;u=0;var d=""===o?".":o+":";if(i(e))for(var h=0;h<e.length;h++)c=d+E(o=e[h],h),u+=P(o,t,r,c,l);else if("function"==typeof(h=m(e)))for(e=h.call(e),h=0;!(o=e.next()).done;)c=d+E(o=o.value,h++),u+=P(o,t,r,c,l);else if("object"===c){if("function"==typeof e.then)return P(k(e),t,r,o,l);throw Error(n(31,"[object Object]"===(t=String(e))?"object with keys {"+Object.keys(e).join(", ")+"}":t))}return u}function A(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",function(e){return t.call(r,e,i++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function O(){return new WeakMap}function R(){return{s:0,v:void 0,o:null,p:null}}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!v(e))throw Error(n(143));return e}},t.Fragment=o,t.Profiler=c,t.StrictMode=l,t.Suspense=d,t.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,t.cache=function(e){return function(){var t=r.A;if(!t)return e.apply(null,arguments);var n=t.getCacheForType(O);void 0===(t=n.get(e))&&(t=R(),n.set(e,t)),n=0;for(var i=arguments.length;n<i;n++){var a=arguments[n];if("function"==typeof a||"object"==typeof a&&null!==a){var s=t.o;null===s&&(t.o=s=new WeakMap),void 0===(t=s.get(a))&&(t=R(),s.set(a,t))}else null===(s=t.p)&&(t.p=s=new Map),void 0===(t=s.get(a))&&(t=R(),s.set(a,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var o=e.apply(null,arguments);return(n=t).s=1,n.v=o}catch(e){throw(o=t).s=2,o.v=e,e}}},t.captureOwnerStack=function(){return null},t.cloneElement=function(e,t,r){if(null==e)throw Error(n(267,e));var i=y({},e.props),a=e.key,s=void 0;if(null!=t)for(o in void 0!==t.ref&&(s=void 0),void 0!==t.key&&(a=""+t.key),t)g.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}return b(e.type,a,void 0,void 0,s,i)},t.createElement=function(e,t,r){var n,i={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)g.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return b(e,a,void 0,void 0,null,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=v,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.use=function(e){return r.H.use(e)},t.useCallback=function(e,t){return r.H.useCallback(e,t)},t.useDebugValue=function(){},t.useId=function(){return r.H.useId()},t.useMemo=function(e,t){return r.H.useMemo(e,t)},t.version="19.1.0-canary-029e8bd6-20250306"},37:e=>{"use strict";e.exports=require("node:util")},58:(e,t,r)=>{"use strict";r.d(t,{xl:()=>s});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class i{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return a?new a:new i}},112:e=>{"use strict";e.exports=globalThis.__import_unsupported("path")},158:(e,t,r)=>{e.exports={...r(266)}},159:(e,t,r)=>{"use strict";r.d(t,{RM:()=>a,s8:()=>i});let n=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),i="NEXT_HTTP_ERROR_FALLBACK";function a(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&n.has(Number(r))}},167:(e,t,r)=>{"use strict";r.d(t,{nJ:()=>s,oJ:()=>i,zB:()=>a});var n=r(821);let i="NEXT_REDIRECT";var a=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,a]=t,s=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===i&&("replace"===a||"push"===a)&&"string"==typeof s&&!isNaN(o)&&o in n.Q}},199:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(159),i=r(167);function a(e){return(0,i.nJ)(e)||(0,n.RM)(e)}},201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getTestReqInfo:function(){return s},withRequest:function(){return a}});let n=new(r(521)).AsyncLocalStorage;function i(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let n=t.url(e);return{url:n,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function a(e,t,r){let a=i(e,t);return a?n.run(a,r):r()}function s(e,t){let r=n.getStore();return r||(e&&t?i(e,t):void 0)}},266:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let{Decimal:n,objectEnumValues:i,makeStrictEnum:a,Public:s,getRuntime:o,skip:l}=r(629),c={};t.Prisma=c,t.$Enums={},c.prismaVersion={client:"6.5.0",engine:"173f8d54f8d52e692c7e27e72a88314ec7aeff60"},c.PrismaClientKnownRequestError=()=>{let e=o().prettyName;throw Error(`PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.PrismaClientUnknownRequestError=()=>{let e=o().prettyName;throw Error(`PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.PrismaClientRustPanicError=()=>{let e=o().prettyName;throw Error(`PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.PrismaClientInitializationError=()=>{let e=o().prettyName;throw Error(`PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.PrismaClientValidationError=()=>{let e=o().prettyName;throw Error(`PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.Decimal=n,c.sql=()=>{let e=o().prettyName;throw Error(`sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.empty=()=>{let e=o().prettyName;throw Error(`empty is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.join=()=>{let e=o().prettyName;throw Error(`join is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.raw=()=>{let e=o().prettyName;throw Error(`raw is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.validator=s.validator,c.getExtensionContext=()=>{let e=o().prettyName;throw Error(`Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.defineExtension=()=>{let e=o().prettyName;throw Error(`Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},c.DbNull=i.instances.DbNull,c.JsonNull=i.instances.JsonNull,c.AnyNull=i.instances.AnyNull,c.NullTypes={DbNull:i.classes.DbNull,JsonNull:i.classes.JsonNull,AnyNull:i.classes.AnyNull},t.Prisma.TransactionIsolationLevel=a({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),t.Prisma.PostScalarFieldEnum={id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",createdById:"createdById"},t.Prisma.AccountScalarFieldEnum={id:"id",userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state",refresh_token_expires_in:"refresh_token_expires_in"},t.Prisma.SessionScalarFieldEnum={id:"id",sessionToken:"sessionToken",userId:"userId",expires:"expires"},t.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",password:"password"},t.Prisma.VerificationTokenScalarFieldEnum={identifier:"identifier",token:"token",expires:"expires"},t.Prisma.SortOrder={asc:"asc",desc:"desc"},t.Prisma.QueryMode={default:"default",insensitive:"insensitive"},t.Prisma.NullsOrder={first:"first",last:"last"},t.Prisma.ModelName={Post:"Post",Account:"Account",Session:"Session",User:"User",VerificationToken:"VerificationToken"};class u{constructor(){return new Proxy(this,{get(e,t){let r;let n=o();throw Error(r=(n.isEdge?`PrismaClient is not configured to run in ${n.prettyName}. In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters
`:"PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+n.prettyName+"`).")+`
If this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report`)}})}}t.PrismaClient=u,Object.assign(t,c)},280:(e,t,r)=>{var n,i="/";(()=>{var a={226:function(i,a){!function(s,o){"use strict";var l="",c="?",u="function",d="undefined",h="object",f="string",p="major",m="model",g="name",y="type",b="vendor",w="version",v="architecture",_="console",x="mobile",E="tablet",S="smarttv",k="wearable",P="embedded",A=350,T="Amazon",O="Apple",R="ASUS",C="BlackBerry",N="Browser",I="Chrome",$="Firefox",j="Google",D="Huawei",M="LG",U="Microsoft",L="Motorola",q="Opera",F="Samsung",V="Sharp",H="Sony",W="Xiaomi",B="Zebra",K="Facebook",J="Chromium OS",Z="Mac OS",z=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},X=function(e,t){return typeof e===f&&-1!==Q(t).indexOf(Q(e))},Q=function(e){return e.toLowerCase()},Y=function(e){return typeof e===f?e.replace(/[^\d\.]/g,l).split(".")[0]:void 0},ee=function(e,t){if(typeof e===f)return e=e.replace(/^\s\s*/,l),typeof t===d?e:e.substring(0,A)},et=function(e,t){for(var r,n,i,a,s,l,c=0;c<t.length&&!s;){var d=t[c],f=t[c+1];for(r=n=0;r<d.length&&!s&&d[r];)if(s=d[r++].exec(e))for(i=0;i<f.length;i++)l=s[++n],typeof(a=f[i])===h&&a.length>0?2===a.length?typeof a[1]==u?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==u||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;c+=2}},er=function(e,t){for(var r in t)if(typeof t[r]===h&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(X(t[r][n],e))return r===c?o:r}else if(X(t[r],e))return r===c?o:r;return e},en={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ei={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,w],[/opios[\/ ]+([\w\.]+)/i],[w,[g,q+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[g,q]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[g,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[w,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+N],w],[/\bfocus\/([\w\.]+)/i],[w,[g,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[g,q+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[g,q+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[g,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[w,[g,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+N]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+N],w],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,K],w],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[g,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,I+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[g,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[w,er,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[g,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[g,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[g,w],[/(cobalt)\/([\w\.]+)/i],[g,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Q]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,l,Q]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[b,F],[y,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[b,F],[y,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[b,O],[y,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[b,O],[y,E]],[/(macintosh);/i],[m,[b,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[b,V],[y,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[b,D],[y,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[b,D],[y,x]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[b,W],[y,x]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[b,W],[y,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[b,"OPPO"],[y,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[b,"Vivo"],[y,x]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[m,[b,"Realme"],[y,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[b,L],[y,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[b,L],[y,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[b,M],[y,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[b,M],[y,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[b,"Lenovo"],[y,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[b,"Nokia"],[y,x]],[/(pixel c)\b/i],[m,[b,j],[y,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[b,j],[y,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[b,H],[y,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[b,H],[y,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[b,"OnePlus"],[y,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[b,T],[y,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[b,T],[y,x]],[/(playbook);[-\w\),; ]+(rim)/i],[m,b,[y,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[b,C],[y,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[b,R],[y,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[b,R],[y,x]],[/(nexus 9)/i],[m,[b,"HTC"],[y,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[m,/_/g," "],[y,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[b,"Acer"],[y,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[b,"Meizu"],[y,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,m,[y,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,m,[y,E]],[/(surface duo)/i],[m,[b,U],[y,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[b,"Fairphone"],[y,x]],[/(u304aa)/i],[m,[b,"AT&T"],[y,x]],[/\bsie-(\w*)/i],[m,[b,"Siemens"],[y,x]],[/\b(rct\w+) b/i],[m,[b,"RCA"],[y,E]],[/\b(venue[\d ]{2,7}) b/i],[m,[b,"Dell"],[y,E]],[/\b(q(?:mv|ta)\w+) b/i],[m,[b,"Verizon"],[y,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[b,"Barnes & Noble"],[y,E]],[/\b(tm\d{3}\w+) b/i],[m,[b,"NuVision"],[y,E]],[/\b(k88) b/i],[m,[b,"ZTE"],[y,E]],[/\b(nx\d{3}j) b/i],[m,[b,"ZTE"],[y,x]],[/\b(gen\d{3}) b.+49h/i],[m,[b,"Swiss"],[y,x]],[/\b(zur\d{3}) b/i],[m,[b,"Swiss"],[y,E]],[/\b((zeki)?tb.*\b) b/i],[m,[b,"Zeki"],[y,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],m,[y,E]],[/\b(ns-?\w{0,9}) b/i],[m,[b,"Insignia"],[y,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[b,"NextBook"],[y,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],m,[y,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],m,[y,x]],[/\b(ph-1) /i],[m,[b,"Essential"],[y,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[b,"Envizen"],[y,E]],[/\b(trio[-\w\. ]+) b/i],[m,[b,"MachSpeed"],[y,E]],[/\btu_(1491) b/i],[m,[b,"Rotor"],[y,E]],[/(shield[\w ]+) b/i],[m,[b,"Nvidia"],[y,E]],[/(sprint) (\w+)/i],[b,m,[y,x]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[b,U],[y,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[b,B],[y,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[b,B],[y,x]],[/smart-tv.+(samsung)/i],[b,[y,S]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[b,F],[y,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,M],[y,S]],[/(apple) ?tv/i],[b,[m,O+" TV"],[y,S]],[/crkey/i],[[m,I+"cast"],[b,j],[y,S]],[/droid.+aft(\w)( bui|\))/i],[m,[b,T],[y,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[b,V],[y,S]],[/(bravia[\w ]+)( bui|\))/i],[m,[b,H],[y,S]],[/(mitv-\w{5}) bui/i],[m,[b,W],[y,S]],[/Hbbtv.*(technisat) (.*);/i],[b,m,[y,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,ee],[m,ee],[y,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,m,[y,_]],[/droid.+; (shield) bui/i],[m,[b,"Nvidia"],[y,_]],[/(playstation [345portablevi]+)/i],[m,[b,H],[y,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[b,U],[y,_]],[/((pebble))app/i],[b,m,[y,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[b,O],[y,k]],[/droid.+; (glass) \d/i],[m,[b,j],[y,k]],[/droid.+; (wt63?0{2,3})\)/i],[m,[b,B],[y,k]],[/(quest( 2| pro)?)/i],[m,[b,K],[y,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,P]],[/(aeobc)\b/i],[m,[b,T],[y,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[m,[y,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[y,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,x]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[g,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[w,er,en]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[w,er,en]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Z],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,w],[/\(bb(10);/i],[w,[g,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[g,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[g,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,J],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,w],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,w]]},ea=function(e,t){if(typeof e===h&&(t=e,e=o),!(this instanceof ea))return new ea(e,t).getResult();var r=typeof s!==d&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:l),i=r&&r.userAgentData?r.userAgentData:o,a=t?z(ei,t):ei,c=r&&r.userAgent==n;return this.getBrowser=function(){var e={};return e[g]=o,e[w]=o,et.call(e,n,a.browser),e[p]=Y(e[w]),c&&r&&r.brave&&typeof r.brave.isBrave==u&&(e[g]="Brave"),e},this.getCPU=function(){var e={};return e[v]=o,et.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[b]=o,e[m]=o,e[y]=o,et.call(e,n,a.device),c&&!e[y]&&i&&i.mobile&&(e[y]=x),c&&"Macintosh"==e[m]&&r&&typeof r.standalone!==d&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[m]="iPad",e[y]=E),e},this.getEngine=function(){var e={};return e[g]=o,e[w]=o,et.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[g]=o,e[w]=o,et.call(e,n,a.os),c&&!e[g]&&i&&"Unknown"!=i.platform&&(e[g]=i.platform.replace(/chrome os/i,J).replace(/macos/i,Z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===f&&e.length>A?ee(e,A):e,this},this.setUA(n),this};ea.VERSION="1.0.35",ea.BROWSER=G([g,w,p]),ea.CPU=G([v]),ea.DEVICE=G([m,b,y,_,x,S,E,k,P]),ea.ENGINE=ea.OS=G([g,w]),typeof a!==d?("object"!==d&&i.exports&&(a=i.exports=ea),a.UAParser=ea):"function"===u&&r.amdO?void 0!==(n=(function(){return ea}).call(t,r,t,e))&&(e.exports=n):typeof s!==d&&(s.UAParser=ea);var es=typeof s!==d&&(s.jQuery||s.Zepto);if(es&&!es.ua){var eo=new ea;es.ua=eo.getResult(),es.ua.get=function(){return eo.getUA()},es.ua.set=function(e){eo.setUA(e);var t=eo.getResult();for(var r in t)es.ua[r]=t[r]}}}("object"==typeof window?window:this)}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{a[e].call(r.exports,r,r.exports,o),n=!1}finally{n&&delete s[e]}return r.exports}o.ab=i+"/",e.exports=o(226)})()},334:(e,t,r)=>{"use strict";r.d(t,{XN:()=>i,FP:()=>n});let n=(0,r(58).xl)();function i(e){let t=n.getStore();if(t){if("request"===t.type)return t;if("prerender"===t.type||"prerender-ppr"===t.type||"prerender-legacy"===t.type)throw Object.defineProperty(Error(`\`${e}\` cannot be called inside a prerender. This is a bug in Next.js.`),"__NEXT_ERROR_CODE",{value:"E401",enumerable:!1,configurable:!0});if("cache"===t.type)throw Object.defineProperty(Error(`\`${e}\` cannot be called inside "use cache". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E37",enumerable:!1,configurable:!0});if("unstable-cache"===t.type)throw Object.defineProperty(Error(`\`${e}\` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E69",enumerable:!1,configurable:!0})}throw Object.defineProperty(Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}},351:e=>{"use strict";e.exports=require("node:events")},356:e=>{"use strict";e.exports=require("node:buffer")},388:(e,t,r)=>{e.exports={...r(158)}},418:e=>{"use strict";e.exports=globalThis.__import_unsupported("crypto")},485:e=>{"use strict";e.exports=globalThis.__import_unsupported("os")},521:e=>{"use strict";e.exports=require("node:async_hooks")},535:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});let n=(0,r(58).xl)()},550:e=>{"use strict";e.exports=globalThis.__import_unsupported("tty")},552:(e,t,r)=>{"use strict";var n=r(356).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleFetch:function(){return c},interceptFetch:function(){return u},reader:function(){return a}});let i=r(201),a={url:e=>e.url,header:(e,t)=>e.headers.get(t)};function s(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}async function o(e,t){let{url:r,method:i,headers:a,body:o,cache:l,credentials:c,integrity:u,mode:d,redirect:h,referrer:f,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:i,headers:[...Array.from(a),["next-test-stack",s()]],body:o?n.from(await t.arrayBuffer()).toString("base64"):null,cache:l,credentials:c,integrity:u,mode:d,redirect:h,referrer:f,referrerPolicy:p}}}function l(e){let{status:t,headers:r,body:i}=e.response;return new Response(i?n.from(i,"base64"):null,{status:t,headers:new Headers(r)})}async function c(e,t){let r=(0,i.getTestReqInfo)(t,a);if(!r)return e(t);let{testData:n,proxyPort:s}=r,c=await o(n,t),u=await e(`http://localhost:${s}`,{method:"POST",body:JSON.stringify(c),next:{internal:!0}});if(!u.ok)throw Object.defineProperty(Error(`Proxy request failed: ${u.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let d=await u.json(),{api:h}=d;switch(h){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0})}return l(d)}function u(e){return r.g.fetch=function(t,r){var n;return(null==r?void 0:null==(n=r.next)?void 0:n.internal)?e(t,r):c(e,new Request(t,r))},()=>{r.g.fetch=e}}},557:(e,t,r)=>{"use strict";r.d(t,{t3:()=>h,I3:()=>m,Ui:()=>f,xI:()=>c,Pk:()=>u});var n=r(815),i=r(16);r(602),r(334),r(535),r(801);let a="__next_metadata_boundary__",s="__next_viewport_boundary__",o="__next_outlet_boundary__",l="function"==typeof n.unstable_postpone;function c(e,t,r){let n=Object.defineProperty(new i.F(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function u(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function d(e,t,r){let n=b(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function h(e,t,r,n){let i=n.dynamicTracking;throw i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicExpression=t,i.syncDynamicErrorWithStack=r,!0===n.validating&&(i.syncDynamicLogged=!0)),d(e,t,n),b(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function f(e,t,r){w(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.unstable_postpone(p(e,t))}function p(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function m(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&g(e.message)}function g(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===g(p("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let y="NEXT_PRERENDER_INTERRUPTED";function b(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=y,t}function w(){if(!l)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}RegExp(`\\n\\s+at ${a}[\\n\\s]`),RegExp(`\\n\\s+at ${s}[\\n\\s]`),RegExp(`\\n\\s+at ${o}[\\n\\s]`)},602:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});let n="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=n}}},612:(e,t,r)=>{"use strict";let n,i,a,s,o,l,c;r.r(t),r.d(t,{default:()=>fy});var u,d,h,f,p,m,g={};async function y(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}r.r(g),r.d(g,{config:()=>fh,default:()=>fd});let b=null;async function w(){if("phase-production-build"===process.env.NEXT_PHASE)return;b||(b=y());let e=await b;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function v(...e){let t=await y();try{var r;await (null==t?void 0:null==(r=t.onRequestError)?void 0:r.call(t,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let _=null;function x(){return _||(_=w()),_}function E(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}function S(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Object.defineProperty(Error(E(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(E(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(r,n,i){if("function"==typeof i[0])return i[0](t);throw Object.defineProperty(Error(E(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>t})}!function(){process!==r.g.process&&(process.env=r.g.process.env,r.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:S,enumerable:!1,configurable:!1}),x()}();class k extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class P extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class A extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let T="nxtP",O="nxtI",R="x-prerender-revalidate",C="x-prerender-revalidate-if-generated",N={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function I(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function $(e){var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function c(){return"="!==(r=e.charAt(o))&&";"!==r&&","!==r}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&c();)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function j(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...$(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function D(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function M(e){for(let t of[T,O])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}({...N,GROUP:{builtinReact:[N.reactServerComponents,N.actionBrowser],serverOnly:[N.reactServerComponents,N.actionBrowser,N.instrument,N.middleware],neutralTarget:[N.apiNode,N.apiEdge],clientOnly:[N.serverSideRendering,N.appPagesBrowser],bundled:[N.reactServerComponents,N.actionBrowser,N.serverSideRendering,N.appPagesBrowser,N.shared,N.instrument,N.middleware],appPages:[N.reactServerComponents,N.serverSideRendering,N.appPagesBrowser,N.actionBrowser]}});let U=Symbol("response"),L=Symbol("passThrough"),q=Symbol("waitUntil");class F{constructor(e,t){this[L]=!1,this[q]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[U]||(this[U]=Promise.resolve(e))}passThroughOnException(){this[L]=!0}waitUntil(e){if("external"===this[q].kind)return(0,this[q].function)(e);this[q].promises.push(e)}}function V(e){return"internal"===e[q].kind?Promise.all(e[q].promises).then(()=>{}):void 0}class H extends F{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new k({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new k({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function W(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}function B(e){return e.replace(/\/$/,"")||"/"}function K(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function J(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=K(e);return""+t+r+n+i}function Z(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=K(e);return""+r+t+n+i}function z(e,t){if("string"!=typeof e)return!1;let{pathname:r}=K(e);return r===t||r.startsWith(t+"/")}function G(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(z(i,"/api")||z(i,"/"+t.toLowerCase()))?e:J(e,"/"+t)}function X(e){let t=G(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=B(t)),e.buildId&&(t=Z(J(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=J(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:Z(t,"/"):B(t)}function Q(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}let Y=new WeakMap;function ee(e,t){let r;if(!t)return{pathname:e};let n=Y.get(t);n||(n=t.map(e=>e.toLowerCase()),Y.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),s=n.indexOf(a);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}function et(e,t){if(!z(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}function er(e,t){var r,n;let{basePath:i,i18n:a,trailingSlash:s}=null!=(r=t.nextConfig)?r:{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):s};i&&z(o.pathname,i)&&(o.pathname=et(o.pathname,i),o.basePath=i);let l=o.pathname;if(o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){let e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");o.buildId=e[0],l="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(o.pathname=l)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(o.pathname):ee(o.pathname,a.locales);o.locale=e.detectedLocale,o.pathname=null!=(n=e.pathname)?n:o.pathname,!e.detectedLocale&&o.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(l):ee(l,a.locales)).detectedLocale&&(o.locale=e.detectedLocale)}return o}let en=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function ei(e,t){return new URL(String(e).replace(en,"localhost"),t&&String(t).replace(en,"localhost"))}let ea=Symbol("NextURLInternal");class es{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[ea]={url:ei(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let a=er(this[ea].url.pathname,{nextConfig:this[ea].options.nextConfig,parseData:!0,i18nProvider:this[ea].options.i18nProvider}),s=Q(this[ea].url,this[ea].options.headers);this[ea].domainLocale=this[ea].options.i18nProvider?this[ea].options.i18nProvider.detectDomainLocale(s):W(null==(t=this[ea].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,s);let o=(null==(r=this[ea].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[ea].options.nextConfig)?void 0:null==(n=i.i18n)?void 0:n.defaultLocale);this[ea].url.pathname=a.pathname,this[ea].defaultLocale=o,this[ea].basePath=a.basePath??"",this[ea].buildId=a.buildId,this[ea].locale=a.locale??o,this[ea].trailingSlash=a.trailingSlash}formatPathname(){return X({basePath:this[ea].basePath,buildId:this[ea].buildId,defaultLocale:this[ea].options.forceLocale?void 0:this[ea].defaultLocale,locale:this[ea].locale,pathname:this[ea].url.pathname,trailingSlash:this[ea].trailingSlash})}formatSearch(){return this[ea].url.search}get buildId(){return this[ea].buildId}set buildId(e){this[ea].buildId=e}get locale(){return this[ea].locale??""}set locale(e){var t,r;if(!this[ea].locale||!(null==(r=this[ea].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[ea].locale=e}get defaultLocale(){return this[ea].defaultLocale}get domainLocale(){return this[ea].domainLocale}get searchParams(){return this[ea].url.searchParams}get host(){return this[ea].url.host}set host(e){this[ea].url.host=e}get hostname(){return this[ea].url.hostname}set hostname(e){this[ea].url.hostname=e}get port(){return this[ea].url.port}set port(e){this[ea].url.port=e}get protocol(){return this[ea].url.protocol}set protocol(e){this[ea].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[ea].url=ei(e),this.analyze()}get origin(){return this[ea].url.origin}get pathname(){return this[ea].url.pathname}set pathname(e){this[ea].url.pathname=e}get hash(){return this[ea].url.hash}set hash(e){this[ea].url.hash=e}get search(){return this[ea].url.search}set search(e){this[ea].url.search=e}get password(){return this[ea].url.password}set password(e){this[ea].url.password=e}get username(){return this[ea].url.username}set username(e){this[ea].url.username=e}get basePath(){return this[ea].basePath}set basePath(e){this[ea].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new es(String(this),this[ea].options)}}var eo=r(724);let el=Symbol("internal request");class ec extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);D(r),e instanceof Request?super(e,t):super(r,t);let n=new es(r,{headers:j(this.headers),nextConfig:t.nextConfig});this[el]={cookies:new eo.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[el].cookies}get nextUrl(){return this[el].nextUrl}get page(){throw new P}get ua(){throw new A}get url(){return this[el].url}}class eu{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let ed=Symbol("internal response"),eh=new Set([301,302,303,307,308]);function ef(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class ep extends Response{constructor(e,t={}){super(e,t);let r=this.headers,n=new Proxy(new eo.ResponseCookies(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let a=Reflect.apply(e[n],e,i),s=new Headers(r);return a instanceof eo.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,eo.stringifyCookie)(e)).join(",")),ef(t,s),a};default:return eu.get(e,n,i)}}});this[ed]={cookies:n,url:t.url?new es(t.url,{headers:j(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[ed].cookies}static json(e,t){let r=Response.json(e,t);return new ep(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!eh.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",D(e)),new ep(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",D(e)),ef(t,r),new ep(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),ef(e,t),new ep(null,{...e,headers:t})}}function em(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),i=n.origin===r.origin;return{url:i?n.toString().slice(r.origin.length):n.toString(),isRelative:i}}function eg(e,t){return em(e,t).url}let ey="RSC",eb="Next-Router-Prefetch",ew=[ey,"Next-Router-State-Tree",eb,"Next-HMR-Refresh","Next-Router-Segment-Prefetch"],ev="_rsc",e_="x-nextjs-rewritten-path",ex="x-nextjs-rewritten-query";function eE(e){let t="string"==typeof e,r=t?new URL(e):e;return r.searchParams.delete(ev),t?r.toString():r}function eS(e){return e.startsWith("/")?e:"/"+e}function ek(e){return"("===e[0]&&e.endsWith(")")}function eP(e){return eS(e.split("/").reduce((e,t,r,n)=>!t||ek(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function eA(e){return e.replace(/\.rsc($|\?)/,"$1")}class eT extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new eT}}class eO extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return eu.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return eu.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return eu.set(t,r,n,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return eu.set(t,s??r,n,i)},has(t,r){if("symbol"==typeof r)return eu.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&eu.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return eu.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||eu.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return eT.callable;default:return eu.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new eO(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}var eR=r(535),eC=r(334);class eN extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new eN}}class eI{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return eN.callable;default:return eu.get(e,t,r)}}})}}let e$=Symbol.for("next.mutated.cookies");class ej{static wrap(e,t){let r=new eo.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,a=()=>{let e=eR.J.getStore();if(e&&(e.pathWasRevalidated=!0),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new eo.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},s=new Proxy(r,{get(e,t,r){switch(t){case e$:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),s}finally{a()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),s}finally{a()}};default:return eu.get(e,t,r)}}});return s}}function eD(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return eU("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return eU("cookies().set"),e.set(...r),t};default:return eu.get(e,r,n)}}});return t}function eM(e){return"action"===e.phase}function eU(e){if(!eM((0,eC.XN)(e)))throw new eN}var eL=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(eL||{}),eq=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(eq||{}),eF=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(eF||{}),eV=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(eV||{}),eH=function(e){return e.startServer="startServer.startServer",e}(eH||{}),eW=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(eW||{}),eB=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(eB||{}),eK=function(e){return e.executeRoute="Router.executeRoute",e}(eK||{}),eJ=function(e){return e.runHandler="Node.runHandler",e}(eJ||{}),eZ=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(eZ||{}),ez=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(ez||{}),eG=function(e){return e.execute="Middleware.execute",e}(eG||{});let eX=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],eQ=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function eY(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let{context:e0,propagation:e1,trace:e2,SpanStatusCode:e5,SpanKind:e4,ROOT_CONTEXT:e3}=n=r(956);class e6 extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function e9(e){return"object"==typeof e&&null!==e&&e instanceof e6}let e8=(e,t)=>{e9(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:e5.ERROR,message:null==t?void 0:t.message})),e.end()},e7=new Map,te=n.createContextKey("next.rootSpanId"),tt=0,tr=()=>tt++,tn={set(e,t,r){e.push({key:t,value:r})}};class ti{getTracerInstance(){return e2.getTracer("next.js","0.0.1")}getContext(){return e0}getTracePropagationData(){let e=e0.active(),t=[];return e1.inject(e,t,tn),t}getActiveScopeSpan(){return e2.getSpan(null==e0?void 0:e0.active())}withPropagatedContext(e,t,r){let n=e0.active();if(e2.getSpanContext(n))return t();let i=e1.extract(n,e,r);return e0.with(i,t)}trace(...e){var t;let[r,n,i]=e,{fn:a,options:s}="function"==typeof n?{fn:n,options:{}}:{fn:i,options:{...n}},o=s.spanName??r;if(!eX.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||s.hideSpan)return a();let l=this.getSpanContext((null==s?void 0:s.parentSpan)??this.getActiveScopeSpan()),c=!1;l?(null==(t=e2.getSpanContext(l))?void 0:t.isRemote)&&(c=!0):(l=(null==e0?void 0:e0.active())??e3,c=!0);let u=tr();return s.attributes={"next.span_name":o,"next.span_type":r,...s.attributes},e0.with(l.setValue(te,u),()=>this.getTracerInstance().startActiveSpan(o,s,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{e7.delete(u),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&eQ.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};c&&e7.set(u,new Map(Object.entries(s.attributes??{})));try{if(a.length>1)return a(e,t=>e8(e,t));let t=a(e);if(eY(t))return t.then(t=>(e.end(),t)).catch(t=>{throw e8(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw e8(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return eX.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,s=arguments[a];if("function"!=typeof s)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(e0.active(),s);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?e2.setSpan(e0.active(),e):void 0}getRootSpanAttributes(){let e=e0.active().getValue(te);return e7.get(e)}setRootSpanAttribute(e,t){let r=e0.active().getValue(te),n=e7.get(r);n&&n.set(e,t)}}let ta=(()=>{let e=new ti;return()=>e})();function ts(e,t){let r=eO.from(e.headers);return{isOnDemandRevalidate:r.get(R)===t.previewModeId,revalidateOnlyGenerated:r.has(C)}}let to="__prerender_bypass";Symbol("__next_preview_data"),Symbol(to);class tl{constructor(e,t,r,n){var i;let a=e&&ts(t,e).isOnDemandRevalidate,s=null==(i=r.get(to))?void 0:i.value;this.isEnabled=!!(!a&&s&&e&&s===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:to,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:to,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}function tc(e){let t=eO.from(e);for(let e of ew)t.delete(e.toLowerCase());return eO.seal(t)}function tu(e,t){let r=new eo.RequestCookies(eO.from(e));return ej.wrap(r,t)}function td(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of $(r))n.append("set-cookie",e);for(let e of new eo.ResponseCookies(n).getAll())t.set(e)}}function th(e,t,r,n,i){return tf("action",e,void 0,t,{},r,n,void 0,i,!1,void 0)}function tf(e,t,r,n,i,a,s,o,l,c,u){function d(e){r&&r.setHeader("Set-Cookie",e)}let h={};return{type:"request",phase:e,implicitTags:a??[],url:{pathname:n.pathname,search:n.search??""},rootParams:i,get headers(){return h.headers||(h.headers=tc(t.headers)),h.headers},get cookies(){if(!h.cookies){let e=new eo.RequestCookies(eO.from(t.headers));td(t,e),h.cookies=eI.seal(e)}return h.cookies},set cookies(value){h.cookies=value},get mutableCookies(){if(!h.mutableCookies){let e=tu(t.headers,s||(r?d:void 0));td(t,e),h.mutableCookies=e}return h.mutableCookies},get userspaceMutableCookies(){return h.userspaceMutableCookies||(h.userspaceMutableCookies=eD(this.mutableCookies)),h.userspaceMutableCookies},get draftMode(){return h.draftMode||(h.draftMode=new tl(l,t,this.cookies,this.mutableCookies)),h.draftMode},renderResumeDataCache:o??null,isHmrRefresh:c,serverComponentsHmrCache:u||globalThis.__serverComponentsHmrCache}}var tp=r(802),tm=r.n(tp);class tg extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}async function ty(e,t){if(!e)return t();let r=tb(e);try{return await t()}finally{let t=tw(r,tb(e));await tv(e,t)}}function tb(e){return{revalidatedTags:e.revalidatedTags?[...e.revalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}function tw(e,t){let r=new Set(e.revalidatedTags),n=new Set(e.pendingRevalidateWrites);return{revalidatedTags:t.revalidatedTags.filter(e=>!r.has(e)),pendingRevalidates:Object.fromEntries(Object.entries(t.pendingRevalidates).filter(([t])=>!(t in e.pendingRevalidates))),pendingRevalidateWrites:t.pendingRevalidateWrites.filter(e=>!n.has(e))}}async function tv(e,{revalidatedTags:t,pendingRevalidates:r,pendingRevalidateWrites:n}){var i;return Promise.all([null==(i=e.incrementalCache)?void 0:i.revalidateTag(t),...Object.values(r),...n])}let t_=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class tx{disable(){throw t_}getStore(){}run(){throw t_}exit(){throw t_}enterWith(){throw t_}static bind(e){return e}}let tE="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function tS(e){return tE?tE.bind(e):tx.bind(e)}let tk=function e(){return tE?new tE:new tx}();class tP{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new(tm()),this.callbackQueue.pause()}after(e){if(eY(e))this.waitUntil||tA(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){this.waitUntil||tA();let t=eC.FP.getStore();t&&this.workUnitStores.add(t);let r=tk.getStore(),n=r?r.rootTaskSpawnPhase:null==t?void 0:t.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let i=tS(async()=>{try{await tk.run({rootTaskSpawnPhase:n},()=>e())}catch(e){this.reportTaskError("function",e)}});this.callbackQueue.add(i)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=eR.J.getStore();if(!e)throw Object.defineProperty(new tg("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return ty(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new tg("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function tA(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function tT({page:e,fallbackRouteParams:t,renderOpts:r,requestEndedState:n,isPrefetchRequest:i,buildId:a}){let s={isStaticGeneration:!r.shouldWaitOnAllReady&&!r.supportsDynamicResponse&&!r.isDraftMode&&!r.isServerAction,page:e,fallbackRouteParams:t,route:eP(e),incrementalCache:r.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:r.cacheLifeProfiles,isRevalidate:r.isRevalidate,isPrerendering:r.nextExport,fetchCache:r.fetchCache,isOnDemandRevalidate:r.isOnDemandRevalidate,isDraftMode:r.isDraftMode,requestEndedState:n,isPrefetchRequest:i,buildId:a,reactLoadableManifest:(null==r?void 0:r.reactLoadableManifest)||{},assetPrefix:(null==r?void 0:r.assetPrefix)||"",afterContext:tO(r),dynamicIOEnabled:r.experimental.dynamicIO,dev:r.dev??!1};return r.store=s,s}function tO(e){let{waitUntil:t,onClose:r,onAfterTaskError:n}=e;return new tP({waitUntil:t,onClose:r,onTaskError:n})}class tR{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function tC(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID,previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}function tN(){let e=globalThis[tI];return null==e?void 0:e.get()}let tI=Symbol.for("@next/request-context");class t$ extends ec{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new k({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new k({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new k({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let tj={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},tD=(e,t)=>ta().withPropagatedContext(e.headers,t,tj),tM=!1;function tU(){if(!tM&&(tM=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:e,wrapRequestHandler:t}=r(905);e(),tD=t(tD)}}async function tL(e){var t;let r,n;tU(),await x();let i=void 0!==globalThis.__BUILD_MANIFEST;e.request.url=eA(e.request.url);let a=new es(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig});for(let e of[...a.searchParams.keys()]){let t=a.searchParams.getAll(e),r=M(e);if(r){for(let e of(a.searchParams.delete(r),t))a.searchParams.append(r,e);a.searchParams.delete(e)}}let s=a.buildId;a.buildId="";let o=I(e.request.headers),l=o.has("x-nextjs-data"),c="1"===o.get(ey);l&&"/index"===a.pathname&&(a.pathname="/");let u=new Map;if(!i)for(let e of ew){let t=e.toLowerCase(),r=o.get(t);null!==r&&(u.set(t,r),o.delete(t))}let d=a,h=new t$({page:e.page,input:eE(d).toString(),init:{body:e.request.body,headers:o,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});l&&Object.defineProperty(h,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:tC()})}));let f=e.request.waitUntil??(null==(t=tN())?void 0:t.waitUntil),p=new H({request:h,page:e.page,context:f?{waitUntil:f}:void 0});if((r=await tD(h,()=>{if("/middleware"===e.page||"/src/middleware"===e.page){let t=p.waitUntil.bind(p),r=new tR;return ta().trace(eG.execute,{spanName:`middleware ${h.method} ${h.nextUrl.pathname}`,attributes:{"http.target":h.nextUrl.pathname,"http.method":h.method}},async()=>{try{var i,a,o,l;let c=e=>{n=e},u=tC(),d=th(h,h.nextUrl,void 0,c,u),f=tT({page:"/",fallbackRouteParams:null,renderOpts:{cacheLifeProfiles:null==(a=e.request.nextConfig)?void 0:null==(i=a.experimental)?void 0:i.cacheLife,experimental:{isRoutePPREnabled:!1,dynamicIO:!1,authInterrupts:!!(null==(l=e.request.nextConfig)?void 0:null==(o=l.experimental)?void 0:o.authInterrupts)},supportsDynamicResponse:!0,waitUntil:t,onClose:r.onClose.bind(r),onAfterTaskError:void 0},requestEndedState:{ended:!1},isPrefetchRequest:h.headers.has(eb),buildId:s??""});return await eR.J.run(f,()=>eC.FP.run(d,e.handler,h,p))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return e.handler(h,p)}))&&!(r instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});r&&n&&r.headers.set("set-cookie",n);let m=null==r?void 0:r.headers.get("x-middleware-rewrite");if(r&&m&&(c||!i)){let t=new es(m,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});i||t.host!==h.nextUrl.host||(t.buildId=s||t.buildId,r.headers.set("x-middleware-rewrite",String(t)));let{url:n,isRelative:o}=em(t.toString(),a.toString());!i&&l&&r.headers.set("x-nextjs-rewrite",n),c&&o&&(a.pathname!==t.pathname&&r.headers.set(e_,t.pathname),a.search!==t.search&&r.headers.set(ex,t.search.slice(1)))}let g=null==r?void 0:r.headers.get("Location");if(r&&g&&!i){let t=new es(g,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});r=new Response(r.body,r),t.host===a.host&&(t.buildId=s||t.buildId,r.headers.set("Location",t.toString())),l&&(r.headers.delete("Location"),r.headers.set("x-nextjs-redirect",eg(t.toString(),a.toString())))}let y=r||ep.next(),b=y.headers.get("x-middleware-override-headers"),w=[];if(b){for(let[e,t]of u)y.headers.set(`x-middleware-request-${e}`,t),w.push(e);w.length>0&&y.headers.set("x-middleware-override-headers",b+","+w.join(","))}return{response:y,waitUntil:V(p)??Promise.resolve(),fetchMetrics:h.fetchMetrics}}var tq=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},tF=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};let tV=4096,tH=160,tW=3936;function tB(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class tK{constructor(e,t,r){if(am.add(this),ag.set(this,{}),ay.set(this,void 0),ab.set(this,void 0),tq(this,ab,r,"f"),tq(this,ay,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(tF(this,ag,"f")[e]=r)}get value(){return Object.keys(tF(this,ag,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>tF(this,ag,"f")[e]).join("")}chunk(e,t){let r=tF(this,am,"m",av).call(this);for(let n of tF(this,am,"m",aw).call(this,{name:tF(this,ay,"f").name,value:e,options:{...tF(this,ay,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(tF(this,am,"m",av).call(this))}}ag=new WeakMap,ay=new WeakMap,ab=new WeakMap,am=new WeakSet,aw=function(e){let t=Math.ceil(e.value.length/tW);if(1===t)return tF(this,ag,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(n*tW,tW);r.push({...e,name:t,value:i}),tF(this,ag,"f")[t]=i}return tF(this,ab,"f").debug("CHUNKING_SESSION_COOKIE",{message:`Session cookie exceeds allowed ${tV} bytes.`,emptyCookieSize:tH,valueSize:e.value.length,chunks:r.map(e=>e.value.length+tH)}),r},av=function(){let e={};for(let t in tF(this,ag,"f"))delete tF(this,ag,"f")?.[t],e[t]={name:t,value:"",options:{...tF(this,ay,"f").options,maxAge:0}};return e};class tJ extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class tZ extends tJ{}tZ.kind="signIn";class tz extends tJ{}tz.type="AdapterError";class tG extends tJ{}tG.type="AccessDenied";class tX extends tJ{}tX.type="CallbackRouteError";class tQ extends tJ{}tQ.type="ErrorPageLoop";class tY extends tJ{}tY.type="EventError";class t0 extends tJ{}t0.type="InvalidCallbackUrl";class t1 extends tZ{constructor(){super(...arguments),this.code="credentials"}}t1.type="CredentialsSignin";class t2 extends tJ{}t2.type="InvalidEndpoints";class t5 extends tJ{}t5.type="InvalidCheck";class t4 extends tJ{}t4.type="JWTSessionError";class t3 extends tJ{}t3.type="MissingAdapter";class t6 extends tJ{}t6.type="MissingAdapterMethods";class t9 extends tJ{}t9.type="MissingAuthorize";class t8 extends tJ{}t8.type="MissingSecret";class t7 extends tZ{}t7.type="OAuthAccountNotLinked";class re extends tZ{}re.type="OAuthCallbackError";class rt extends tJ{}rt.type="OAuthProfileParseError";class rr extends tJ{}rr.type="SessionTokenError";class rn extends tZ{}rn.type="OAuthSignInError";class ri extends tZ{}ri.type="EmailSignInError";class ra extends tJ{}ra.type="SignOutError";class rs extends tJ{}rs.type="UnknownAction";class ro extends tJ{}ro.type="UnsupportedStrategy";class rl extends tJ{}rl.type="InvalidProvider";class rc extends tJ{}rc.type="UntrustedHost";class ru extends tJ{}ru.type="Verification";class rd extends tZ{}rd.type="MissingCSRF";let rh=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);function rf(e){return e instanceof tJ&&rh.has(e.type)}class rp extends tJ{}rp.type="DuplicateConditionalUI";class rm extends tJ{}rm.type="MissingWebAuthnAutocomplete";class rg extends tJ{}rg.type="WebAuthnVerificationError";class ry extends tZ{}ry.type="AccountNotLinked";class rb extends tJ{}rb.type="ExperimentalFeatureNotEnabled";let rw=!1;function rv(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}function r_(e){return/^v\d+(?:\.\d+){0,2}$/.test(e)}let rx=!1,rE=!1,rS=!1,rk=["createVerificationToken","useVerificationToken","getUserByEmail"],rP=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],rA=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];function rT(e,t){let{url:r}=e,n=[];if(!rw&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new rc(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new t8("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!rv(i,r.origin))return new t0(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=tB(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!rv(s,r.origin))return new t0(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new t2(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)rx=!0;else if("email"===t.type)rE=!0;else if("webauthn"===t.type){if(rS=!0,t.simpleWebAuthnBrowserVersion&&!r_(t.simpleWebAuthnBrowserVersion))return new tJ(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new rp("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new rm(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(rx){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new ro("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new t9("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:c}=t,u=[];if(rE||c?.strategy==="database"||!c?.strategy&&l){if(rE){if(!l)return new t3("Email login requires an adapter");u.push(...rk)}else{if(!l)return new t3("Database session requires an adapter");u.push(...rP)}}if(rS){if(!t.experimental?.enableWebAuthn)return new rb("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!l)return new t3("WebAuthn requires an adapter");u.push(...rA)}if(l){let e=u.filter(e=>!(e in l));if(e.length)return new t6(`Required adapter methods were missing: ${e.join(", ")}`)}return rw||(rw=!0),n}let rO=()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")},rR=async(e,t,r,n,i)=>{let{crypto:{subtle:a}}=rO();return new Uint8Array(await a.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await a.importKey("raw",t,"HKDF",!1,["deriveBits"]),i<<3))};function rC(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}function rN(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function rI(e){let t=rN(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}function r$(e){let t=rN(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}function rj(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}async function rD(e,t,r,n,i){return rR(rC(e),rI(t),rN(r,"salt"),r$(n),rj(i,e))}let rM=crypto,rU=e=>e instanceof CryptoKey,rL=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await rM.subtle.digest(r,t))},rq=new TextEncoder,rF=new TextDecoder,rV=0x100000000;function rH(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function rW(e,t){return rH(rq.encode(e),new Uint8Array([0]),t)}function rB(e,t,r){if(t<0||t>=rV)throw RangeError(`value must be >= 0 and <= ${rV-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function rK(e){let t=Math.floor(e/rV),r=e%rV,n=new Uint8Array(8);return rB(n,t,0),rB(n,r,4),n}function rJ(e){let t=new Uint8Array(4);return rB(t,e),t}function rZ(e){return rH(rJ(e.length),e)}async function rz(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(rJ(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await rL("sha256",n),32*t)}return i.slice(0,t>>3)}let rG=e=>{let t=e;"string"==typeof t&&(t=rq.encode(t));let r=32768,n=[];for(let e=0;e<t.length;e+=r)n.push(String.fromCharCode.apply(null,t.subarray(e,e+r)));return btoa(n.join(""))},rX=e=>rG(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),rQ=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},rY=e=>{let t=e;t instanceof Uint8Array&&(t=rF.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return rQ(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class r0 extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}r0.code="ERR_JOSE_GENERIC";class r1 extends r0{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}r1.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class r2 extends r0{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}r2.code="ERR_JWT_EXPIRED";class r5 extends r0{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}r5.code="ERR_JOSE_ALG_NOT_ALLOWED";class r4 extends r0{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}r4.code="ERR_JOSE_NOT_SUPPORTED";class r3 extends r0{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}r3.code="ERR_JWE_DECRYPTION_FAILED";class r6 extends r0{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}r6.code="ERR_JWE_INVALID";class r9 extends r0{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}r9.code="ERR_JWS_INVALID";class r8 extends r0{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}r8.code="ERR_JWT_INVALID";class r7 extends r0{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}r7.code="ERR_JWK_INVALID";class ne extends r0{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}ne.code="ERR_JWKS_INVALID";class nt extends r0{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}nt.code="ERR_JWKS_NO_MATCHING_KEY";class nr extends r0{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,nr.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class nn extends r0{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}nn.code="ERR_JWKS_TIMEOUT";class ni extends r0{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function na(e){return"object"==typeof e&&null!==e}function ns(e){if(!na(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}ni.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";let no=(e,t)=>{if("string"!=typeof e||!e)throw new r7(`${t} missing or invalid`)};async function nl(e,t){let r;if(!ns(e))throw TypeError("JWK must be an object");if(t??(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":no(e.crv,'"crv" (Curve) Parameter'),no(e.x,'"x" (X Coordinate) Parameter'),no(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":no(e.crv,'"crv" (Subtype of Key Pair) Parameter'),no(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":no(e.e,'"e" (Exponent) Parameter'),no(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":no(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new r4('"kty" (Key Type) Parameter missing or unsupported')}let n=rq.encode(JSON.stringify(r));return rX(await rL(t,n))}let nc=rX,nu=rY,nd=Symbol(),nh=rM.getRandomValues.bind(rM);function nf(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new r4(`Unsupported JWE Algorithm: ${e}`)}}let np=e=>nh(new Uint8Array(nf(e)>>3)),nm=(e,t)=>{if(t.length<<3!==nf(e))throw new r6("Invalid Initialization Vector length")},ng=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new r6(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)};function ny(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function nb(e,t){return e.name===t}function nw(e){return parseInt(e.name.slice(4),10)}function nv(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function n_(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!nb(e.algorithm,"AES-GCM"))throw ny("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ny(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!nb(e.algorithm,"AES-KW"))throw ny("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ny(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw ny("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!nb(e.algorithm,"PBKDF2"))throw ny("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!nb(e.algorithm,"RSA-OAEP"))throw ny("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(nw(e.algorithm.hash)!==r)throw ny(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}nv(e,r)}function nx(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let nE=(e,...t)=>nx("Key must be ",e,...t);function nS(e,t,...r){return nx(`Key for the ${e} algorithm must be `,t,...r)}let nk=e=>!!rU(e)||e?.[Symbol.toStringTag]==="KeyObject",nP=["CryptoKey"];async function nA(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(nE(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),s=await rM.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),o=await rM.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await rM.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),c=rH(i,n,l,rK(i.length<<3));return{ciphertext:l,tag:new Uint8Array((await rM.subtle.sign("HMAC",o,c)).slice(0,a>>3)),iv:n}}async function nT(e,t,r,n,i){let a;r instanceof Uint8Array?a=await rM.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(n_(r,e,"encrypt"),a=r);let s=new Uint8Array(await rM.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),o=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:o,iv:n}}let nO=async(e,t,r,n,i)=>{if(!rU(r)&&!(r instanceof Uint8Array))throw TypeError(nE(r,...nP,"Uint8Array"));switch(n?nm(e,n):n=np(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&ng(r,parseInt(e.slice(-3),10)),nA(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&ng(r,parseInt(e.slice(1,4),10)),nT(e,t,r,n,i);default:throw new r4("Unsupported JWE Content Encryption Algorithm")}},nR=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function nC(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function nN(e,t,r){if(rU(e))return n_(e,t,r),e;if(e instanceof Uint8Array)return rM.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(nE(e,...nP,"Uint8Array"))}let nI=async(e,t,r)=>{let n=await nN(t,e,"wrapKey");nC(n,e);let i=await rM.subtle.importKey("raw",r,...nR);return new Uint8Array(await rM.subtle.wrapKey("raw",i,n,"AES-KW"))},n$=async(e,t,r)=>{let n=await nN(t,e,"unwrapKey");nC(n,e);let i=await rM.subtle.unwrapKey("raw",r,n,"AES-KW",...nR);return new Uint8Array(await rM.subtle.exportKey("raw",i))};async function nj(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let s;if(!rU(e))throw TypeError(nE(e,...nP));if(n_(e,"ECDH"),!rU(t))throw TypeError(nE(t,...nP));n_(t,"ECDH","deriveBits");let o=rH(rZ(rq.encode(r)),rZ(i),rZ(a),rJ(n));return s="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,rz(new Uint8Array(await rM.subtle.deriveBits({name:e.algorithm.name,public:e},t,s)),n,o)}async function nD(e){if(!rU(e))throw TypeError(nE(e,...nP));return rM.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function nM(e){if(!rU(e))throw TypeError(nE(e,...nP));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}function nU(e){if(!(e instanceof Uint8Array)||e.length<8)throw new r6("PBES2 Salt Input must be 8 or more octets")}function nL(e,t){if(e instanceof Uint8Array)return rM.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(rU(e))return n_(e,t,"deriveBits","deriveKey"),e;throw TypeError(nE(e,...nP,"Uint8Array"))}async function nq(e,t,r,n){nU(e);let i=rW(t,e),a=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},o={length:a,name:"AES-KW"},l=await nL(n,t);if(l.usages.includes("deriveBits"))return new Uint8Array(await rM.subtle.deriveBits(s,l,a));if(l.usages.includes("deriveKey"))return rM.subtle.deriveKey(s,l,o,!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let nF=async(e,t,r,n=2048,i=nh(new Uint8Array(16)))=>{let a=await nq(i,e,n,t);return{encryptedKey:await nI(e.slice(-6),a,r),p2c:n,p2s:rX(i)}},nV=async(e,t,r,n,i)=>{let a=await nq(i,e,n,t);return n$(e.slice(-6),a,r)};function nH(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new r4(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let nW=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},nB=async(e,t,r)=>{if(!rU(t))throw TypeError(nE(t,...nP));if(n_(t,e,"encrypt","wrapKey"),nW(e,t),t.usages.includes("encrypt"))return new Uint8Array(await rM.subtle.encrypt(nH(e),t,r));if(t.usages.includes("wrapKey")){let n=await rM.subtle.importKey("raw",r,...nR);return new Uint8Array(await rM.subtle.wrapKey("raw",n,t,nH(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},nK=async(e,t,r)=>{if(!rU(t))throw TypeError(nE(t,...nP));if(n_(t,e,"decrypt","unwrapKey"),nW(e,t),t.usages.includes("decrypt"))return new Uint8Array(await rM.subtle.decrypt(nH(e),t,r));if(t.usages.includes("unwrapKey")){let n=await rM.subtle.unwrapKey("raw",r,t,nH(e),...nR);return new Uint8Array(await rM.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function nJ(e){return ns(e)&&"string"==typeof e.kty}function nZ(e){return"oct"!==e.kty&&"string"==typeof e.d}function nz(e){return"oct"!==e.kty&&void 0===e.d}function nG(e){return nJ(e)&&"oct"===e.kty&&"string"==typeof e.k}function nX(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new r4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new r4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new r4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new r4('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}let nQ=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=nX(e),n=[t,e.ext??!1,e.key_ops??r],i={...e};return delete i.alg,delete i.use,rM.subtle.importKey("jwk",i,...n)},nY=e=>rY(e),n0=e=>e?.[Symbol.toStringTag]==="KeyObject",n1=async(e,t,r,n,i=!1)=>{let a=e.get(t);if(a?.[n])return a[n];let s=await nQ({...r,alg:n});return i&&Object.freeze(t),a?a[n]=s:e.set(t,{[n]:s}),s},n2={normalizePublicKey:(e,t)=>{if(n0(e)){let r=e.export({format:"jwk"});return(delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k)?nY(r.k):(a||(a=new WeakMap),n1(a,e,r,t))}return nJ(e)?e.k?rY(e.k):(a||(a=new WeakMap),n1(a,e,e,t,!0)):e},normalizePrivateKey:(e,t)=>{if(n0(e)){let r=e.export({format:"jwk"});return r.k?nY(r.k):(i||(i=new WeakMap),n1(i,e,r,t))}return nJ(e)?e.k?rY(e.k):(i||(i=new WeakMap),n1(i,e,e,t,!0)):e}};function n5(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new r4(`Unsupported JWE Algorithm: ${e}`)}}let n4=e=>nh(new Uint8Array(n5(e)>>3)),n3=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:rX(e)};if(!rU(e))throw TypeError(nE(e,...nP,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await rM.subtle.exportKey("jwk",e);return a};async function n6(e){return n3(e)}let n9=e=>e?.[Symbol.toStringTag],n8=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},n7=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&nJ(t)){if(nG(t)&&n8(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!nk(t))throw TypeError(nS(e,t,...nP,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${n9(t)} instances for symmetric algorithms must be of type "secret"`)}},ie=(e,t,r,n)=>{if(n&&nJ(t))switch(r){case"sign":if(nZ(t)&&n8(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(nz(t)&&n8(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!nk(t))throw TypeError(nS(e,t,...nP,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${n9(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${n9(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${n9(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${n9(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${n9(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function it(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?n7(t,r,n,e):ie(t,r,n,e)}let ir=it.bind(void 0,!1);it.bind(void 0,!0);let ii=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n};async function ia(e,t,r,n,i,a){let s,o;if(!(t instanceof Uint8Array))throw TypeError(nE(t,"Uint8Array"));let l=parseInt(e.slice(1,4),10),c=await rM.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),u=await rM.subtle.importKey("raw",t.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=rH(a,n,r,rK(a.length<<3)),h=new Uint8Array((await rM.subtle.sign("HMAC",u,d)).slice(0,l>>3));try{s=ii(i,h)}catch{}if(!s)throw new r3;try{o=new Uint8Array(await rM.subtle.decrypt({iv:n,name:"AES-CBC"},c,r))}catch{}if(!o)throw new r3;return o}async function is(e,t,r,n,i,a){let s;t instanceof Uint8Array?s=await rM.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(n_(t,e,"decrypt"),s=t);try{return new Uint8Array(await rM.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},s,rH(r,i)))}catch{throw new r3}}let io=async(e,t,r,n,i,a)=>{if(!rU(t)&&!(t instanceof Uint8Array))throw TypeError(nE(t,...nP,"Uint8Array"));if(!n)throw new r6("JWE Initialization Vector missing");if(!i)throw new r6("JWE Authentication Tag missing");switch(nm(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&ng(t,parseInt(e.slice(-3),10)),ia(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&ng(t,parseInt(e.slice(1,4),10)),is(e,t,r,n,i,a);default:throw new r4("Unsupported JWE Content Encryption Algorithm")}};async function il(e,t,r,n){let i=e.slice(0,7),a=await nO(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:rX(a.iv),tag:rX(a.tag)}}async function ic(e,t,r,n,i){return io(e.slice(0,7),t,r,n,i,new Uint8Array(0))}let iu=async function(e,t,r,n,i={}){let a,s,o;switch(ir(e,r,"encrypt"),r=await n2.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!nM(r))throw new r4("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:c}=i,{epk:u}=i;u||(u=(await nD(r)).privateKey);let{x:d,y:h,crv:f,kty:p}=await n6(u),m=await nj(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?n5(t):parseInt(e.slice(-5,-2),10),l,c);if(s={epk:{x:d,crv:f,kty:p}},"EC"===p&&(s.epk.y=h),l&&(s.apu=rX(l)),c&&(s.apv=rX(c)),"ECDH-ES"===e){o=m;break}o=n||n4(t);let g=e.slice(-6);a=await nI(g,m,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||n4(t),a=await nB(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||n4(t);let{p2c:l,p2s:c}=i;({encryptedKey:a,...s}=await nF(e,r,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":o=n||n4(t),a=await nI(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||n4(t);let{iv:l}=i;({encryptedKey:a,...s}=await il(e,r,o,l));break}default:throw new r4('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}},id=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},ih=function(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new r4(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)};class ip{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new r6("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!id(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new r6("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ih(r6,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new r4('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:c}=o;if("string"!=typeof l||!l)throw new r6('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof c||!c)throw new r6('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===l||"ECDH-ES"===l))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await iu(l,c,e,this._cek,this._keyManagementParameters)),i&&(t&&nd in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}a=this._protectedHeader?rq.encode(rX(JSON.stringify(this._protectedHeader))):rq.encode(""),this._aad?(s=rX(this._aad),i=rH(a,rq.encode("."),rq.encode(s))):i=a;let{ciphertext:u,tag:d,iv:h}=await nO(c,this._plaintext,n,this._iv,i),f={ciphertext:rX(u)};return h&&(f.iv=rX(h)),d&&(f.tag=rX(d)),r&&(f.encrypted_key=rX(r)),s&&(f.aad=s),this._protectedHeader&&(f.protected=rF.decode(a)),this._sharedUnprotectedHeader&&(f.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(f.header=this._unprotectedHeader),f}}class im{constructor(e){this._flattened=new ip(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let ig=e=>Math.floor(e.getTime()/1e3),iy=60,ib=3600,iw=86400,iv=604800,i_=0x1e187e0,ix=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,iE=e=>{let t;let r=ix.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(n*iy);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(n*ib);break;case"day":case"days":case"d":t=Math.round(n*iw);break;case"week":case"weeks":case"w":t=Math.round(n*iv);break;default:t=Math.round(n*i_)}return"-"===r[1]||"ago"===r[4]?-t:t};function iS(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class ik{constructor(e={}){if(!ns(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:iS("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:iS("setNotBefore",ig(e))}:this._payload={...this._payload,nbf:ig(new Date)+iE(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:iS("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:iS("setExpirationTime",ig(e))}:this._payload={...this._payload,exp:ig(new Date)+iE(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ig(new Date)}:e instanceof Date?this._payload={...this._payload,iat:iS("setIssuedAt",ig(e))}:"string"==typeof e?this._payload={...this._payload,iat:iS("setIssuedAt",ig(new Date)+iE(e))}:this._payload={...this._payload,iat:iS("setIssuedAt",e)},this}}class iP extends ik{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new im(rq.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}async function iA(e,t){if(!ns(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return rY(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new r4('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return nQ({...e,alg:t});default:throw new r4('Unsupported "kty" (Key Type) Parameter value')}}let iT=async function(e,t,r,n,i){switch(ir(e,t,"decrypt"),t=await n2.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new r6("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new r6("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!ns(n.epk))throw new r6('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!nM(t))throw new r4("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await iA(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new r6('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=rY(n.apu)}catch{throw new r6("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new r6('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=rY(n.apv)}catch{throw new r6("Failed to base64url decode the apv")}}let o=await nj(s,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?n5(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new r6("JWE Encrypted Key missing");return n$(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new r6("JWE Encrypted Key missing");return nK(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new r6("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new r6('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new r6('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new r6('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=rY(n.p2s)}catch{throw new r6("Failed to base64url decode the p2s")}return nV(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new r6("JWE Encrypted Key missing");return n$(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new r6("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new r6('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new r6('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=rY(n.iv)}catch{throw new r6("Failed to base64url decode the iv")}try{a=rY(n.tag)}catch{throw new r6("Failed to base64url decode the tag")}return ic(e,t,r,i,a)}default:throw new r4('Invalid or unsupported "alg" (JWE Algorithm) header value')}},iO=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function iR(e,t,r){let n,i,a,s,o,l,c;if(!ns(e))throw new r6("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new r6("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new r6("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new r6("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new r6("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new r6("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new r6("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new r6("JWE AAD incorrect type");if(void 0!==e.header&&!ns(e.header))throw new r6("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ns(e.unprotected))throw new r6("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=rY(e.protected);n=JSON.parse(rF.decode(t))}catch{throw new r6("JWE Protected Header is invalid")}if(!id(n,e.header,e.unprotected))throw new r6("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...n,...e.header,...e.unprotected};if(ih(r6,new Map,r?.crit,n,u),void 0!==u.zip)throw new r4('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:h}=u;if("string"!=typeof d||!d)throw new r6("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof h||!h)throw new r6("missing JWE Encryption Algorithm (enc) in JWE Header");let f=r&&iO("keyManagementAlgorithms",r.keyManagementAlgorithms),p=r&&iO("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(f&&!f.has(d)||!f&&d.startsWith("PBES2"))throw new r5('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(h))throw new r5('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=rY(e.encrypted_key)}catch{throw new r6("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(n,e),m=!0);try{a=await iT(d,t,i,u,r)}catch(e){if(e instanceof TypeError||e instanceof r6||e instanceof r4)throw e;a=n4(h)}if(void 0!==e.iv)try{s=rY(e.iv)}catch{throw new r6("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=rY(e.tag)}catch{throw new r6("Failed to base64url decode the tag")}let g=rq.encode(e.protected??"");l=void 0!==e.aad?rH(g,rq.encode("."),rq.encode(e.aad)):g;try{c=rY(e.ciphertext)}catch{throw new r6("Failed to base64url decode the ciphertext")}let y={plaintext:await io(h,a,c,s,o,l)};if(void 0!==e.protected&&(y.protectedHeader=n),void 0!==e.aad)try{y.additionalAuthenticatedData=rY(e.aad)}catch{throw new r6("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(y.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(y.unprotectedHeader=e.header),m)?{...y,key:t}:y}async function iC(e,t,r){if(e instanceof Uint8Array&&(e=rF.decode(e)),"string"!=typeof e)throw new r6("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:s,4:o,length:l}=e.split(".");if(5!==l)throw new r6("Invalid Compact JWE");let c=await iR({ciphertext:s,iv:a||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}let iN=e=>e.toLowerCase().replace(/^application\//,""),iI=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),i$=(e,t,r={})=>{let n,i;try{n=JSON.parse(rF.decode(t))}catch{}if(!ns(n))throw new r8("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||iN(e.typ)!==iN(a)))throw new r1('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:l,audience:c,maxTokenAge:u}=r,d=[...s];for(let e of(void 0!==u&&d.push("iat"),void 0!==c&&d.push("aud"),void 0!==l&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new r1(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new r1('unexpected "iss" claim value',n,"iss","check_failed");if(l&&n.sub!==l)throw new r1('unexpected "sub" claim value',n,"sub","check_failed");if(c&&!iI(n.aud,"string"==typeof c?[c]:c))throw new r1('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=iE(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,f=ig(h||new Date);if((void 0!==n.iat||u)&&"number"!=typeof n.iat)throw new r1('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new r1('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>f+i)throw new r1('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new r1('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=f-i)throw new r2('"exp" claim timestamp check failed',n,"exp","check_failed")}if(u){let e=f-n.iat;if(e-i>("number"==typeof u?u:iE(u)))throw new r2('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new r1('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function ij(e,t,r){let n=await iC(e,t,r),i=i$(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new r1('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new r1('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new r1('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:a};return"function"==typeof t?{...s,key:n.key}:s}var iD=r(7);let iM=2592e3,iU=()=>Date.now()/1e3|0,iL="dir",iq="A256CBC-HS512";async function iF(e){let{token:t={},secret:r,maxAge:n=iM,salt:i}=e,a=Array.isArray(r)?r:[r],s=await iH(iq,a[0],i),o=await nl({kty:"oct",k:nc(s)},`sha${s.byteLength<<3}`);return await new iP(t).setProtectedHeader({alg:iL,enc:iq,kid:o}).setIssuedAt().setExpirationTime(iU()+n).setJti(crypto.randomUUID()).encrypt(s)}async function iV(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await ij(t,async({kid:e,enc:t})=>{for(let r of i){let i=await iH(t,r,n);if(void 0===e||e===await nl({kty:"oct",k:nc(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:[iL],contentEncryptionAlgorithms:[iq,"A256GCM"]});return a}async function iH(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await rD("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function iW({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let iB="\x1b[31m",iK="\x1b[33m",iJ="\x1b[90m",iZ="\x1b[0m",iz={error(e){let t=e instanceof tJ?e.type:e.name;if(console.error(`${iB}[auth][error]${iZ} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${iB}[auth][cause]${iZ}:`,t.stack),r&&console.error(`${iB}[auth][details]${iZ}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`${iK}[auth][warn][${e}]${iZ}`,`Read more: ${t}`)},debug(e,t){console.log(`${iJ}[auth][debug]:${iZ} ${e}`,JSON.stringify(t,null,2))}};function iG(e){let t={...iz};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let iX=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];function iQ(e){return iX.includes(e)}async function iY(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function i0(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new rs("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=i3(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await iY(e):void 0,cookies:(0,iD.q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=iG(t);r.error(n),r.debug("request",e)}}function i1(e){return new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}function i2(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=iD.l(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function i5(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function i4(e){let t=e=>("0"+e.toString(16)).slice(-2),r=(e,r)=>e+t(r);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce(r,"")}function i3(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new rs(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new rs(`Cannot parse action at ${e}`);let[i,a]=n;if(!iQ(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new rs(`Cannot parse action at ${e}`);return{action:i,providerId:a}}async function i6({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await i5(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=i4(32),a=await i5(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function i9(e,t){if(!t)throw new rd(`CSRF token was missing during an action ${e}`)}function i8(e){return null!==e&&"object"==typeof e}function i7(e,...t){if(!t.length)return e;let r=t.shift();if(i8(e)&&i8(r))for(let t in r)i8(r[t])?(i8(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),i7(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return i7(e,...t)}let ae=Symbol("skip-csrf-check"),at=Symbol("return-type-raw"),ar=Symbol("custom-fetch"),an=Symbol("conform-internal");function ai(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,s=i?.id??a.id,o=i7(a,i,{signinUrl:`${n}/signin/${s}`,callbackUrl:`${n}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let e=aa(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[ar]??(e[ar]=i?.[ar]),e}return o});return{providers:i,provider:i.find(({id:e})=>e===t)}}function aa(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=ac(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=ac(e.token,e.issuer),n=ac(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??as,account:e.account??ao}}let as=e=>al({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),ao=e=>al({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function al(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function ac(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}function au(e){return"oidc"===e.type}let ad={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function ah({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:l}){let c=iG(e),{providers:u,provider:d}=ai({url:n,providerId:t,config:e}),h=2592e3,f=!1;if((d?.type==="oauth"||d?.type==="oidc")&&d.redirectProxyUrl)try{f=new URL(d.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${d.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:d,cookies:i7(tB(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:u,session:{strategy:e.adapter?"database":"jwt",maxAge:h,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??h,encode:iF,decode:iV,...e.jwt},events:af(e.events??{},c),adapter:ap(e.adapter,c),callbacks:{...ad,...e.callbacks},logger:c,callbackUrl:n.origin,isOnRedirectProxy:f,experimental:{...e.experimental}},m=[];if(o)p.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await i6({options:p,cookieValue:i?.[p.cookies.csrfToken.name],isPost:l,bodyValue:s});p.csrfToken=e,p.csrfTokenVerified=r,t&&m.push({name:p.cookies.csrfToken.name,value:t,options:p.cookies.csrfToken.options})}let{callbackUrl:g,callbackUrlCookie:y}=await iW({options:p,cookieValue:i?.[p.cookies.callbackUrl.name],paramValue:a});return p.callbackUrl=g,y&&m.push({name:p.cookies.callbackUrl.name,value:y,options:p.cookies.callbackUrl.options}),{options:p,cookies:m}}function af(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{let t=e[n];return await t(...r)}catch(e){t.error(new tY(e))}},r),{})}function ap(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new tz(r);throw t.error(e),e}},r),{})}var am,ag,ay,ab,aw,av,a_,ax,aE,aS,ak,aP,aA,aT={},aO=[],aR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function aC(e,t){for(var r in t)e[r]=t[r];return e}function aN(e){var t=e.parentNode;t&&t.removeChild(e)}function aI(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?a_.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return a$(e,s,n,i,null)}function a$(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++aE:i};return null==i&&null!=ax.vnode&&ax.vnode(a),a}function aj(e){return e.children}function aD(e,t){this.props=e,this.context=t}function aM(e,t){if(null==t)return e.__?aM(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?aM(e):null}function aU(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return aU(e)}}function aL(e){(!e.__d&&(e.__d=!0)&&ak.push(e)&&!aq.__r++||aP!==ax.debounceRendering)&&((aP=ax.debounceRendering)||setTimeout)(aq)}function aq(){for(var e;aq.__r=ak.length;)e=ak.sort(function(e,t){return e.__v.__b-t.__v.__b}),ak=[],e.some(function(e){var t,r,n,i,a,s;e.__d&&(a=(i=(t=e).__v).__e,(s=t.__P)&&(r=[],(n=aC({},i)).__v=i.__v+1,az(s,i,n,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[a]:null,r,null==a?aM(i):a,i.__h),aG(r,i),i.__e!=a&&aU(i)))})}function aF(e,t,r,n,i,a,s,o,l,c){var u,d,h,f,p,m,g,y=n&&n.__k||aO,b=y.length;for(r.__k=[],u=0;u<t.length;u++)if(null!=(f=r.__k[u]=null==(f=t[u])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?a$(null,f,null,null,f):Array.isArray(f)?a$(aj,{children:f},null,null,null):f.__b>0?a$(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=r,f.__b=r.__b+1,null===(h=y[u])||h&&f.key==h.key&&f.type===h.type)y[u]=void 0;else for(d=0;d<b;d++){if((h=y[d])&&f.key==h.key&&f.type===h.type){y[d]=void 0;break}h=null}az(e,f,h=h||aT,i,a,s,o,l,c),p=f.__e,(d=f.ref)&&h.ref!=d&&(g||(g=[]),h.ref&&g.push(h.ref,null,f),g.push(d,f.__c||p,f)),null!=p?(null==m&&(m=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=aV(f,l,e):l=aH(e,f,h,y,p,l),"function"==typeof r.type&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=aM(h))}for(r.__e=m,u=b;u--;)null!=y[u]&&aY(y[u],y[u]);if(g)for(u=0;u<g.length;u++)aQ(g[u],g[++u],g[++u])}function aV(e,t,r){for(var n,i=e.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=e,t="function"==typeof n.type?aV(n,t,r):aH(r,n,n,i,n.__e,t));return t}function aH(e,t,r,n,i,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=a||null==i.parentNode)t:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break t;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function aW(e,t,r,n,i){var a;for(a in r)"children"===a||"key"===a||a in t||aK(e,a,null,r[a],n);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||aK(e,a,t[a],r[a],n)}function aB(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||aR.test(t)?r:r+"px"}function aK(e,t,r,n,i){var a;t:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||aB(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||aB(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?aZ:aJ,a):e.removeEventListener(t,a?aZ:aJ,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break t}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function aJ(e){this.l[e.type+!1](ax.event?ax.event(e):e)}function aZ(e){this.l[e.type+!0](ax.event?ax.event(e):e)}function az(e,t,r,n,i,a,s,o,l){var c,u,d,h,f,p,m,g,y,b,w,v,_,x,E,S=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(l=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(c=ax.__b)&&c(t);try{t:if("function"==typeof S){if(g=t.props,y=(c=S.contextType)&&n[c.__c],b=c?y?y.props.value:c.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:("prototype"in S&&S.prototype.render?t.__c=u=new S(g,b):(t.__c=u=new aD(g,b),u.constructor=S,u.render=a0),y&&y.sub(u),u.props=g,u.state||(u.state={}),u.context=b,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=S.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=aC({},u.__s)),aC(u.__s,S.getDerivedStateFromProps(g,u.__s))),h=u.props,f=u.state,d)null==S.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==S.getDerivedStateFromProps&&g!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,b),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,b)||t.__v===r.__v){for(u.props=g,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&s.push(u);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,b),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(h,f,p)})}if(u.context=b,u.props=g,u.__v=t,u.__P=e,v=ax.__r,_=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[]}else do u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++_<25);u.state=u.__s,null!=u.getChildContext&&(n=aC(aC({},n),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(h,f)),E=null!=c&&c.type===aj&&null==c.key?c.props.children:c,aF(e,Array.isArray(E)?E:[E],t,r,n,i,a,s,o,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=aX(r.__e,t,r,n,i,a,s,l);(c=ax.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),ax.__e(e,t,r)}}function aG(e,t){ax.__c&&ax.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){ax.__e(e,t.__v)}})}function aX(e,t,r,n,i,a,s,o){var l,c,u,d=r.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=a){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,a[p]=null;break}}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,o=!1}if(null===f)d===h||o&&e.data===h||(e.data=h);else{if(a=a&&a_.call(e.childNodes),c=(d=r.props||aT).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(aW(e,h,d,i,o),u)t.__k=[];else if(aF(e,Array.isArray(p=t.props.children)?p:[p],t,r,n,i&&"foreignObject"!==f,a,s,a?a[0]:r.__k&&aM(r,0),o),null!=a)for(p=a.length;p--;)null!=a[p]&&aN(a[p]);o||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&aK(e,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&aK(e,"checked",p,d.checked,!1))}return e}function aQ(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){ax.__e(e,r)}}function aY(e,t,r){var n,i;if(ax.unmount&&ax.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||aQ(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){ax.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&aY(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||aN(e.__e),e.__=e.__e=e.__d=void 0}function a0(e,t,r){return this.constructor(e,r)}function a1(e,t,r){var n,i,a;ax.__&&ax.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,a=[],az(t,e=(!n&&r||t).__k=aI(aj,null,[e]),i||aT,aT,void 0!==t.ownerSVGElement,!n&&r?[r]:i?null:t.firstChild?a_.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n),aG(a,e)}function a2(e,t){a1(e,t,a2)}a_=aO.slice,ax={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},aE=0,aS=function(e){return null!=e&&void 0===e.constructor},aD.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=aC({},this.state),"function"==typeof e&&(e=e(aC({},r),this.props)),e&&aC(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),aL(this))},aD.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),aL(this))},aD.prototype.render=aj,ak=[],aq.__r=0,aA=0;var a5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,a4=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,a3=/[\s\n\\/='"\0<>]/,a6=/^xlink:?./,a9=/["&<]/;function a8(e){if(!1===a9.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var a7=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},se=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},st={},sr=/([A-Z])/g;function sn(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:st[r]||(st[r]=r.replace(sr,"-$1").toLowerCase()),t="number"==typeof n&&!1===a5.test(r)?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function si(e,t){return Array.isArray(t)?t.reduce(si,e):null!=t&&!1!==t&&e.push(t),e}function sa(){this.__d=!0}function ss(e,t){return{__v:e,context:t,props:e.props,setState:sa,forceUpdate:sa,__d:!0,__h:[]}}function so(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var sl=[];function sc(e,t,r,n,i,a){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return a8(e);var s=r.pretty,o=s&&"string"==typeof s?s:"	";if(Array.isArray(e)){for(var l="",c=0;c<e.length;c++)s&&c>0&&(l+="\n"),l+=sc(e[c],t,r,n,i,a);return l}var u,d=e.type,h=e.props,f=!1;if("function"==typeof d){if(f=!0,!r.shallow||!n&&!1!==r.renderRootComponent){if(d===aj){var p=[];return si(p,e.props.children),sc(p,t,r,!1!==r.shallowHighOrder,i,a)}var m,g=e.__c=ss(e,t);ax.__b&&ax.__b(e);var y=ax.__r;if(d.prototype&&"function"==typeof d.prototype.render){var b=so(d,t);(g=e.__c=new d(h,b)).__v=e,g._dirty=g.__d=!0,g.props=h,null==g.state&&(g.state={}),null==g._nextState&&null==g.__s&&(g._nextState=g.__s=g.state),g.context=b,d.getDerivedStateFromProps?g.state=Object.assign({},g.state,d.getDerivedStateFromProps(g.props,g.state)):g.componentWillMount&&(g.componentWillMount(),g.state=g._nextState!==g.state?g._nextState:g.__s!==g.state?g.__s:g.state),y&&y(e),m=g.render(g.props,g.state,g.context)}else for(var w=so(d,t),v=0;g.__d&&v++<25;)g.__d=!1,y&&y(e),m=d.call(e.__c,h,w);return g.getChildContext&&(t=Object.assign({},t,g.getChildContext())),ax.diffed&&ax.diffed(e),sc(m,t,r,!1!==r.shallowHighOrder,i,a)}d=(u=d).displayName||u!==Function&&u.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=sl.length;n--;)if(sl[n]===e){r=n;break}r<0&&(r=sl.push(e)-1),t="UnnamedComponent"+r}return t}(u)}var _,x,E="<"+d;if(h){var S=Object.keys(h);r&&!0===r.sortAttributes&&S.sort();for(var k=0;k<S.length;k++){var P=S[k],A=h[P];if("children"!==P){if(!a3.test(P)&&(r&&r.allAttributes||"key"!==P&&"ref"!==P&&"__self"!==P&&"__source"!==P)){if("defaultValue"===P)P="value";else if("defaultChecked"===P)P="checked";else if("defaultSelected"===P)P="selected";else if("className"===P){if(void 0!==h.class)continue;P="class"}else i&&a6.test(P)&&(P=P.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===P){if(h.for)continue;P="for"}"style"===P&&A&&"object"==typeof A&&(A=sn(A)),"a"===P[0]&&"r"===P[1]&&"boolean"==typeof A&&(A=String(A));var T=r.attributeHook&&r.attributeHook(P,A,t,r,f);if(T||""===T)E+=T;else if("dangerouslySetInnerHTML"===P)x=A&&A.__html;else if("textarea"===d&&"value"===P)_=A;else if((A||0===A||""===A)&&"function"!=typeof A){if(!(!0!==A&&""!==A||(A=P,r&&r.xml))){E=E+" "+P;continue}if("value"===P){if("select"===d){a=A;continue}"option"===d&&a==A&&void 0===h.selected&&(E+=" selected")}E=E+" "+P+'="'+a8(A)+'"'}}}else _=A}}if(s){var O=E.replace(/\n\s*/," ");O===E||~O.indexOf("\n")?s&&~E.indexOf("\n")&&(E+="\n"):E=O}if(E+=">",a3.test(d))throw Error(d+" is not a valid HTML tag name in "+E);var R,C=a4.test(d)||r.voidElements&&r.voidElements.test(d),N=[];if(x)s&&se(x)&&(x="\n"+o+a7(x,o)),E+=x;else if(null!=_&&si(R=[],_).length){for(var I=s&&~E.indexOf("\n"),$=!1,j=0;j<R.length;j++){var D=R[j];if(null!=D&&!1!==D){var M=sc(D,t,r,!0,"svg"===d||"foreignObject"!==d&&i,a);if(s&&!I&&se(M)&&(I=!0),M){if(s){var U=M.length>0&&"<"!=M[0];$&&U?N[N.length-1]+=M:N.push(M),$=U}else N.push(M)}}}if(s&&I)for(var L=N.length;L--;)N[L]="\n"+o+a7(N[L],o)}if(N.length||x)E+=N.join("");else if(r&&r.xml)return E.substring(0,E.length-1)+" />";return!C||R||x?(s&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+d+">"):E=E.replace(/>$/," />"),E}var su={shallow:!0};sf.render=sf;var sd=function(e,t){return sf(e,t,su)},sh=[];function sf(e,t,r){t=t||{};var n,i=ax.__s;return ax.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?sc(e,t,r):sb(e,t,!1,void 0),ax.__c&&ax.__c(e,sh),ax.__s=i,sh.length=0,n}function sp(e,t){return"className"===e?"class":"htmlFor"===e?"for":"defaultValue"===e?"value":"defaultChecked"===e?"checked":"defaultSelected"===e?"selected":t&&a6.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function sm(e,t){return"style"===e&&null!=t&&"object"==typeof t?sn(t):"a"===e[0]&&"r"===e[1]&&"boolean"==typeof t?String(t):t}var sg=Array.isArray,sy=Object.assign;function sb(e,t,r,n){if(null==e||!0===e||!1===e||""===e)return"";if("object"!=typeof e)return a8(e);if(sg(e)){for(var i="",a=0;a<e.length;a++)i+=sb(e[a],t,r,n);return i}ax.__b&&ax.__b(e);var s=e.type,o=e.props;if("function"==typeof s){if(s===aj)return sb(e.props.children,t,r,n);var l=s.prototype&&"function"==typeof s.prototype.render?function(e,t){var r=e.type,n=so(r,t),i=new r(e.props,n);e.__c=i,i.__v=e,i.__d=!0,i.props=e.props,null==i.state&&(i.state={}),null==i.__s&&(i.__s=i.state),i.context=n,r.getDerivedStateFromProps?i.state=sy({},i.state,r.getDerivedStateFromProps(i.props,i.state)):i.componentWillMount&&(i.componentWillMount(),i.state=i.__s!==i.state?i.__s:i.state);var a=ax.__r;return a&&a(e),i.render(i.props,i.state,i.context)}(e,t):function(e,t){var r,n=ss(e,t),i=so(e.type,t);e.__c=n;for(var a=ax.__r,s=0;n.__d&&s++<25;)n.__d=!1,a&&a(e),r=e.type.call(n,e.props,i);return r}(e,t),c=e.__c;c.getChildContext&&(t=sy({},t,c.getChildContext()));var u=sb(l,t,r,n);return ax.diffed&&ax.diffed(e),u}var d,h,f="<";if(f+=s,o)for(var p in d=o.children,o){var m=o[p];if(!("key"===p||"ref"===p||"__self"===p||"__source"===p||"children"===p||"className"===p&&"class"in o||"htmlFor"===p&&"for"in o||a3.test(p))){if(m=sm(p=sp(p,r),m),"dangerouslySetInnerHTML"===p)h=m&&m.__html;else if("textarea"===s&&"value"===p)d=m;else if((m||0===m||""===m)&&"function"!=typeof m){if(!0===m||""===m){m=p,f=f+" "+p;continue}if("value"===p){if("select"===s){n=m;continue}"option"!==s||n!=m||"selected"in o||(f+=" selected")}f=f+" "+p+'="'+a8(m)+'"'}}}var g=f;if(f+=">",a3.test(s))throw Error(s+" is not a valid HTML tag name in "+f);var y="",b=!1;if(h)y+=h,b=!0;else if("string"==typeof d)y+=a8(d),b=!0;else if(sg(d))for(var w=0;w<d.length;w++){var v=d[w];if(null!=v&&!1!==v){var _=sb(v,t,"svg"===s||"foreignObject"!==s&&r,n);_&&(y+=_,b=!0)}}else if(null!=d&&!1!==d&&!0!==d){var x=sb(d,t,"svg"===s||"foreignObject"!==s&&r,n);x&&(y+=x,b=!0)}if(ax.diffed&&ax.diffed(e),b)f+=y;else if(a4.test(s))return g+" />";return f+"</"+s+">"}sf.shallowRender=sd;var sw=0;function sv(e,t,r,n,i){var a,s,o={};for(s in t)"ref"==s?a=t[s]:o[s]=t[s];var l={type:e,props:o,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--sw,__source:i,__self:n};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===o[s]&&(o[s]=a[s]);return ax.vnode&&ax.vnode(l),l}function s_(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:sv("p",{children:sv("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:sv("div",{children:[sv("p",{children:"There is a problem with the server configuration."}),sv("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:sv("div",{children:[sv("p",{children:"You do not have permission to sign in."}),sv("p",{children:sv("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:sv("div",{children:[sv("p",{children:"The sign in link is no longer valid."}),sv("p",{children:"It may have been used already or it may have expired."})]}),signin:sv("a",{className:"button",href:i,children:"Sign in"})}},{status:s,heading:o,message:l,signin:c}=a[r]??a.default;return{status:s,html:sv("div",{className:"error",children:[n?.brandColor&&sv("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),sv("div",{className:"card",children:[n?.logo&&sv("img",{src:n?.logo,alt:"Logo",className:"logo"}),sv("h1",{children:o}),sv("div",{className:"message",children:l}),c]})]})}}async function sx(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);if(!i.ok){console.error("Failed to fetch options",i);return}return i.json()}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await s("authenticate",n)}async function l(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function c(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),c()}let sE={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."};function sS(e){return sv(aj,{children:sv("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${sx})(authURL, "${e}");
`}})})}function sk(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:s}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=s&&(sE[s]??sE.default),l="https://authjs.dev/img/providers",c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return sv("div",{className:"signin",children:[i?.brandColor&&sv("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&sv("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),sv("div",{className:"card",children:[o&&sv("div",{className:"error",children:sv("p",{children:o})}),i?.logo&&sv("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let s,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:c=`${l}/${e.id}.svg`}=e.style??{});let u=o??s??"#fff";return sv("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?sv("form",{action:e.signinUrl,method:"POST",children:[sv("input",{type:"hidden",name:"csrfToken",value:t}),n&&sv("input",{type:"hidden",name:"callbackUrl",value:n}),sv("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${u} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${u} 30%, #000)`},tabIndex:0,children:[sv("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&sv("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&sv("hr",{}),"email"===e.type&&sv("form",{action:e.signinUrl,method:"POST",children:[sv("input",{type:"hidden",name:"csrfToken",value:t}),sv("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),sv("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),sv("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&sv("form",{action:e.callbackUrl,method:"POST",children:[sv("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>sv("div",{children:[sv("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),sv("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),sv("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&sv("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[sv("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>sv("div",{children:[sv("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),sv("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),sv("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&sv("hr",{})]},e.id)})]}),c&&sS(c)]})}function sP(e){let{url:t,csrfToken:r,theme:n}=e;return sv("div",{className:"signout",children:[n?.brandColor&&sv("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&sv("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),sv("div",{className:"card",children:[n?.logo&&sv("img",{src:n.logo,alt:"Logo",className:"logo"}),sv("h1",{children:"Signout"}),sv("p",{children:"Are you sure you want to sign out?"}),sv("form",{action:t?.toString(),method:"POST",children:[sv("input",{type:"hidden",name:"csrfToken",value:r}),sv("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}let sA=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function sT(e){let{url:t,theme:r}=e;return sv("div",{className:"verify-request",children:[r.brandColor&&sv("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),sv("div",{className:"card",children:[r.logo&&sv("img",{src:r.logo,alt:"Logo",className:"logo"}),sv("h1",{children:"Check your email"}),sv("p",{children:"A sign in link has been sent to your email address."}),sv("p",{children:sv("a",{className:"site",href:t.origin,children:t.host})})]})]})}function sO({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${sA}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${sf(e)}</div></body></html>`}}function sR(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new rs("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let l=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),c="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;c=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return sO({cookies:i,theme:r,html:sk({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:c})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:sO({cookies:i,theme:r,html:sP({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:a.verifyRequest,cookies:i}:sO({cookies:i,theme:r,html:sT({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:sO({cookies:i,theme:r,...s_({url:t,theme:r,error:e}),title:"Error"})}}function sC(e,t=Date.now()){return new Date(t+1e3*e)}async function sN(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:s,session:{strategy:o,generateSessionToken:l}}=n;if(!i)return{user:t,account:r};let c=t,u=r,{createUser:d,updateUser:h,getUser:f,getUserByAccount:p,getUserByEmail:m,linkAccount:g,createSession:y,getSessionAndUser:b,deleteSession:w}=i,v=null,_=null,x=!1,E="jwt"===o;if(e){if(E)try{let t=n.cookies.sessionToken.name;(v=await a.decode({...a,token:e,salt:t}))&&"sub"in v&&v.sub&&(_=await f(v.sub))}catch{}else{let t=await b(e);t&&(v=t.session,_=t.user)}}if("email"===u.type){let t=await m(c.email);return t?(_?.id!==t.id&&!E&&e&&await w(e),_=await h({id:t.id,emailVerified:new Date}),await s.updateUser?.({user:_})):(_=await d({...c,emailVerified:new Date}),await s.createUser?.({user:_}),x=!0),{session:v=E?{}:await y({sessionToken:l(),userId:_.id,expires:sC(n.session.maxAge)}),user:_,isNewUser:x}}if("webauthn"===u.type){let e=await p({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(_){if(e.id===_.id){let e={...u,userId:_.id};return{session:v,user:_,isNewUser:x,account:e}}throw new ry("The account is already associated with another user",{provider:u.provider})}v=E?{}:await y({sessionToken:l(),userId:e.id,expires:sC(n.session.maxAge)});let t={...u,userId:e.id};return{session:v,user:e,isNewUser:x,account:t}}{if(_){await g({...u,userId:_.id}),await s.linkAccount?.({user:_,account:u,profile:c});let e={...u,userId:_.id};return{session:v,user:_,isNewUser:x,account:e}}if(c.email?await m(c.email):null)throw new ry("Another account already exists with the same e-mail address",{provider:u.provider});_=await d({...c}),await s.createUser?.({user:_}),await g({...u,userId:_.id}),await s.linkAccount?.({user:_,account:u,profile:c}),v=E?{}:await y({sessionToken:l(),userId:_.id,expires:sC(n.session.maxAge)});let e={...u,userId:_.id};return{session:v,user:_,isNewUser:!0,account:e}}}let S=await p({providerAccountId:u.providerAccountId,provider:u.provider});if(S){if(_){if(S.id===_.id)return{session:v,user:_,isNewUser:x};throw new t7("The account is already associated with another user",{provider:u.provider})}return{session:v=E?{}:await y({sessionToken:l(),userId:S.id,expires:sC(n.session.maxAge)}),user:S,isNewUser:x}}{let{provider:e}=n,{type:t,provider:r,providerAccountId:i,userId:a,...o}=u,h={providerAccountId:i,provider:r,type:t,userId:a};if(u=Object.assign(e.account(o)??{},h),_)return await g({...u,userId:_.id}),await s.linkAccount?.({user:_,account:u,profile:c}),{session:v,user:_,isNewUser:x};let f=c.email?await m(c.email):null;if(f){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)_=f,x=!1;else throw new t7("Another account already exists with the same e-mail address",{provider:u.provider})}else _=await d({...c,emailVerified:null}),x=!0;return await s.createUser?.({user:_}),await g({...u,userId:_.id}),await s.linkAccount?.({user:_,account:u,profile:c}),{session:v=E?{}:await y({sessionToken:l(),userId:_.id,expires:sC(n.session.maxAge)}),user:_,isNewUser:x}}}if("undefined"==typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){let e="oauth4webapi",t="v3.3.1";s=`${e}/${t}`}function sI(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}let s$="ERR_INVALID_ARG_VALUE",sj="ERR_INVALID_ARG_TYPE";function sD(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let sM=Symbol(),sU=Symbol(),sL=Symbol(),sq=Symbol(),sF=Symbol(),sV=Symbol(),sH=Symbol(),sW=new TextEncoder,sB=new TextDecoder;function sK(e){return"string"==typeof e?sW.encode(e):sB.decode(e)}let sJ=32768;function sZ(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=sJ)t.push(String.fromCharCode.apply(null,e.subarray(r,r+sJ)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sz(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw sD("The input to be decoded is not correctly encoded.",s$,e)}}function sG(e){return"string"==typeof e?sz(e):sZ(e)}class sX extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ld,Error.captureStackTrace?.(this,this.constructor)}}class sQ extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function sY(e,t,r){return new sQ(e,{code:t,cause:r})}function s0(e,t){if(!(e instanceof CryptoKey))throw sD(`${t} must be a CryptoKey`,sj)}function s1(e,t){if(s0(e,t),"private"!==e.type)throw sD(`${t} must be a private CryptoKey`,s$)}function s2(e,t){if(s0(e,t),"public"!==e.type)throw sD(`${t} must be a public CryptoKey`,s$)}function s5(e){return e.toLowerCase().replace(/^application\//,"")}function s4(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function s3(e){sI(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(s&&!t.has("user-agent")&&t.set("user-agent",s),t.has("authorization"))throw sD('"options.headers" must not include the "authorization" header name',s$);if(t.has("dpop"))throw sD('"options.headers" must not include the "dpop" header name',s$);return t}function s6(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw sD('"options.signal" must return or be an instance of AbortSignal',sj);return e}async function s9(e,t){if(!(e instanceof URL))throw sD('"issuerIdentifier" must be an instance of URL',sj);oO(e,t?.[sM]!==!0);let r=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":r.pathname=`${r.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===r.pathname?r.pathname=".well-known/oauth-authorization-server":r.pathname=`.well-known/oauth-authorization-server/${r.pathname}`.replace("//","/");break;default:throw sD('"options.algorithm" must be "oidc" (default), or "oauth2"',s$)}let n=s3(t?.headers);return n.set("accept","application/json"),(t?.[sq]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?s6(t.signal):void 0})}function s8(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw sD(`${r} must be a number`,sj,i);if(e>0)return;if(t&&0!==e)throw sD(`${r} must be a non-negative number`,s$,i);throw sD(`${r} must be a positive number`,s$,i)}catch(e){if(n)throw sY(e.message,n,i);throw e}}function s7(e,t,r,n){try{if("string"!=typeof e)throw sD(`${t} must be a string`,sj,n);if(0===e.length)throw sD(`${t} must not be empty`,s$,n)}catch(e){if(r)throw sY(e.message,r,n);throw e}}async function oe(e,t){let r;if(!(e instanceof URL)&&e!==lX)throw sD('"expectedIssuer" must be an instance of URL',sj);if(!sI(t,Response))throw sD('"response" must be an instance of Response',sj);if(200!==t.status)throw sY('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',lb,t);lT(t);try{r=await t.json()}catch(e){throw ot(t),sY('failed to parse "response" body as JSON',lp,e)}if(!s4(r))throw sY('"response" body must be a top level object',lm,{body:r});if(s7(r.issuer,'"response" body "issuer" property',lm,{body:r}),new URL(r.issuer).href!==e.href&&e!==lX)throw sY('"response" body "issuer" property does not match the expected value',lE,{expected:e.href,body:r,attribute:"issuer"});return r}function ot(e){oi(e,"application/json")}function or(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return sY(r,ly,e)}function on(e,...t){if(!t.includes(oG(e)))throw or(e,...t)}function oi(e,t){if(oG(e)!==t)throw or(e,t)}function oa(){return sG(crypto.getRandomValues(new Uint8Array(32)))}function os(){return oa()}function oo(){return oa()}function ol(){return oa()}async function oc(e){return s7(e,"codeVerifier"),sG(await crypto.subtle.digest("SHA-256",sK(e)))}function ou(e){return e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&s7(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{}}function od(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new sX("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function oh(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new sX("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function of(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new sX("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}function op(e){switch(e.algorithm.name){case"RSA-PSS":return od(e);case"RSASSA-PKCS1-v1_5":return oh(e);case"ECDSA":return of(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new sX("unsupported CryptoKey algorithm name",{cause:e})}}function om(e){let t=e?.[sU];return"number"==typeof t&&Number.isFinite(t)?t:0}function og(e){let t=e?.[sL];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function oy(){return Math.floor(Date.now()/1e3)}function ob(e){if("object"!=typeof e||null===e)throw sD('"as" must be an object',sj);s7(e.issuer,'"as.issuer"')}function ow(e){if("object"!=typeof e||null===e)throw sD('"client" must be an object',sj);s7(e.client_id,'"client.client_id"')}function ov(e){return s7(e,'"clientSecret"'),(t,r,n,i)=>{n.set("client_id",r.client_id),n.set("client_secret",e)}}function o_(e,t){let r=oy()+om(t);return{jti:oa(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}function ox(e,t){let{key:r,kid:n}=ou(e);return s1(r,'"clientPrivateKey.key"'),async(e,i,a,s)=>{let o={alg:op(r),kid:n},l=o_(e,i);t?.[sF]?.(o,l),a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await ok(o,l,r))}}function oE(e,t){let r;s7(e,'"clientSecret"');let n=t?.[sF];return async(t,i,a,s)=>{r||=await crypto.subtle.importKey("raw",sK(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},l=o_(t,i);n?.(o,l);let c=`${sG(sK(JSON.stringify(o)))}.${sG(sK(JSON.stringify(l)))}`,u=await crypto.subtle.sign(r.algorithm,r,sK(c));a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",`${c}.${sG(new Uint8Array(u))}`)}}function oS(){return(e,t,r,n)=>{r.set("client_id",t.client_id)}}async function ok(e,t,r){if(!r.usages.includes("sign"))throw sD('CryptoKey instances used for signing assertions must include "sign" in their "usages"',s$);let n=`${sG(sK(JSON.stringify(e)))}.${sG(sK(JSON.stringify(t)))}`,i=sG(await crypto.subtle.sign(lj(r),r,sK(n)));return`${n}.${i}`}async function oP(e){let{kty:t,e:r,n,x:i,y:a,crv:s}=await crypto.subtle.exportKey("jwk",e),l={kty:t,e:r,n,x:i,y:a,crv:s};return o.set(e,l),l}async function oA(e){return(o||=new WeakMap).get(e)||oP(e)}let oT=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function oO(e,t){if(t&&"https:"!==e.protocol)throw sY("only requests to HTTPS are allowed",lw,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw sY("only HTTP and HTTPS requests are allowed",lv,e)}function oR(e,t,r,n){let i;if("string"!=typeof e||!(i=oT(e)))throw sY(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?lk:lP,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return oO(i,n),i}function oC(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?oR(e.mtls_endpoint_aliases[t],t,r,n):oR(e[t],t,r,n)}class oN extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=lu,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class oI extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=lh,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class o$ extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=lc,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}function oj(e){return e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}let oD=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,oM=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function oU(e,t){let r=t.split(oD).slice(1);if(!r.length)return{scheme:e.toLowerCase(),parameters:{}};r[r.length-1]=r[r.length-1].replace(/,$/,"");let n={};for(let e=1;e<r.length;e+=2){let t=e;if('"'===r[t][0])for(;'"'!==r[t].slice(-1)&&++e<r.length;)r[t]+=r[e];n[r[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase()]=oj(r[t])}return{scheme:e.toLowerCase(),parameters:n}}function oL(e){if(!sI(e,Response))throw sD('"response" must be an instance of Response',sj);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[];for(let{1:e,index:n}of t.matchAll(oM))r.push([e,n]);if(r.length)return r.map(([e,r],n,i)=>{let a;let s=i[n+1];return oU(e,a=s?t.slice(r,s[1]):t.slice(r))})}async function oq(e){if(e.status>399&&e.status<500){lT(e),ot(e);try{let t=await e.clone().json();if(s4(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function oF(e,t,r){if(e.status!==t){let t;if(t=await oq(e))throw await e.body?.cancel(),new oN("server responded with an error in the response body",{cause:t,response:e});throw sY(`"response" is not a conform ${r} response (unexpected HTTP status code)`,lb,e)}}function oV(e){if(!o7.has(e))throw sD('"options.DPoP" is not a valid DPoPHandle',s$)}async function oH(e,t,r,n,i,a){if(s7(e,'"accessToken"'),!(r instanceof URL))throw sD('"url" must be an instance of URL',sj);oO(r,a?.[sM]!==!0),n=s3(n),a?.DPoP?(oV(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e),n.set("authorization",`DPoP ${e}`)):n.set("authorization",`Bearer ${e}`);let s=await (a?.[sq]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:a?.signal?s6(a.signal):void 0});return a?.DPoP?.cacheNonce(s),s}async function oW(e,t,r,n){ob(e),ow(t);let i=oC(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[sM]!==!0),a=s3(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),oH(r,"GET",i,a,null,{...n,[sU]:om(t)})}function oB(e,t,r,n){(l||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return oy()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function oK(e){return!!(!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||oy()-e.uat>=300)&&"jwks"in e&&s4(e.jwks)&&Array.isArray(e.jwks.keys)&&Array.prototype.every.call(e.jwks.keys,s4))}function oJ(e,t){l?.delete(e),delete t?.jwks,delete t?.uat}async function oZ(e,t,r){let n,i,a;let{alg:s,kid:o}=r;if(lN(r),!l?.has(e)&&oK(t?.[sH])&&oB(e,t?.[sH].jwks,t?.[sH].uat),l?.has(e)){if({jwks:n,age:i}=l.get(e),i>=300)return oJ(e,t?.[sH]),oZ(e,t,r)}else n=await lO(e,t).then(lR),i=0,oB(e,n,oy(),t?.[sH]);switch(s.slice(0,2)){case"RS":case"PS":a="RSA";break;case"ES":a="EC";break;case"Ed":a="OKP";break;default:throw new sX("unsupported JWS algorithm",{cause:{alg:s}})}let c=n.keys.filter(e=>{if(e.kty!==a||void 0!==o&&o!==e.kid||void 0!==e.alg&&s!==e.alg||void 0!==e.use&&"sig"!==e.use||e.key_ops?.includes("verify")===!1)return!1;switch(!0){case"ES256"===s&&"P-256"!==e.crv:case"ES384"===s&&"P-384"!==e.crv:case"ES512"===s&&"P-521"!==e.crv:case"Ed25519"===s&&"Ed25519"!==e.crv:case"EdDSA"===s&&"Ed25519"!==e.crv:return!1}return!0}),{0:u,length:d}=c;if(!d){if(i>=60)return oJ(e,t?.[sH]),oZ(e,t,r);throw sY("error when selecting a JWT verification key, no applicable keys found",lS,{header:r,candidates:c,jwks_uri:new URL(e.jwks_uri)})}if(1!==d)throw sY('error when selecting a JWT verification key, multiple applicable keys found, a "kid" JWT Header Parameter is required',lS,{header:r,candidates:c,jwks_uri:new URL(e.jwks_uri)});return lZ(s,u)}let oz=Symbol();function oG(e){return e.headers.get("content-type")?.split(";")[0]}async function oX(e,t,r,n,i){let a;if(ob(e),ow(t),!sI(n,Response))throw sD('"response" must be an instance of Response',sj);if(o4(n),200!==n.status)throw sY('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',lb,n);if(lT(n),"application/jwt"===oG(n)){let{claims:r,jwt:s}=await lM(await n.text(),lV.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),om(t),og(t),i?.[sV]).then(o3.bind(void 0,t.client_id)).then(o9.bind(void 0,e));o1.set(n,s),a=r}else{if(t.userinfo_signed_response_alg)throw sY("JWT UserInfo Response expected",lf,n);try{a=await n.json()}catch(e){throw ot(n),sY('failed to parse "response" body as JSON',lp,e)}}if(!s4(a))throw sY('"response" body must be a top level object',lm,{body:a});if(s7(a.sub,'"response" body "sub" property',lm,{body:a}),r===oz);else if(s7(r,'"expectedSubject"'),a.sub!==r)throw sY('unexpected "response" body "sub" property value',lE,{expected:r,body:a,attribute:"sub"});return a}async function oQ(e,t,r,n,i,a,s){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[sq]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:s?.signal?s6(s.signal):void 0})}async function oY(e,t,r,n,i,a){let s=oC(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[sM]!==!0);i.set("grant_type",n);let o=s3(a?.headers);o.set("accept","application/json"),a?.DPoP!==void 0&&(oV(a.DPoP),await a.DPoP.addProof(s,o,"POST"));let l=await oQ(e,t,r,s,i,o,a);return a?.DPoP?.cacheNonce(l),l}let o0=new WeakMap,o1=new WeakMap;function o2(e){if(!e.id_token)return;let t=o0.get(e);if(!t)throw sD('"ref" was already garbage collected or did not resolve from the proper sources',s$);return t}async function o5(e,t,r,n,i){let a;if(ob(e),ow(t),!sI(r,Response))throw sD('"response" must be an instance of Response',sj);o4(r),await oF(r,200,"Token Endpoint"),lT(r);try{a=await r.json()}catch(e){throw ot(r),sY('failed to parse "response" body as JSON',lp,e)}if(!s4(a))throw sY('"response" body must be a top level object',lm,{body:a});if(s7(a.access_token,'"response" body "access_token" property',lm,{body:a}),s7(a.token_type,'"response" body "token_type" property',lm,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new sX("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;s8(e,!1,'"response" body "expires_in" property',lm,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&s7(a.refresh_token,'"response" body "refresh_token" property',lm,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw sY('"response" body "scope" property must be a string',lm,{body:a});if(void 0!==a.id_token){s7(a.id_token,'"response" body "id_token" property',lm,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(s8(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),n?.length&&s.push(...n);let{claims:o,jwt:l}=await lM(a.id_token,lV.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),om(t),og(t),i?.[sV]).then(ln.bind(void 0,s)).then(o8.bind(void 0,e)).then(o6.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw sY('ID Token "aud" (audience) claim includes additional untrusted audiences',lx,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw sY('unexpected ID Token "azp" (authorized party) claim value',lx,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&s8(o.auth_time,!1,'ID Token "auth_time" (authentication time)',lm,{claims:o}),o1.set(r,l),o0.set(a,o)}return a}function o4(e){let t;if(t=oL(e))throw new o$("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function o3(e,t){return void 0!==t.claims.aud?o6(e,t):t}function o6(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw sY('unexpected JWT "aud" (audience) claim value',lx,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw sY('unexpected JWT "aud" (audience) claim value',lx,{expected:e,claims:t.claims,claim:"aud"});return t}function o9(e,t){return void 0!==t.claims.iss?o8(e,t):t}function o8(e,t){let r=e[lQ]?.(t)??e.issuer;if(t.claims.iss!==r)throw sY('unexpected JWT "iss" (issuer) claim value',lx,{expected:r,claims:t.claims,claim:"iss"});return t}let o7=new WeakSet;function le(e){return o7.add(e),e}async function lt(e,t,r,n,i,a,s){if(ob(e),ow(t),!o7.has(n))throw sD('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',s$);s7(i,'"redirectUri"');let o=lH(n,"code");if(!o)throw sY('no authorization code in "callbackParameters"',lm);let l=new URLSearchParams(s?.additionalParameters);return l.set("redirect_uri",i),l.set("code",o),a!==lG&&(s7(a,'"codeVerifier"'),l.set("code_verifier",a)),oY(e,t,r,"authorization_code",l,s)}let lr={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function ln(e,t){for(let r of e)if(void 0===t.claims[r])throw sY(`JWT "${r}" (${lr[r]}) claim missing`,lm,{claims:t.claims});return t}let li=Symbol(),la=Symbol();async function ls(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?lo(e,t,r,n.expectedNonce,n.maxAge,{[sV]:n[sV]}):ll(e,t,r,n)}async function lo(e,t,r,n,i,a){let s=[];switch(n){case void 0:n=li;break;case li:break;default:s7(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=la;break;case la:break;default:s8(i,!1,'"maxAge" argument'),s.push("auth_time")}let o=await o5(e,t,r,s,a);s7(o.id_token,'"response" body "id_token" property',lm,{body:o});let l=o2(o);if(i!==la){let e=oy()+om(t),r=og(t);if(l.auth_time+i<e-r)throw sY("too much time has elapsed since the last End-User authentication",l_,{claims:l,now:e,tolerance:r,claim:"auth_time"})}if(n===li){if(void 0!==l.nonce)throw sY('unexpected ID Token "nonce" claim value',lx,{expected:void 0,claims:l,claim:"nonce"})}else if(l.nonce!==n)throw sY('unexpected ID Token "nonce" claim value',lx,{expected:n,claims:l,claim:"nonce"});return o}async function ll(e,t,r,n){let i=await o5(e,t,r,void 0,n),a=o2(i);if(a){if(void 0!==t.default_max_age){s8(t.default_max_age,!1,'"client.default_max_age"');let e=oy()+om(t),r=og(t);if(a.auth_time+t.default_max_age<e-r)throw sY("too much time has elapsed since the last End-User authentication",l_,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw sY('unexpected ID Token "nonce" claim value',lx,{expected:void 0,claims:a,claim:"nonce"})}return i}let lc="OAUTH_WWW_AUTHENTICATE_CHALLENGE",lu="OAUTH_RESPONSE_BODY_ERROR",ld="OAUTH_UNSUPPORTED_OPERATION",lh="OAUTH_AUTHORIZATION_RESPONSE_ERROR",lf="OAUTH_JWT_USERINFO_EXPECTED",lp="OAUTH_PARSE_ERROR",lm="OAUTH_INVALID_RESPONSE",lg="OAUTH_INVALID_REQUEST",ly="OAUTH_RESPONSE_IS_NOT_JSON",lb="OAUTH_RESPONSE_IS_NOT_CONFORM",lw="OAUTH_HTTP_REQUEST_FORBIDDEN",lv="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",l_="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",lx="OAUTH_JWT_CLAIM_COMPARISON_FAILED",lE="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",lS="OAUTH_KEY_SELECTION_FAILED",lk="OAUTH_MISSING_SERVER_METADATA",lP="OAUTH_INVALID_SERVER_METADATA";function lA(e,t){if("string"!=typeof t.header.typ||s5(t.header.typ)!==e)throw sY('unexpected JWT "typ" header parameter value',lm,{header:t.header});return t}function lT(e){if(e.bodyUsed)throw sD('"response" body has been used already',s$)}async function lO(e,t){ob(e);let r=oC(e,"jwks_uri",!1,t?.[sM]!==!0),n=s3(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[sq]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?s6(t.signal):void 0})}async function lR(e){let t;if(!sI(e,Response))throw sD('"response" must be an instance of Response',sj);if(200!==e.status)throw sY('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',lb,e);lT(e);try{t=await e.json()}catch(t){throw on(e,"application/json","application/jwk-set+json"),sY('failed to parse "response" body as JSON',lp,t)}if(!s4(t))throw sY('"response" body must be a top level object',lm,{body:t});if(!Array.isArray(t.keys))throw sY('"response" body "keys" property must be an array',lm,{body:t});if(!Array.prototype.every.call(t.keys,s4))throw sY('"response" body "keys" property members must be JWK formatted objects',lm,{body:t});return t}function lC(e){switch(e){case"PS256":case"ES256":case"RS256":case"PS384":case"ES384":case"RS384":case"PS512":case"ES512":case"RS512":case"Ed25519":case"EdDSA":return!0;default:return!1}}function lN(e){if(!lC(e.alg))throw new sX('unsupported JWS "alg" identifier',{cause:{alg:e.alg}})}function lI(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new sX(`unsupported ${t.name} modulusLength`,{cause:e})}function l$(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new sX("unsupported ECDSA namedCurve",{cause:e})}}function lj(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:l$(e)};case"RSA-PSS":switch(lI(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new sX("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return lI(e),e.algorithm.name;case"Ed25519":case"EdDSA":return e.algorithm.name}throw new sX("unsupported CryptoKey algorithm name",{cause:e})}async function lD(e,t,r,n){let i=sK(`${e}.${t}`),a=lj(r);if(!await crypto.subtle.verify(a,r,n,i))throw sY("JWT signature verification failed",lm,{key:r,data:i,signature:n,algorithm:a})}async function lM(e,t,r,n,i){let a,s,{0:o,1:l,length:c}=e.split(".");if(5===c){if(void 0!==i)e=await i(e),{0:o,1:l,length:c}=e.split(".");else throw new sX("JWE decryption is not configured",{cause:e})}if(3!==c)throw sY("Invalid JWT",lm,e);try{a=JSON.parse(sK(sG(o)))}catch(e){throw sY("failed to parse JWT Header body as base64url encoded JSON",lp,e)}if(!s4(a))throw sY("JWT Header must be a top level object",lm,e);if(t(a),void 0!==a.crit)throw new sX('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{s=JSON.parse(sK(sG(l)))}catch(e){throw sY("failed to parse JWT Payload body as base64url encoded JSON",lp,e)}if(!s4(s))throw sY("JWT Payload must be a top level object",lm,e);let u=oy()+r;if(void 0!==s.exp){if("number"!=typeof s.exp)throw sY('unexpected JWT "exp" (expiration time) claim type',lm,{claims:s});if(s.exp<=u-n)throw sY('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',l_,{claims:s,now:u,tolerance:n,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw sY('unexpected JWT "iat" (issued at) claim type',lm,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw sY('unexpected JWT "iss" (issuer) claim type',lm,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw sY('unexpected JWT "nbf" (not before) claim type',lm,{claims:s});if(s.nbf>u+n)throw sY('unexpected JWT "nbf" (not before) claim value',l_,{claims:s,now:u,tolerance:n,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw sY('unexpected JWT "aud" (audience) claim type',lm,{claims:s});return{header:a,claims:s,jwt:e}}async function lU(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;default:throw new sX(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,sK(e));return sG(i.slice(0,i.byteLength/2))}async function lL(e,t,r,n){return t===await lU(e,r,n)}async function lq(e){if(e.bodyUsed)throw sD("form_post Request instances must contain a readable body",s$,{cause:e});return e.text()}async function lF(e){if("POST"!==e.method)throw sD("form_post responses are expected to use the POST method",s$,{cause:e});if("application/x-www-form-urlencoded"!==oG(e))throw sD("form_post responses are expected to use the application/x-www-form-urlencoded content-type",s$,{cause:e});return lq(e)}function lV(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw sY('unexpected JWT "alg" header parameter',lm,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw sY('unexpected JWT "alg" header parameter',lm,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw sY('unexpected JWT "alg" header parameter',lm,{header:n,expected:r,reason:"default value"});return}throw sY('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function lH(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw sY(`"${t}" parameter must be provided only once`,lm);return r}let lW=Symbol(),lB=Symbol();function lK(e,t,r,n){if(ob(e),ow(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw sD('"parameters" must be an instance of URLSearchParams, or URL',sj);if(lH(r,"response"))throw sY('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',lm,{parameters:r});let i=lH(r,"iss"),a=lH(r,"state");if(!i&&e.authorization_response_iss_parameter_supported)throw sY('response parameter "iss" (issuer) missing',lm,{parameters:r});if(i&&i!==e.issuer)throw sY('unexpected "iss" (issuer) response parameter value',lm,{expected:e.issuer,parameters:r});switch(n){case void 0:case lB:if(void 0!==a)throw sY('unexpected "state" response parameter encountered',lm,{expected:void 0,parameters:r});break;case lW:break;default:if(s7(n,'"expectedState" argument'),a!==n)throw sY(void 0===a?'response parameter "state" missing':'unexpected "state" response parameter value',lm,{expected:n,parameters:r})}if(lH(r,"error"))throw new oI("authorization response from the server is an error",{cause:r});let s=lH(r,"id_token"),o=lH(r,"token");if(void 0!==s||void 0!==o)throw new sX("implicit and hybrid flows are not supported");return le(new URLSearchParams(r))}function lJ(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new sX("unsupported JWS algorithm",{cause:{alg:e}})}}async function lZ(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,lJ(e),!0,["verify"])}function lz(e){let t=new URL(e);return t.search="",t.hash="",t.href}let lG=Symbol(),lX=Symbol(),lQ=Symbol(),lY=900;async function l0(e,t,r){let{cookies:n,logger:i}=r,a=n[e],s=new Date;s.setTime(s.getTime()+1e3*lY),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:lY,expires:s});let o=await iF({...r.jwt,maxAge:lY,token:{value:t},salt:a.name}),l={...a.options,expires:s};return{name:a.name,value:o,options:l}}async function l1(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new t5(`${e} cookie was missing`);let s=await iV({...a,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new t5(`${e} value could not be parsed`,{cause:t})}}function l2(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function l5(e,t){return async function(r,n,i){let{provider:a,logger:s}=i;if(!a?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let l=await l1(t,o,i);return l2(t,i,n),l}}let l4={async create(e){let t=os(),r=await oc(t);return{cookie:await l0("pkceCodeVerifier",t,e),value:r}},use:l5("pkce","pkceCodeVerifier")},l3=900,l6="encodedState",l9={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new t5("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:oo()},i=await iF({secret:e.jwt.secret,token:n,salt:l6,maxAge:l3});return{cookie:await l0("state",i,e),value:i}},use:l5("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await iV({secret:t.jwt.secret,token:e,salt:l6});if(r)return r;throw Error("Invalid state")}catch(e){throw new t5("State could not be decoded",{cause:e})}}},l8={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=ol();return{cookie:await l0("nonce",t,e),value:t}},use:l5("nonce","nonce")},l7=900,ce="encodedWebauthnChallenge",ct={create:async(e,t,r)=>({cookie:await l0("webauthnChallenge",await iF({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:ce,maxAge:l7}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await l1("webauthnChallenge",n,e),a=await iV({secret:e.jwt.secret,token:i,salt:ce});if(l2("webauthnChallenge",e,r),!a)throw new t5("WebAuthn challenge was missing");return a}};function cr(e){let t,r;if("string"!=typeof e)throw new r8("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new r8("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new r8("Invalid JWT");if(!n)throw new r8("JWTs must contain a payload");try{t=nu(n)}catch{throw new r8("Failed to base64url decode the payload")}try{r=JSON.parse(rF.decode(t))}catch{throw new r8("Failed to parse the decoded payload as JSON")}if(!ns(r))throw new r8("Invalid JWT Claims Set");return r}function cn(e){return encodeURIComponent(e).replace(/%20/g,"+")}function ci(e,t){let r=cn(e),n=cn(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}async function ca(e,t,r){let n,i,a;let{logger:s,provider:o}=r,{token:l,userinfo:c}=o;if(l?.url&&"authjs.dev"!==l.url.host||c?.url&&"authjs.dev"!==c.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:l?.url.toString(),userinfo_endpoint:c?.url.toString()};else{let e=new URL(o.issuer),t=await s9(e,{[sM]:!0,[sq]:o[ar]});if(!(n=await oe(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let u={client_id:o.clientId,...o.client};switch(u.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(e,t,r,n)=>{n.set("authorization",ci(o.clientId,o.clientSecret))};break;case"client_secret_post":i=ov(o.clientSecret);break;case"client_secret_jwt":i=oE(o.clientSecret);break;case"private_key_jwt":i=ox(o.token.clientPrivateKey,{[sF](e,t){t.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=oS();break;default:throw Error("unsupported client authentication method")}let d=[],h=await l9.use(t,d,r);try{a=lK(n,u,new URLSearchParams(e),o.checks.includes("state")?h:lW)}catch(e){if(e instanceof oI){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new re("OAuth Provider returned an error",t)}throw e}let f=await l4.use(t,d,r),p=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(p=o.redirectProxyUrl);let m=await lt(n,u,i,a,p,f??"decoy",{[sM]:!0,[sq]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[ar]??fetch)(...e))});o.token?.conform&&(m=await o.token.conform(m.clone())??m);let g={},y=au(o);if(o[an])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=cr((await m.clone().json()).id_token);if("string"==typeof e){let t=/microsoftonline\.com\/(\w+)\/v2\.0/,r=n.issuer?.match(t)?.[1]??"common",i=new URL(n.issuer.replace(r,e)),a=await s9(i,{[sq]:o[ar]});n=await oe(i,a)}}}let b=await ls(n,u,m,{expectedNonce:await l8.use(t,d,r),requireIdToken:y}),w=b;if(y){let t=o2(b);if(g=t,o[an]&&"apple"===o.id)try{g.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await oW(n,u,b.access_token,{[sq]:o[ar],[sM]:!0});g=await oX(n,u,t.sub,e)}}else if(c?.request){let e=await c.request({tokens:w,provider:o});e instanceof Object&&(g=e)}else if(c?.url){let e=await oW(n,u,b.access_token,{[sq]:o[ar]});g=await e.json()}else throw TypeError("No userinfo endpoint configured");return w.expires_in&&(w.expires_at=Math.floor(Date.now()/1e3)+Number(w.expires_in)),{...await cs(g,o,w,s),profile:g,cookies:d}}async function cs(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new rt(r,{provider:t.id}))}}var co=r(356).Buffer;function cl(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t){if(!n||i)return"authenticate";return"register"}}return null}async function cc(e,t,r,n){let i=await cp(e,t,r),{cookie:a}=await ct.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function cu(e,t,r,n){let i=await cf(e,t,r),{cookie:a}=await ct.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function cd(e,t,r){let n;let{adapter:i,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new tJ("Invalid WebAuthn Authentication response");let o=cb(cy(s.id)),l=await i.getAuthenticator(o);if(!l)throw new tJ(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:c}=await ct.use(e,t.cookies,r);try{let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:c,response:s,authenticator:cg(l),expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new rg(e)}let{verified:u,authenticationInfo:d}=n;if(!u)throw new rg("WebAuthn authentication response could not be verified");try{let{newCounter:e}=d;await i.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new tz(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:l.counter,newCounter:d.newCounter})}`,e)}let h=await i.getAccount(l.providerAccountId,a.id);if(!h)throw new tJ(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId})}`);let f=await i.getUser(h.userId);if(!f)throw new tJ(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId,userID:h.userId})}`);return{account:h,user:f}}async function ch(e,t,r){let n;let{provider:i}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new tJ("Invalid WebAuthn Registration response");let{challenge:s,registerData:o}=await ct.use(e,t.cookies,r);if(!o)throw new tJ("Missing user registration data in WebAuthn challenge cookie");try{let r=i.getRelayingParty(e,t);n=await i.simpleWebAuthn.verifyRegistrationResponse({...i.verifyRegistrationOptions,expectedChallenge:s,response:a,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new rg(e)}if(!n.verified||!n.registrationInfo)throw new rg("WebAuthn registration response could not be verified");let l={providerAccountId:cb(n.registrationInfo.credentialID),provider:e.provider.id,type:i.type},c={providerAccountId:l.providerAccountId,counter:n.registrationInfo.counter,credentialID:cb(n.registrationInfo.credentialID),credentialPublicKey:cb(n.registrationInfo.credentialPublicKey),credentialBackedUp:n.registrationInfo.credentialBackedUp,credentialDeviceType:n.registrationInfo.credentialDeviceType,transports:cw(a.response.transports)};return{user:o,account:l,authenticator:c}}async function cf(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:cy(e.credentialID),type:"public-key",transports:cv(e.transports)}))})}async function cp(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=i4(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:cy(e.credentialID),type:"public-key",transports:cv(e.transports)}))})}function cm(e){let{provider:t,adapter:r}=e;if(!r)throw new t3("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new rl("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function cg(e){return{...e,credentialDeviceType:e.credentialDeviceType,transports:cv(e.transports),credentialID:cy(e.credentialID),credentialPublicKey:cy(e.credentialPublicKey)}}function cy(e){return new Uint8Array(co.from(e,"base64"))}function cb(e){return co.from(e).toString("base64")}function cw(e){return e?.join(",")}function cv(e){return e?e.split(","):void 0}async function c_(e,t,r,n){if(!t.provider)throw new rl("Callback route called without provider");let{query:i,body:a,method:s,headers:o}=e,{provider:l,adapter:c,url:u,callbackUrl:d,pages:h,jwt:f,events:p,callbacks:m,session:{strategy:g,maxAge:y},logger:b}=t,w="jwt"===g;try{if("oauth"===l.type||"oidc"===l.type){let s;let o=l.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&o?.state){let e=await l9.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return b.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let g=await ca(o,e.cookies,t);g.cookies.length&&n.push(...g.cookies),b.debug("authorization result",g);let{user:v,account:_,profile:x}=g;if(!v||!_||!x)return{redirect:`${u}/signin`,cookies:n};if(c){let{getUserByAccount:e}=c;s=await e({providerAccountId:_.providerAccountId,provider:l.id})}let E=await cx({user:s??v,account:_,profile:x},t);if(E)return{redirect:E,cookies:n};let{user:S,session:k,isNewUser:P}=await sN(r.value,v,_,t);if(w){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await m.jwt({token:e,user:S,account:_,profile:x,isNewUser:P,trigger:P?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:k.sessionToken,options:{...t.cookies.sessionToken.options,expires:k.expires}});if(await p.signIn?.({user:S,account:_,profile:x,isNewUser:P}),P&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===l.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=l.secret??t.secret,o=await c.useVerificationToken({identifier:a,token:await i5(`${e}${s}`)}),u=!!o,g=u&&o.expires.valueOf()<Date.now();if(!u||g||a&&o.identifier!==a)throw new ru({hasInvite:u,expired:g});let{identifier:b}=o,v=await c.getUserByEmail(b)??{id:crypto.randomUUID(),email:b,emailVerified:null},_={providerAccountId:v.email,userId:v.id,type:"email",provider:l.id},x=await cx({user:v,account:_},t);if(x)return{redirect:x,cookies:n};let{user:E,session:S,isNewUser:k}=await sN(r.value,v,_,t);if(w){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await m.jwt({token:e,user:E,account:_,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:S.sessionToken,options:{...t.cookies.sessionToken.options,expires:S.expires}});if(await p.signIn?.({user:E,account:_,isNewUser:k}),k&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===l.type&&"POST"===s){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>u.searchParams.set(e,t));let c=await l.authorize(e,new Request(u,{headers:o,method:s,body:JSON.stringify(a)}));if(c)c.id=c.id?.toString()??crypto.randomUUID();else throw new t1;let h={providerAccountId:c.id,type:"credentials",provider:l.id},g=await cx({user:c,account:h,credentials:e},t);if(g)return{redirect:g,cookies:n};let b={name:c.name,email:c.email,picture:c.image,sub:c.id},w=await m.jwt({token:b,user:c,account:h,isNewUser:!1,trigger:"signIn"});if(null===w)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await f.encode({...f,token:w,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let s=r.chunk(i,{expires:a});n.push(...s)}return await p.signIn?.({user:c,account:h}),{redirect:d,cookies:n}}else if("webauthn"===l.type&&"POST"===s){let i,a,s;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new tJ("Invalid action parameter");let l=cm(t);switch(o){case"authenticate":{let t=await cd(l,e,n);i=t.user,a=t.account;break}case"register":{let r=await ch(t,e,n);i=r.user,a=r.account,s=r.authenticator}}await cx({user:i,account:a},t);let{user:c,isNewUser:u,session:g,account:b}=await sN(r.value,i,a,t);if(!b)throw new tJ("Error creating or finding account");if(s&&c.id&&await l.adapter.createAuthenticator({...s,userId:c.id}),w){let e={name:c.name,email:c.email,picture:c.image,sub:c.id?.toString()},i=await m.jwt({token:e,user:c,account:b,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:g.sessionToken,options:{...t.cookies.sessionToken.options,expires:g.expires}});if(await p.signIn?.({user:c,account:b,isNewUser:u}),u&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new rl(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof tJ)throw t;let e=new tX(t,{provider:l.id});throw b.debug("callback route error details",{method:s,query:i,body:a}),e}}async function cx(e,t){let r;let{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof tJ)throw e;throw new tG(e)}if(!r)throw new tG("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function cE(e,t,r,n,i){let{adapter:a,jwt:s,events:o,callbacks:l,logger:c,session:{strategy:u,maxAge:d}}=e,h={body:null,headers:{"Content-Type":"application/json"},cookies:r},f=t.value;if(!f)return h;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:f,salt:r});if(!a)throw Error("Invalid JWT");let c=await l.jwt({token:a,...n&&{trigger:"update"},session:i}),u=sC(d);if(null!==c){let e={user:{name:c.name,email:c.email,image:c.picture},expires:u.toISOString()},n=await l.session({session:e,token:c});h.body=n;let i=await s.encode({...s,token:c,salt:r}),a=t.chunk(i,{expires:u});h.cookies?.push(...a),await o.session?.({session:n,token:c})}else h.cookies?.push(...t.clean())}catch(e){c.error(new t4(e)),h.cookies?.push(...t.clean())}return h}try{let{getSessionAndUser:r,deleteSession:s,updateSession:c}=a,u=await r(f);if(u&&u.session.expires.valueOf()<Date.now()&&(await s(f),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,p=sC(d);s<=Date.now()&&await c({sessionToken:f,expires:p});let m=await l.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});h.body=m,h.cookies?.push({name:e.cookies.sessionToken.name,value:f,options:{...e.cookies.sessionToken.options,expires:p}}),await o.session?.({session:m})}else f&&h.cookies?.push(...t.clean())}catch(e){c.error(new rr(e))}return h}async function cS(e,t){let r,n;let{logger:i,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await s9(e,{[sq]:a[ar],[sM]:!0}),r=await oe(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,l=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(l=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:l,data:n}));let c=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:l,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in c)o.set(e,c[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await l9.create(t,n);if(d&&(o.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce")){if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await l4.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),u.push(r)}}let h=await l8.create(t);return h&&(o.set("nonce",h.value),u.push(h.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:u,provider:a}),{redirect:s.toString(),cookies:u}}async function ck(e,t){let r;let{body:n}=e,{provider:i,callbacks:a,adapter:s}=t,o=(i.normalizeIdentifier??cP)(n?.email),l={id:crypto.randomUUID(),email:o,emailVerified:null},c=await s.getUserByEmail(o)??l,u={providerAccountId:o,userId:c.id,type:"email",provider:i.id};try{r=await a.signIn({user:c,account:u,email:{verificationRequest:!0}})}catch(e){throw new tG(e)}if(!r)throw new tG("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:h}=t,f=await i.generateVerificationToken?.()??i4(32),p=86400,m=new Date(Date.now()+(i.maxAge??p)*1e3),g=i.secret??t.secret,y=new URL(t.basePath,t.url.origin),b=i.sendVerificationRequest({identifier:o,token:f,expires:m,url:`${y}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:f,email:o})}`,provider:i,theme:h,request:i1(e)}),w=s.createVerificationToken?.({identifier:o,token:await i5(`${f}${g}`),expires:m});return await Promise.all([b,w]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}function cP(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`}async function cA(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await cS(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await ck(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function cT(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:s,session:o}=r,l=t.value;if(!l)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:l,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await i.signOut?.({session:e})}}catch(e){s.error(new ra(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function cO(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function cR(e,t,r,n){let i=cm(t),{provider:a}=i,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await cO(t,r),l=o?{user:o,exists:!0}:await a.getUserInfo(t,e),c=l?.user;switch(cl(s,!!o,l)){case"authenticate":return cu(i,e,c,n);case"register":if("string"==typeof c?.email)return cc(i,e,c,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function cC(e,t){let{action:r,providerId:n,error:i,method:a}=e,s=t.skipCSRFCheck===ae,{options:o,cookies:l}=await ah({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),c=new tK(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=sR({...o,query:e.query,cookies:l});switch(r){case"callback":return await c_(e,o,c,l);case"csrf":return t.csrf(s,o,l);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await cE(o,c,l);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await cR(e,o,c,l)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&i9(r,t),await c_(e,o,c,l);case"session":return i9(r,t),await cE(o,c,l,!0,e.body?.data);case"signin":return i9(r,t),await cA(e,l,o);case"signout":return i9(r,t),await cT(l,c,o)}}throw new rs(`Cannot handle action: ${r}`)}function cN(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||iG(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],s=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],l="function"==typeof t?t({clientId:i,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=i),l.clientSecret??(l.clientSecret=a),l.issuer??(l.issuer=s)):"email"===l.type&&(l.apiKey??(l.apiKey=o)),l})}function cI(e,t,r,n,i){let a;let s=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&iG(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let l=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function c$(e,t){let r=iG(t),n=await i0(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=rT(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method){let e="There was a problem with the server configuration. Check the server logs for more information.";return Response.json({message:e},{status:500})}let{pages:e,theme:a}=t,s=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new tQ(`The error page ${e?.error} should not require authentication`)),i2(sR({theme:a}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===at;try{let e=await cC(n,t);if(s)return e;let r=i2(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(h){let i=h;r.error(i);let o=i instanceof tJ;if(o&&s&&!a)throw i;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let l=new URLSearchParams({error:rf(i)?i.type:"Configuration"});i instanceof t1&&l.set("code",i.code);let c=o&&i.kind||"error",u=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,d=`${n.url.origin}${u}?${l}`;if(a)return Response.json({url:d});return Response.redirect(d)}}function cj(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}r(280),"undefined"==typeof URLPattern||URLPattern;var cD=r(557),cM=r(602),cU=r(801);function cL(){let e=tk.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}let cq=new WeakMap;function cF(e,t,r,n){let i=cq.get(e);if(i)return i;let a={...e},s=Promise.resolve(a);return cq.set(e,s),Object.keys(e).forEach(i=>{wellKnownProperties.has(i)||(t.has(i)?Object.defineProperty(a,i,{get(){let e=describeStringPropertyAccess("unstable_rootParams",i);"prerender-ppr"===n.type?postponeWithTracking(r.route,e,n.dynamicTracking):throwToInterruptStaticGeneration(e,r,n)},enumerable:!0}):s[i]=e[i])}),s}function cV(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new ec(n.replace(i,r),e)}function cH(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),cN(process.env,e,!0)}}var cW=r(815);let cB={current:null},cK="function"==typeof cW.cache?cW.cache:e=>e,cJ=console.warn;function cZ(e){return function(...t){cJ(e(...t))}}function cz(){let e="cookies",t=eR.J.getStore(),r=eC.FP.getStore();if(t){if(r&&"after"===r.phase&&!cL())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return cY(cG());if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new cM.f(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type)return cQ(t.route,r);"prerender-ppr"===r.type?(0,cD.Ui)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,cD.xI)(e,t,r)}(0,cD.Pk)(t,r)}let n=(0,eC.XN)(e);return cY(eM(n)?n.userspaceMutableCookies:n.cookies)}function cG(){return eI.seal(new eo.RequestCookies(new Headers({})))}cK(e=>{try{cJ(cB.current)}finally{cB.current=null}});let cX=new WeakMap;function cQ(e,t){let r=cX.get(t);if(r)return r;let n=(0,cU.W)(t.renderSignal,"`cookies()`");return cX.set(t,n),Object.defineProperties(n,{[Symbol.iterator]:{value:function(){let r="`cookies()[Symbol.iterator]()`",n=c2(e,r);(0,cD.t3)(e,r,n,t)}},size:{get(){let r="`cookies().size`",n=c2(e,r);(0,cD.t3)(e,r,n,t)}},get:{value:function(){let r;r=0==arguments.length?"`cookies().get()`":`\`cookies().get(${c0(arguments[0])})\``;let n=c2(e,r);(0,cD.t3)(e,r,n,t)}},getAll:{value:function(){let r;r=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${c0(arguments[0])})\``;let n=c2(e,r);(0,cD.t3)(e,r,n,t)}},has:{value:function(){let r;r=0==arguments.length?"`cookies().has()`":`\`cookies().has(${c0(arguments[0])})\``;let n=c2(e,r);(0,cD.t3)(e,r,n,t)}},set:{value:function(){let r;if(0==arguments.length)r="`cookies().set()`";else{let e=arguments[0];r=e?`\`cookies().set(${c0(e)}, ...)\``:"`cookies().set(...)`"}let n=c2(e,r);(0,cD.t3)(e,r,n,t)}},delete:{value:function(){let r;r=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${c0(arguments[0])})\``:`\`cookies().delete(${c0(arguments[0])}, ...)\``;let n=c2(e,r);(0,cD.t3)(e,r,n,t)}},clear:{value:function(){let r="`cookies().clear()`",n=c2(e,r);(0,cD.t3)(e,r,n,t)}},toString:{value:function(){let r="`cookies().toString()`",n=c2(e,r);(0,cD.t3)(e,r,n,t)}}}),n}function cY(e){let t=cX.get(e);if(t)return t;let r=Promise.resolve(e);return cX.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):c5.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):c4.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function c0(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let c1=cZ(c2);function c2(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function c5(){return this.getAll().map(e=>[e.name,e]).values()}function c4(e){for(let e of this.getAll())this.delete(e.name);return e}function c3(){let e=eR.J.getStore(),t=eC.FP.getStore();if(e){if(t&&"after"===t.phase&&!cL())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return c8(eO.seal(new Headers({})));if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new cM.f(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t){if("prerender"===t.type)return c9(e.route,t);"prerender-ppr"===t.type?(0,cD.Ui)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,cD.xI)("headers",e,t)}(0,cD.Pk)(e,t)}return c8((0,eC.XN)("headers").headers)}let c6=new WeakMap;function c9(e,t){let r=c6.get(t);if(r)return r;let n=(0,cU.W)(t.renderSignal,"`headers()`");return c6.set(t,n),Object.defineProperties(n,{append:{value:function(){let r=`\`headers().append(${c7(arguments[0])}, ...)\``,n=ut(e,r);(0,cD.t3)(e,r,n,t)}},delete:{value:function(){let r=`\`headers().delete(${c7(arguments[0])})\``,n=ut(e,r);(0,cD.t3)(e,r,n,t)}},get:{value:function(){let r=`\`headers().get(${c7(arguments[0])})\``,n=ut(e,r);(0,cD.t3)(e,r,n,t)}},has:{value:function(){let r=`\`headers().has(${c7(arguments[0])})\``,n=ut(e,r);(0,cD.t3)(e,r,n,t)}},set:{value:function(){let r=`\`headers().set(${c7(arguments[0])}, ...)\``,n=ut(e,r);(0,cD.t3)(e,r,n,t)}},getSetCookie:{value:function(){let r="`headers().getSetCookie()`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}},forEach:{value:function(){let r="`headers().forEach(...)`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}},keys:{value:function(){let r="`headers().keys()`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}},values:{value:function(){let r="`headers().values()`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}},entries:{value:function(){let r="`headers().entries()`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}},[Symbol.iterator]:{value:function(){let r="`headers()[Symbol.iterator]()`",n=ut(e,r);(0,cD.t3)(e,r,n,t)}}}),n}function c8(e){let t=c6.get(e);if(t)return t;let r=Promise.resolve(e);return c6.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function c7(e){return"string"==typeof e?`'${e}'`:"..."}let ue=cZ(ut);function ut(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}r(16),new WeakMap;class ur{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){ua("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){ua("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let un=cZ(ui);function ui(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})}function ua(e){let t=workAsyncStorage.getStore(),r=workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let n=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});abortAndThrowOnSynchronousRequestDataAccess(t.route,e,n,r)}else if("prerender-ppr"===r.type)postponeWithTracking(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let n=Object.defineProperty(new DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}async function us(e,t){return c$(new Request(cI("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function uo(e){return"function"==typeof e}function ul(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await c3(),n=await e(void 0);return t?.(n),us(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),uc([n,i],a)}if(uo(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),uc(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),us(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve(c3()).then(t=>us(t,e).then(e=>e.json()));if(t[0]instanceof Request)return uc([t[0],t[1]],e);if(uo(t[0])){let r=t[0];return async(...t)=>uc(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return us(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function uc(e,t,r){let n=cV(e[0]),i=await us(n.headers,t),a=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:a}));let o=ep.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=n.nextUrl;e&&uu(r,new URL(e).pathname,t)&&(s=!0)}else if(r){let t=n;t.auth=a,o=await r(t,e[1])??ep.next()}else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=ep.redirect(t)}}let l=new Response(o?.body,o);for(let e of i.headers.getSetCookie())l.headers.append("set-cookie",e);return l}function uu(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(ud.has(n)||i.includes(t))&&t===e}let ud=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var uh=r(821),uf=r(167);let up=r(830).s;function um(e,t,r){void 0===r&&(r=uh.Q.TemporaryRedirect);let n=Object.defineProperty(Error(uf.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=uf.oJ+";"+t+";"+e+";"+r+";",n}function ug(e,t){var r;throw null!=t||(t=(null==up?void 0:null==(r=up.getStore())?void 0:r.isAction)?uf.zB.push:uf.zB.replace),um(e,t,uh.Q.TemporaryRedirect)}var uy=r(159);async function ub(e,t={},r,n){let i=new Headers(await c3()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,l=s?.toString()??i.get("Referer")??"/",c=cI("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return c.searchParams.append("callbackUrl",l),a&&ug(c.toString()),c.toString();let u=`${c}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${c}?${new URLSearchParams({callbackUrl:l})}`;return a&&ug(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let h=new Request(u,{method:"POST",headers:i,body:new URLSearchParams({...o,callbackUrl:l})}),f=await c$(h,{...n,raw:at,skipCSRFCheck:ae}),p=await cz();for(let e of f?.cookies??[])p.set(e.name,e.value,e.options);let m=(f instanceof Response?f.headers.get("Location"):f.redirect)??u;return a?ug(m):m}async function uw(e,t){let r=new Headers(await c3());r.set("Content-Type","application/x-www-form-urlencoded");let n=cI("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),s=await c$(a,{...t,raw:at,skipCSRFCheck:ae}),o=await cz();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?ug(s.redirect):s}async function uv(e,t){let r=new Headers(await c3());r.set("Content-Type","application/json");let n=new Request(cI("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await c$(n,{...t,raw:at,skipCSRFCheck:ae}),a=await cz();for(let e of i?.cookies??[])a.set(e.name,e.value,e.options);return i.body}function u_(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return cH(r),c$(cV(t),r)};return{handlers:{GET:t,POST:t},auth:ul(e,e=>cH(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return cH(i),ub(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return cH(r),uw(t,r)},unstable_update:async t=>{let r=await e(void 0);return cH(r),uv(t,r)}}}cH(e);let t=t=>c$(cV(t),e);return{handlers:{GET:t,POST:t},auth:ul(e),signIn:(t,r,n)=>ub(t,r,n,e),signOut:t=>uw(t,e),unstable_update:t=>uv(t,e)}}uy.s8,uy.s8,uy.s8,r(792).X;var ux=r(23);function uE(e){let t=e;return{createUser:({id:e,...r})=>t.user.create(uS(r)),getUser:e=>t.user.findUnique({where:{id:e}}),getUserByEmail:e=>t.user.findUnique({where:{email:e}}),async getUserByAccount(e){let r=await t.account.findUnique({where:{provider_providerAccountId:e},include:{user:!0}});return r?.user??null},updateUser:({id:e,...r})=>t.user.update({where:{id:e},...uS(r)}),deleteUser:e=>t.user.delete({where:{id:e}}),linkAccount:e=>t.account.create({data:e}),unlinkAccount:e=>t.account.delete({where:{provider_providerAccountId:e}}),async getSessionAndUser(e){let r=await t.session.findUnique({where:{sessionToken:e},include:{user:!0}});if(!r)return null;let{user:n,...i}=r;return{user:n,session:i}},createSession:e=>t.session.create(uS(e)),updateSession:e=>t.session.update({where:{sessionToken:e.sessionToken},...uS(e)}),deleteSession:e=>t.session.delete({where:{sessionToken:e}}),async createVerificationToken(e){let r=await t.verificationToken.create(uS(e));return"id"in r&&r.id&&delete r.id,r},async useVerificationToken(e){try{let r=await t.verificationToken.delete({where:{identifier_token:e}});return"id"in r&&r.id&&delete r.id,r}catch(e){if(e instanceof ux.PrismaClientKnownRequestError&&"P2025"===e.code)return null;throw e}},getAccount:async(e,r)=>t.account.findFirst({where:{providerAccountId:e,provider:r}}),createAuthenticator:async e=>t.authenticator.create(uS(e)),getAuthenticator:async e=>t.authenticator.findUnique({where:{credentialID:e}}),listAuthenticatorsByUserId:async e=>t.authenticator.findMany({where:{userId:e}}),updateAuthenticatorCounter:async(e,r)=>t.authenticator.update({where:{credentialID:e},data:{counter:r}})}}function uS(e){let t={};for(let r in e)void 0!==e[r]&&(t[r]=e[r]);return{data:t}}function uk(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(u||(u={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(d||(d={}));let uP=u.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uA=e=>{switch(typeof e){case"undefined":return uP.undefined;case"string":return uP.string;case"number":return isNaN(e)?uP.nan:uP.number;case"boolean":return uP.boolean;case"function":return uP.function;case"bigint":return uP.bigint;case"symbol":return uP.symbol;case"object":if(Array.isArray(e))return uP.array;if(null===e)return uP.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return uP.promise;if("undefined"!=typeof Map&&e instanceof Map)return uP.map;if("undefined"!=typeof Set&&e instanceof Set)return uP.set;if("undefined"!=typeof Date&&e instanceof Date)return uP.date;return uP.object;default:return uP.unknown}},uT=u.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uO=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class uR extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof uR))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,u.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}uR.create=e=>new uR(e);let uC=(e,t)=>{let r;switch(e.code){case uT.invalid_type:r=e.received===uP.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case uT.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,u.jsonStringifyReplacer)}`;break;case uT.unrecognized_keys:r=`Unrecognized key(s) in object: ${u.joinValues(e.keys,", ")}`;break;case uT.invalid_union:r="Invalid input";break;case uT.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${u.joinValues(e.options)}`;break;case uT.invalid_enum_value:r=`Invalid enum value. Expected ${u.joinValues(e.options)}, received '${e.received}'`;break;case uT.invalid_arguments:r="Invalid function arguments";break;case uT.invalid_return_type:r="Invalid function return type";break;case uT.invalid_date:r="Invalid date";break;case uT.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:u.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case uT.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case uT.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case uT.custom:r="Invalid input";break;case uT.invalid_intersection_types:r="Intersection results could not be merged";break;case uT.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case uT.not_finite:r="Number must be finite";break;default:r=t.defaultError,u.assertNever(e)}return{message:r}},uN=uC;function uI(e){uN=e}function u$(){return uN}let uj=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},uD=[];function uM(e,t){let r=u$(),n=uj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===uC?void 0:uC].filter(e=>!!e)});e.common.issues.push(n)}class uU{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return uL;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return uU.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return uL;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let uL=Object.freeze({status:"aborted"}),uq=e=>({status:"dirty",value:e}),uF=e=>({status:"valid",value:e}),uV=e=>"aborted"===e.status,uH=e=>"dirty"===e.status,uW=e=>"valid"===e.status,uB=e=>"undefined"!=typeof Promise&&e instanceof Promise;function uK(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function uJ(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(h||(h={}));class uZ{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let uz=(e,t)=>{if(uW(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new uR(e.common.issues);return this._error=t,this._error}}};function uG(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(a=null!=o?o:n)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=o?o:r)&&void 0!==s?s:i.defaultError}},description:i}}class uX{get description(){return this._def.description}_getType(e){return uA(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:uA(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new uU,ctx:{common:e.parent.common,data:e.data,parsedType:uA(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(uB(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uA(e)},i=this._parseSync({data:e,path:n.path,parent:n});return uz(n,i)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uA(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return uW(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>uW(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uA(e)},n=this._parse({data:e,path:r.path,parent:r});return uz(r,await (uB(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:uT.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new dW({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return dB.create(this,this._def)}nullable(){return dK.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dk.create(this)}promise(){return dH.create(this,this._def)}or(e){return dT.create([this,e],this._def)}and(e){return dN.create(this,e,this._def)}transform(e){return new dW({...uG(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new dJ({...uG(this._def),innerType:this,defaultValue:t,typeName:m.ZodDefault})}brand(){return new dX({typeName:m.ZodBranded,type:this,...uG(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new dZ({...uG(this._def),innerType:this,catchValue:t,typeName:m.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return dQ.create(this,e)}readonly(){return dY.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let uQ=/^c[^\s-]{8,}$/i,uY=/^[0-9a-z]+$/,u0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,u1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u2=/^[a-z0-9_-]{21}$/i,u5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,u4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,u3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,u6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",u9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,u7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,de=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",di=RegExp(`^${dn}$`);function da(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ds(e){return RegExp(`^${da(e)}$`)}function dl(e){let t=`${dn}T${da(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function dc(e,t){return!!(("v4"===t||!t)&&u9.test(e)||("v6"===t||!t)&&u7.test(e))}function du(e,t){if(!u5.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}function dd(e,t){return!!(("v4"===t||!t)&&u8.test(e)||("v6"===t||!t)&&de.test(e))}class dh extends uX{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==uP.string){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.string,received:t.parsedType}),uL}let r=new uU;for(let n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if("max"===n.kind)e.data.length>n.value&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if("length"===n.kind){let i=e.data.length>n.value,a=e.data.length<n.value;(i||a)&&(t=this._getOrReturnCtx(e,t),i?uM(t,{code:uT.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&uM(t,{code:uT.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if("email"===n.kind)u3.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"email",code:uT.invalid_string,message:n.message}),r.dirty());else if("emoji"===n.kind)c||(c=RegExp(u6,"u")),c.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:uT.invalid_string,message:n.message}),r.dirty());else if("uuid"===n.kind)u1.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:uT.invalid_string,message:n.message}),r.dirty());else if("nanoid"===n.kind)u2.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:uT.invalid_string,message:n.message}),r.dirty());else if("cuid"===n.kind)uQ.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:uT.invalid_string,message:n.message}),r.dirty());else if("cuid2"===n.kind)uY.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:uT.invalid_string,message:n.message}),r.dirty());else if("ulid"===n.kind)u0.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:uT.invalid_string,message:n.message}),r.dirty());else if("url"===n.kind)try{new URL(e.data)}catch(i){uM(t=this._getOrReturnCtx(e,t),{validation:"url",code:uT.invalid_string,message:n.message}),r.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"regex",code:uT.invalid_string,message:n.message}),r.dirty())):"trim"===n.kind?e.data=e.data.trim():"includes"===n.kind?e.data.includes(n.value,n.position)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):"toLowerCase"===n.kind?e.data=e.data.toLowerCase():"toUpperCase"===n.kind?e.data=e.data.toUpperCase():"startsWith"===n.kind?e.data.startsWith(n.value)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):"endsWith"===n.kind?e.data.endsWith(n.value)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):"datetime"===n.kind?dl(n).test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:"datetime",message:n.message}),r.dirty()):"date"===n.kind?di.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:"date",message:n.message}),r.dirty()):"time"===n.kind?ds(n).test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_string,validation:"time",message:n.message}),r.dirty()):"duration"===n.kind?u4.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"duration",code:uT.invalid_string,message:n.message}),r.dirty()):"ip"===n.kind?dc(e.data,n.version)||(uM(t=this._getOrReturnCtx(e,t),{validation:"ip",code:uT.invalid_string,message:n.message}),r.dirty()):"jwt"===n.kind?du(e.data,n.alg)||(uM(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:uT.invalid_string,message:n.message}),r.dirty()):"cidr"===n.kind?dd(e.data,n.version)||(uM(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:uT.invalid_string,message:n.message}),r.dirty()):"base64"===n.kind?dt.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"base64",code:uT.invalid_string,message:n.message}),r.dirty()):"base64url"===n.kind?dr.test(e.data)||(uM(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:uT.invalid_string,message:n.message}),r.dirty()):u.assertNever(n);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:uT.invalid_string,...h.errToObj(r)})}_addCheck(e){return new dh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...h.errToObj(e)})}url(e){return this._addCheck({kind:"url",...h.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...h.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...h.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...h.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...h.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...h.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...h.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...h.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...h.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...h.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...h.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...h.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...h.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...h.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...h.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...h.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...h.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...h.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...h.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...h.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...h.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...h.errToObj(t)})}nonempty(e){return this.min(1,h.errToObj(e))}trim(){return new dh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function df(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}dh.create=e=>{var t;return new dh({checks:[],typeName:m.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...uG(e)})};class dp extends uX{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==uP.number){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.number,received:t.parsedType}),uL}let r=new uU;for(let n of this._def.checks)"int"===n.kind?u.isInteger(e.data)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==df(e.data,n.value)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(uM(t=this._getOrReturnCtx(e,t),{code:uT.not_finite,message:n.message}),r.dirty()):u.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,r,n){return new dp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:h.toString(n)}]})}_addCheck(e){return new dp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:h.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:h.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&u.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}dp.create=e=>new dp({checks:[],typeName:m.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...uG(e)});class dm extends uX{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==uP.bigint)return this._getInvalidInput(e);let r=new uU;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):u.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.bigint,received:t.parsedType}),uL}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,r,n){return new dm({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:h.toString(n)}]})}_addCheck(e){return new dm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}dm.create=e=>{var t;return new dm({checks:[],typeName:m.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...uG(e)})};class dg extends uX{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==uP.boolean){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.boolean,received:t.parsedType}),uL}return uF(e.data)}}dg.create=e=>new dg({typeName:m.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...uG(e)});class dy extends uX{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==uP.date){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.date,received:t.parsedType}),uL}if(isNaN(e.data.getTime()))return uM(this._getOrReturnCtx(e),{code:uT.invalid_date}),uL;let r=new uU;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(uM(t=this._getOrReturnCtx(e,t),{code:uT.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):u.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dy({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:h.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:h.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}dy.create=e=>new dy({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:m.ZodDate,...uG(e)});class db extends uX{_parse(e){if(this._getType(e)!==uP.symbol){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.symbol,received:t.parsedType}),uL}return uF(e.data)}}db.create=e=>new db({typeName:m.ZodSymbol,...uG(e)});class dw extends uX{_parse(e){if(this._getType(e)!==uP.undefined){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.undefined,received:t.parsedType}),uL}return uF(e.data)}}dw.create=e=>new dw({typeName:m.ZodUndefined,...uG(e)});class dv extends uX{_parse(e){if(this._getType(e)!==uP.null){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.null,received:t.parsedType}),uL}return uF(e.data)}}dv.create=e=>new dv({typeName:m.ZodNull,...uG(e)});class d_ extends uX{constructor(){super(...arguments),this._any=!0}_parse(e){return uF(e.data)}}d_.create=e=>new d_({typeName:m.ZodAny,...uG(e)});class dx extends uX{constructor(){super(...arguments),this._unknown=!0}_parse(e){return uF(e.data)}}dx.create=e=>new dx({typeName:m.ZodUnknown,...uG(e)});class dE extends uX{_parse(e){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.never,received:t.parsedType}),uL}}dE.create=e=>new dE({typeName:m.ZodNever,...uG(e)});class dS extends uX{_parse(e){if(this._getType(e)!==uP.undefined){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.void,received:t.parsedType}),uL}return uF(e.data)}}dS.create=e=>new dS({typeName:m.ZodVoid,...uG(e)});class dk extends uX{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==uP.array)return uM(t,{code:uT.invalid_type,expected:uP.array,received:t.parsedType}),uL;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(uM(t,{code:e?uT.too_big:uT.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(uM(t,{code:uT.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(uM(t,{code:uT.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new uZ(t,e,t.path,r)))).then(e=>uU.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new uZ(t,e,t.path,r)));return uU.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new dk({...this._def,minLength:{value:e,message:h.toString(t)}})}max(e,t){return new dk({...this._def,maxLength:{value:e,message:h.toString(t)}})}length(e,t){return new dk({...this._def,exactLength:{value:e,message:h.toString(t)}})}nonempty(e){return this.min(1,e)}}function dP(e){if(e instanceof dA){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=dB.create(dP(n))}return new dA({...e._def,shape:()=>t})}if(e instanceof dk)return new dk({...e._def,type:dP(e.element)});if(e instanceof dB)return dB.create(dP(e.unwrap()));if(e instanceof dK)return dK.create(dP(e.unwrap()));if(e instanceof dI)return dI.create(e.items.map(e=>dP(e)));else return e}dk.create=(e,t)=>new dk({type:e,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...uG(t)});class dA extends uX{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=u.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==uP.object){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.object,received:t.parsedType}),uL}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof dE&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new uZ(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof dE){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(uM(r,{code:uT.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new uZ(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>uU.mergeObjectSync(t,e)):uU.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return h.errToObj,new dA({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,a,s;let o=null!==(a=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=h.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new dA({...this._def,unknownKeys:"strip"})}passthrough(){return new dA({...this._def,unknownKeys:"passthrough"})}extend(e){return new dA({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dA({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:m.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new dA({...this._def,catchall:e})}pick(e){let t={};return u.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new dA({...this._def,shape:()=>t})}omit(e){let t={};return u.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new dA({...this._def,shape:()=>t})}deepPartial(){return dP(this)}partial(e){let t={};return u.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new dA({...this._def,shape:()=>t})}required(e){let t={};return u.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof dB;)e=e._def.innerType;t[r]=e}}),new dA({...this._def,shape:()=>t})}keyof(){return dq(u.objectKeys(this.shape))}}dA.create=(e,t)=>new dA({shape:()=>e,unknownKeys:"strip",catchall:dE.create(),typeName:m.ZodObject,...uG(t)}),dA.strictCreate=(e,t)=>new dA({shape:()=>e,unknownKeys:"strict",catchall:dE.create(),typeName:m.ZodObject,...uG(t)}),dA.lazycreate=(e,t)=>new dA({shape:e,unknownKeys:"strip",catchall:dE.create(),typeName:m.ZodObject,...uG(t)});class dT extends uX{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new uR(e.ctx.common.issues));return uM(t,{code:uT.invalid_union,unionErrors:r}),uL}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new uR(e));return uM(t,{code:uT.invalid_union,unionErrors:i}),uL}}get options(){return this._def.options}}dT.create=(e,t)=>new dT({options:e,typeName:m.ZodUnion,...uG(t)});let dO=e=>{if(e instanceof dU)return dO(e.schema);if(e instanceof dW)return dO(e.innerType());if(e instanceof dL)return[e.value];if(e instanceof dF)return e.options;if(e instanceof dV)return u.objectValues(e.enum);else if(e instanceof dJ)return dO(e._def.innerType);else if(e instanceof dw)return[void 0];else if(e instanceof dv)return[null];else if(e instanceof dB)return[void 0,...dO(e.unwrap())];else if(e instanceof dK)return[null,...dO(e.unwrap())];else if(e instanceof dX)return dO(e.unwrap());else if(e instanceof dY)return dO(e.unwrap());else if(e instanceof dZ)return dO(e._def.innerType);else return[]};class dR extends uX{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==uP.object)return uM(t,{code:uT.invalid_type,expected:uP.object,received:t.parsedType}),uL;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(uM(t,{code:uT.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),uL)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=dO(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new dR({typeName:m.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...uG(r)})}}function dC(e,t){let r=uA(e),n=uA(t);if(e===t)return{valid:!0,data:e};if(r===uP.object&&n===uP.object){let r=u.objectKeys(t),n=u.objectKeys(e).filter(e=>-1!==r.indexOf(e)),i={...e,...t};for(let r of n){let n=dC(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===uP.array&&n===uP.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let i=dC(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}if(r===uP.date&&n===uP.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class dN extends uX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(uV(e)||uV(n))return uL;let i=dC(e.value,n.value);return i.valid?((uH(e)||uH(n))&&t.dirty(),{status:t.value,value:i.data}):(uM(r,{code:uT.invalid_intersection_types}),uL)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dN.create=(e,t,r)=>new dN({left:e,right:t,typeName:m.ZodIntersection,...uG(r)});class dI extends uX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uP.array)return uM(r,{code:uT.invalid_type,expected:uP.array,received:r.parsedType}),uL;if(r.data.length<this._def.items.length)return uM(r,{code:uT.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),uL;!this._def.rest&&r.data.length>this._def.items.length&&(uM(r,{code:uT.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new uZ(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>uU.mergeArray(t,e)):uU.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new dI({...this._def,rest:e})}}dI.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new dI({items:e,typeName:m.ZodTuple,rest:null,...uG(t)})};class d$ extends uX{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uP.object)return uM(r,{code:uT.invalid_type,expected:uP.object,received:r.parsedType}),uL;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new uZ(r,e,r.path,e)),value:a._parse(new uZ(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?uU.mergeObjectAsync(t,n):uU.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new d$(t instanceof uX?{keyType:e,valueType:t,typeName:m.ZodRecord,...uG(r)}:{keyType:dh.create(),valueType:e,typeName:m.ZodRecord,...uG(t)})}}class dj extends uX{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uP.map)return uM(r,{code:uT.invalid_type,expected:uP.map,received:r.parsedType}),uL;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new uZ(r,e,r.path,[a,"key"])),value:i._parse(new uZ(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return uL;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return uL;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}dj.create=(e,t,r)=>new dj({valueType:t,keyType:e,typeName:m.ZodMap,...uG(r)});class dD extends uX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uP.set)return uM(r,{code:uT.invalid_type,expected:uP.set,received:r.parsedType}),uL;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(uM(r,{code:uT.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(uM(r,{code:uT.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return uL;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new uZ(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new dD({...this._def,minSize:{value:e,message:h.toString(t)}})}max(e,t){return new dD({...this._def,maxSize:{value:e,message:h.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dD.create=(e,t)=>new dD({valueType:e,minSize:null,maxSize:null,typeName:m.ZodSet,...uG(t)});class dM extends uX{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==uP.function)return uM(t,{code:uT.invalid_type,expected:uP.function,received:t.parsedType}),uL;function r(e,r){return uj({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u$(),uC].filter(e=>!!e),issueData:{code:uT.invalid_arguments,argumentsError:r}})}function n(e,r){return uj({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u$(),uC].filter(e=>!!e),issueData:{code:uT.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof dH){let e=this;return uF(async function(...t){let s=new uR([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return uF(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new uR([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new uR([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new dM({...this._def,args:dI.create(e).rest(dx.create())})}returns(e){return new dM({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new dM({args:e||dI.create([]).rest(dx.create()),returns:t||dx.create(),typeName:m.ZodFunction,...uG(r)})}}class dU extends uX{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}dU.create=(e,t)=>new dU({getter:e,typeName:m.ZodLazy,...uG(t)});class dL extends uX{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return uM(t,{received:t.data,code:uT.invalid_literal,expected:this._def.value}),uL}return{status:"valid",value:e.data}}get value(){return this._def.value}}function dq(e,t){return new dF({values:e,typeName:m.ZodEnum,...uG(t)})}dL.create=(e,t)=>new dL({value:e,typeName:m.ZodLiteral,...uG(t)});class dF extends uX{constructor(){super(...arguments),f.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return uM(t,{expected:u.joinValues(r),received:t.parsedType,code:uT.invalid_type}),uL}if(uK(this,f,"f")||uJ(this,f,new Set(this._def.values),"f"),!uK(this,f,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return uM(t,{received:t.data,code:uT.invalid_enum_value,options:r}),uL}return uF(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return dF.create(e,{...this._def,...t})}exclude(e,t=this._def){return dF.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}f=new WeakMap,dF.create=dq;class dV extends uX{constructor(){super(...arguments),p.set(this,void 0)}_parse(e){let t=u.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==uP.string&&r.parsedType!==uP.number){let e=u.objectValues(t);return uM(r,{expected:u.joinValues(e),received:r.parsedType,code:uT.invalid_type}),uL}if(uK(this,p,"f")||uJ(this,p,new Set(u.getValidEnumValues(this._def.values)),"f"),!uK(this,p,"f").has(e.data)){let e=u.objectValues(t);return uM(r,{received:r.data,code:uT.invalid_enum_value,options:e}),uL}return uF(e.data)}get enum(){return this._def.values}}p=new WeakMap,dV.create=(e,t)=>new dV({values:e,typeName:m.ZodNativeEnum,...uG(t)});class dH extends uX{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==uP.promise&&!1===t.common.async?(uM(t,{code:uT.invalid_type,expected:uP.promise,received:t.parsedType}),uL):uF((t.parsedType===uP.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}dH.create=(e,t)=>new dH({type:e,typeName:m.ZodPromise,...uG(t)});class dW extends uX{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{uM(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return uL;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?uL:"dirty"===n.status||"dirty"===t.value?uq(n.value):n});{if("aborted"===t.value)return uL;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?uL:"dirty"===n.status||"dirty"===t.value?uq(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?uL:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?uL:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>uW(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uW(e))return e;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}u.assertNever(n)}}dW.create=(e,t,r)=>new dW({schema:e,typeName:m.ZodEffects,effect:t,...uG(r)}),dW.createWithPreprocess=(e,t,r)=>new dW({schema:t,effect:{type:"preprocess",transform:e},typeName:m.ZodEffects,...uG(r)});class dB extends uX{_parse(e){return this._getType(e)===uP.undefined?uF(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dB.create=(e,t)=>new dB({innerType:e,typeName:m.ZodOptional,...uG(t)});class dK extends uX{_parse(e){return this._getType(e)===uP.null?uF(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dK.create=(e,t)=>new dK({innerType:e,typeName:m.ZodNullable,...uG(t)});class dJ extends uX{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===uP.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}dJ.create=(e,t)=>new dJ({innerType:e,typeName:m.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...uG(t)});class dZ extends uX{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return uB(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new uR(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new uR(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dZ.create=(e,t)=>new dZ({innerType:e,typeName:m.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...uG(t)});class dz extends uX{_parse(e){if(this._getType(e)!==uP.nan){let t=this._getOrReturnCtx(e);return uM(t,{code:uT.invalid_type,expected:uP.nan,received:t.parsedType}),uL}return{status:"valid",value:e.data}}}dz.create=e=>new dz({typeName:m.ZodNaN,...uG(e)});let dG=Symbol("zod_brand");class dX extends uX{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class dQ extends uX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?uL:"dirty"===e.status?(t.dirty(),uq(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?uL:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new dQ({in:e,out:t,typeName:m.ZodPipeline})}}class dY extends uX{_parse(e){let t=this._def.innerType._parse(e),r=e=>(uW(e)&&(e.value=Object.freeze(e.value)),e);return uB(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function d0(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function d1(e,t={},r){return e?d_.create().superRefine((n,i)=>{var a,s;let o=e(n);if(o instanceof Promise)return o.then(e=>{var a,s;if(!e){let e=d0(t,n),o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=d0(t,n),o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:o})}}):d_.create()}dY.create=(e,t)=>new dY({innerType:e,typeName:m.ZodReadonly,...uG(t)});let d2={object:dA.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(m||(m={}));let d5=(e,t={message:`Input not instance of ${e.name}`})=>d1(t=>t instanceof e,t),d4=dh.create,d3=dp.create,d6=dz.create,d9=dm.create,d8=dg.create,d7=dy.create,he=db.create,ht=dw.create,hr=dv.create,hn=d_.create,hi=dx.create,ha=dE.create,hs=dS.create,ho=dk.create,hl=dA.create,hc=dA.strictCreate,hu=dT.create,hd=dR.create,hh=dN.create,hf=dI.create,hp=d$.create,hm=dj.create,hg=dD.create,hy=dM.create,hb=dU.create,hw=dL.create,hv=dF.create,h_=dV.create,hx=dH.create,hE=dW.create,hS=dB.create,hk=dK.create,hP=dW.createWithPreprocess,hA=dQ.create,hT=()=>d3().optional(),hO=()=>d8().optional(),hR={string:e=>dh.create({...e,coerce:!0}),number:e=>dp.create({...e,coerce:!0}),boolean:e=>dg.create({...e,coerce:!0}),bigint:e=>dm.create({...e,coerce:!0}),date:e=>dy.create({...e,coerce:!0})},hC=uL;var hN=Object.freeze({__proto__:null,defaultErrorMap:uC,setErrorMap:uI,getErrorMap:u$,makeIssue:uj,EMPTY_PATH:uD,addIssueToContext:uM,ParseStatus:uU,INVALID:uL,DIRTY:uq,OK:uF,isAborted:uV,isDirty:uH,isValid:uW,isAsync:uB,get util(){return u},get objectUtil(){return d},ZodParsedType:uP,getParsedType:uA,ZodType:uX,datetimeRegex:dl,ZodString:dh,ZodNumber:dp,ZodBigInt:dm,ZodBoolean:dg,ZodDate:dy,ZodSymbol:db,ZodUndefined:dw,ZodNull:dv,ZodAny:d_,ZodUnknown:dx,ZodNever:dE,ZodVoid:dS,ZodArray:dk,ZodObject:dA,ZodUnion:dT,ZodDiscriminatedUnion:dR,ZodIntersection:dN,ZodTuple:dI,ZodRecord:d$,ZodMap:dj,ZodSet:dD,ZodFunction:dM,ZodLazy:dU,ZodLiteral:dL,ZodEnum:dF,ZodNativeEnum:dV,ZodPromise:dH,ZodEffects:dW,ZodTransformer:dW,ZodOptional:dB,ZodNullable:dK,ZodDefault:dJ,ZodCatch:dZ,ZodNaN:dz,BRAND:dG,ZodBranded:dX,ZodPipeline:dQ,ZodReadonly:dY,custom:d1,Schema:uX,ZodSchema:uX,late:d2,get ZodFirstPartyTypeKind(){return m},coerce:hR,any:hn,array:ho,bigint:d9,boolean:d8,date:d7,discriminatedUnion:hd,effect:hE,enum:hv,function:hy,instanceof:d5,intersection:hh,lazy:hb,literal:hw,map:hm,nan:d6,nativeEnum:h_,never:ha,null:hr,nullable:hk,number:d3,object:hl,oboolean:hO,onumber:hT,optional:hS,ostring:()=>d4().optional(),pipeline:hA,preprocess:hP,promise:hx,record:hp,set:hg,strictObject:hc,string:d4,symbol:he,transformer:hE,tuple:hf,undefined:ht,union:hu,unknown:hi,void:hs,NEVER:hC,ZodIssueCode:uT,quotelessJson:uO,ZodError:uR});hl({email:d4({required_error:"Email is required"}).email("Invalid email"),password:d4({required_error:"Password is required"}).min(8,"Password must be at least 8 characters").max(32,"Password must be at most 32 characters")});let hI=hl({email:d4({required_error:"Email is required"}).email("Invalid email"),password:d4({required_error:"Password is required"})});var h$=r(825),hj=null;function hD(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return h$.randomBytes(e)}catch{}if(!hj)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return hj(e)}function hM(e,t){if("number"!=typeof(e=e||hX))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(hZ(hD(hG),hG)),r.join("")}function hU(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),void 0===e)e=hX;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function n(t){hH(function(){try{t(null,hM(e))}catch(e){t(e)}})}if(!r)return new Promise(function(e,t){n(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);n(r)}function hL(e,t){if(void 0===t&&(t=hX),"number"==typeof t&&(t=hM(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return h8(e,t)}function hq(e,t,r,n){function i(r){"string"==typeof e&&"number"==typeof t?hU(t,function(t,i){h8(e,i,r,n)}):"string"==typeof e&&"string"==typeof t?h8(e,t,r,n):hH(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!r)return new Promise(function(e,t){i(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)}function hF(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return 0===r}function hV(e,t,r,n){function i(r){if("string"!=typeof e||"string"!=typeof t){hH(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(60!==t.length){hH(r.bind(this,null,!1));return}hq(e,t.substring(0,29),function(e,n){e?r(e):r(null,hF(n,t))},n)}if(!r)return new Promise(function(e,t){i(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)}var hH="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout;function hW(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t}function hB(e){for(var t,r,n=0,i=Array(hW(e)),a=0,s=e.length;a<s;++a)(t=e.charCodeAt(a))<128?i[n++]=t:(t<2048?i[n++]=t>>6|192:((64512&t)==55296&&(64512&(r=e.charCodeAt(a+1)))==56320?(t=65536+((1023&t)<<10)+(1023&r),++a,i[n++]=t>>18|240,i[n++]=t>>12&63|128):i[n++]=t>>12|224,i[n++]=t>>6&63|128),i[n++]=63&t|128);return i}var hK="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),hJ=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function hZ(e,t){var r,n,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(r=255&e[i++],a.push(hK[r>>2&63]),r=(3&r)<<4,i>=t||(r|=(n=255&e[i++])>>4&15,a.push(hK[63&r]),r=(15&n)<<2,i>=t)){a.push(hK[63&r]);break}r|=(n=255&e[i++])>>6&3,a.push(hK[63&r]),a.push(hK[63&n])}return a.join("")}function hz(e,t){var r,n,i,a,s,o=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(r=(s=e.charCodeAt(o++))<hJ.length?hJ[s]:-1,n=(s=e.charCodeAt(o++))<hJ.length?hJ[s]:-1,-1!=r&&-1!=n)&&(a=r<<2>>>0|(48&n)>>4,u.push(String.fromCharCode(a)),!(++c>=t||o>=l||-1==(i=(s=e.charCodeAt(o++))<hJ.length?hJ[s]:-1)||(a=(15&n)<<4>>>0|(60&i)>>2,u.push(String.fromCharCode(a)),++c>=t||o>=l)));){a=(3&i)<<6>>>0|((s=e.charCodeAt(o++))<hJ.length?hJ[s]:-1),u.push(String.fromCharCode(a)),++c}var d=[];for(o=0;o<c;o++)d.push(u[o].charCodeAt(0));return d}var hG=16,hX=10,hQ=16,hY=100,h0=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],h1=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],h2=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function h5(e,t,r,n){var i,a=e[t],s=e[t+1];return a^=r[0],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[1],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[2],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[3],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[4],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[5],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[6],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[7],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[8],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[9],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[10],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[11],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[12],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[13],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[14],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[15],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[16],e[t]=s^r[hQ+1],e[t+1]=a,e}function h4(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|255&e[t],t=(t+1)%e.length;return{key:n,offp:t}}function h3(e,t,r){for(var n,i=0,a=[0,0],s=t.length,o=r.length,l=0;l<s;l++)i=(n=h4(e,i)).offp,t[l]=t[l]^n.key;for(l=0;l<s;l+=2)a=h5(a,0,t,r),t[l]=a[0],t[l+1]=a[1];for(l=0;l<o;l+=2)a=h5(a,0,t,r),r[l]=a[0],r[l+1]=a[1]}function h6(e,t,r,n){for(var i,a=0,s=[0,0],o=r.length,l=n.length,c=0;c<o;c++)a=(i=h4(t,a)).offp,r[c]=r[c]^i.key;for(c=0,a=0;c<o;c+=2)a=(i=h4(e,a)).offp,s[0]^=i.key,a=(i=h4(e,a)).offp,s[1]^=i.key,s=h5(s,0,r,n),r[c]=s[0],r[c+1]=s[1];for(c=0;c<l;c+=2)a=(i=h4(e,a)).offp,s[0]^=i.key,a=(i=h4(e,a)).offp,s[1]^=i.key,s=h5(s,0,r,n),n[c]=s[0],n[c+1]=s[1]}function h9(e,t,r,n,i){var a,s,o=h2.slice(),l=o.length;if(r<4||r>31){if(s=Error("Illegal number of rounds (4-31): "+r),n){hH(n.bind(this,s));return}throw s}if(t.length!==hG){if(s=Error("Illegal salt length: "+t.length+" != "+hG),n){hH(n.bind(this,s));return}throw s}r=1<<r>>>0;var c,u,d,h=0;function f(){if(i&&i(h/r),h<r)for(var a=Date.now();h<r&&(h+=1,h3(e,c,u),h3(t,c,u),!(Date.now()-a>hY)););else{for(h=0;h<64;h++)for(d=0;d<l>>1;d++)h5(o,d<<1,c,u);var s=[];for(h=0;h<l;h++)s.push((o[h]>>24&255)>>>0),s.push((o[h]>>16&255)>>>0),s.push((o[h]>>8&255)>>>0),s.push((255&o[h])>>>0);return n?(n(null,s),void 0):s}n&&hH(f)}if("function"==typeof Int32Array?(c=new Int32Array(h0),u=new Int32Array(h1)):(c=h0.slice(),u=h1.slice()),h6(t,e,c,u),void 0!==n)f();else for(;;)if(void 0!==(a=f()))return a||[]}function h8(e,t,r,n){if("string"!=typeof e||"string"!=typeof t){if(i=Error("Invalid string / salt: Not a string"),r){hH(r.bind(this,i));return}throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),r){hH(r.bind(this,i));return}throw i}if("$"===t.charAt(2))a="\0",s=3;else{if("a"!==(a=t.charAt(2))&&"b"!==a&&"y"!==a||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),r){hH(r.bind(this,i));return}throw i}s=4}if(t.charAt(s+2)>"$"){if(i=Error("Missing salt rounds"),r){hH(r.bind(this,i));return}throw i}var i,a,s,o=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=hB(e+=a>="a"?"\0":""),u=hz(l,hG);function d(e){var t=[];return t.push("$2"),a>="a"&&t.push(a),t.push("$"),o<10&&t.push("0"),t.push(o.toString()),t.push("$"),t.push(hZ(u,u.length)),t.push(hZ(e,4*h2.length-1)),t.join("")}if(void 0===r)return d(h9(c,u,o));h9(c,u,o,function(e,t){e?r(e,null):r(null,d(t))},n)}let h7={compare:hV};var fe=r(388);function ft(e){let t=e.runtimeEnvStrict??e.runtimeEnv??process.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},n="object"==typeof e.server?e.server:{},i="object"==typeof e.shared?e.shared:{},a=hl(r),s=hl(n),o=hl(i),l=e.isServer??("undefined"==typeof window||"Deno"in window),c=a.merge(o),u=s.merge(o).merge(a),d=l?u.safeParse(t):c.safeParse(t),h=e.onValidationError??(e=>{throw console.error(" Invalid environment variables:",e.flatten().fieldErrors),Error("Invalid environment variables")}),f=e.onInvalidAccess??(e=>{throw Error(" Attempted to access a server-side environment variable on the client")});if(!1===d.success)return h(d.error);let p=t=>!e.clientPrefix||!t.startsWith(e.clientPrefix)&&!(t in o.shape),m=e=>l||!p(e),g=e=>"__esModule"===e||"$$typeof"===e,y=(e.extends??[]).reduce((e,t)=>Object.assign(e,t),{});return new Proxy(Object.assign(d.data,y),{get(e,t){if("string"==typeof t&&!g(t))return m(t)?Reflect.get(e,t):f(t)}})}let fr="NEXT_PUBLIC_",fn=function(e){let t="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},n=e.shared,i=e.runtimeEnv?e.runtimeEnv:{...process.env,...e.experimental__runtimeEnv};return ft({...e,shared:n,client:t,server:r,clientPrefix:fr,runtimeEnv:i})}({server:{AUTH_SECRET:hN.string(),DATABASE_URL:hN.string().url(),NODE_ENV:hN.enum(["development","test","production"]).default("development")},client:{},runtimeEnv:{AUTH_SECRET:process.env.AUTH_SECRET,DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production"},skipValidation:!!process.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0}),fi=()=>new fe.PrismaClient({log:"development"===fn.NODE_ENV?["query","error","warn"]:["error"]}),fa=globalThis,fs=fa.prisma??fi();"production"!==fn.NODE_ENV&&(fa.prisma=fs);let{auth:fo,handlers:fl,signIn:fc,signOut:fu}=u_({providers:[uk({credentials:{email:{},password:{}},authorize:async e=>{try{let{email:t,password:r}=await hI.parseAsync(e),n=await fs.user.findUnique({where:{email:t}});if(!await h7.compare(r,n?.password??""))return null;return n}catch(e){return null}}})],session:{strategy:"jwt"},adapter:uE(fs),callbacks:{session:({session:e,token:t})=>({...e,user:{...e.user,id:t.sub}})}}),fd=(0,cW.cache)(fo)(e=>{if(!e.auth){let t=new URL("/signin",e.nextUrl.origin);return Response.redirect(t)}}),fh={matcher:["/dashboard","/dashboard/:path*"]};r(199);let ff={...g},fp=ff.middleware||ff.default,fm="/src/middleware";if("function"!=typeof fp)throw Object.defineProperty(Error(`The Middleware "${fm}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function fg(e){return async(...t)=>{try{return await e(...t)}catch(i){let e=t[0],r=new URL(e.url),n=r.pathname+r.search;throw await v(i,{path:n,method:e.method,headers:Object.fromEntries(e.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),i}}}function fy(e){return tL({...e,page:fm,handler:fg(fp)})}},629:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})},s=(e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e},o=e=>s(t({},"__esModule",{value:!0}),e),l={};a(l,{Decimal:()=>tl,Public:()=>c,getRuntime:()=>R,makeStrictEnum:()=>_,objectEnumValues:()=>b}),e.exports=o(l);var c={};function u(...e){return e=>e}a(c,{validator:()=>u});var d=Symbol(),h=new WeakMap,f=class{constructor(e){e===d?h.set(this,"Prisma.".concat(this._getName())):h.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}_getName(){return this.constructor.name}toString(){return h.get(this)}},p=class extends f{_getNamespace(){return"NullTypes"}},m=class extends p{};w(m,"DbNull");var g=class extends p{};w(g,"JsonNull");var y=class extends p{};w(y,"AnyNull");var b={classes:{DbNull:m,JsonNull:g,AnyNull:y},instances:{DbNull:new m(d),JsonNull:new g(d),AnyNull:new y(d)}};function w(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var v=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function _(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!v.has(t))throw TypeError("Invalid enum value: ".concat(String(t)))}})}var x=()=>{var e,t;return(null==(t=null==(e=globalThis.process)?void 0:e.release)?void 0:t.name)==="node"},E=()=>{var e,t;return!!globalThis.Bun||!!(null!=(t=null==(e=globalThis.process)?void 0:e.versions)&&t.bun)},S=()=>!!globalThis.Deno,k=()=>"object"==typeof globalThis.Netlify,P=()=>"object"==typeof globalThis.EdgeRuntime,A=()=>{var e;return(null==(e=globalThis.navigator)?void 0:e.userAgent)==="Cloudflare-Workers"};function T(){var e;return null!=(e=[[k,"netlify"],[P,"edge-light"],[A,"workerd"],[S,"deno"],[E,"bun"],[x,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0))?e:""}var O={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function R(){let e=T();return{id:e,prettyName:O[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var C,N,I=9e15,$=1e9,j="0123456789abcdef",D="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",M="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",U={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},L=!0,q="[DecimalError] ",F=q+"Invalid argument: ",V=q+"Precision limit exceeded",H=q+"crypto unavailable",W="[object Decimal]",B=Math.floor,K=Math.pow,J=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Z=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,z=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,G=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,X=1e7,Q=7,Y=0x1fffffffffffff,ee=D.length-1,et=M.length-1,er={toStringTag:W};function en(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=Q-(n=e[t]+"").length)&&(a+=em(r)),a+=n;(r=Q-(n=(s=e[t])+"").length)&&(a+=em(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(F+e)}function ea(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Q,i=0):(i=Math.ceil((t+1)/Q),t%=Q),a=K(10,Q-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==K(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==K(10,t-3)-1,s}function es(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=j.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function eo(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/eP(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=ek(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}er.absoluteValue=er.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ec(e)},er.ceil=function(){return ec(new this.constructor(this),this.e+1,2)},er.clampedTo=er.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(F+t);return 0>r.cmp(e)?e:r.cmp(t)>0?t:new n(r)},er.comparedTo=er.cmp=function(e){var t,r,n,i,a=this,s=a.d,o=(e=new a.constructor(e)).d,l=a.s,c=e.s;if(!s||!o)return l&&c?l!==c?l:s===o?0:!s^l<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?l:o[0]?-c:0;if(l!==c)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(n=s.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1},er.cosine=er.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Q,n.rounding=1,r=eo(n,eA(n,r)),n.precision=e,n.rounding=t,ec(2==N||3==N?r.neg():r,e,t,!0)):new n(1):new n(NaN)},er.cubeRoot=er.cbrt=function(){var e,t,r,n,i,a,s,o,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(L=!1,(a=u.s*K(u.s*u,1/3))&&Math.abs(a)!=1/0?n=new d(a.toString()):(r=en(u.d),(a=((e=u.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=K(r,1/3),e=B((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=u.s),s=(e=d.precision)+3;;)if(n=el((c=(l=(o=n).times(o).times(o)).plus(u)).plus(u).times(o),c.plus(l),s+2,1),en(o.d).slice(0,s)===(r=en(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ec(n,e+1,1),t=!n.times(n).times(n).eq(u));break}if(!i&&(ec(o,e+1,0),o.times(o).times(o).eq(u))){n=o;break}s+=4,i=1}return L=!0,ec(n,e,d.rounding,t)},er.decimalPlaces=er.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-B(this.e/Q))*Q,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},er.dividedBy=er.div=function(e){return el(this,new this.constructor(e))},er.dividedToIntegerBy=er.divToInt=function(e){var t=this,r=t.constructor;return ec(el(t,new r(e),0,1,1),r.precision,r.rounding)},er.equals=er.eq=function(e){return 0===this.cmp(e)},er.floor=function(){return ec(new this.constructor(this),this.e+1,3)},er.greaterThan=er.gt=function(e){return this.cmp(e)>0},er.greaterThanOrEqualTo=er.gte=function(e){var t=this.cmp(e);return 1==t||0===t},er.hyperbolicCosine=er.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/eP(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=ek(s,1,a.times(t),new s(1),!0);for(var l,c=e,u=new s(8);c--;)l=a.times(a),a=o.minus(l.times(u.minus(l.times(u))));return ec(a,s.precision=r,s.rounding=n,!0)},er.hyperbolicSine=er.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=ek(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=ek(a,2,i=i.times(1/eP(5,e)),i,!0);for(var s,o=new a(5),l=new a(16),c=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(c))))}return a.precision=t,a.rounding=r,ec(i,t,r,!0)},er.hyperbolicTangent=er.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,el(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},er.inverseCosine=er.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?ef(t,n,i):new t(0):new t(NaN):e.isZero()?ef(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},er.inverseHyperbolicCosine=er.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,L=!1,r=r.times(r).minus(1).sqrt().plus(r),L=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},er.inverseHyperbolicSine=er.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,L=!1,r=r.times(r).plus(1).sqrt().plus(r),L=!0,n.precision=e,n.rounding=t,r.ln())},er.inverseHyperbolicTangent=er.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?ec(new a(i),e,t,!0):(a.precision=r=n-i.e,i=el(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},er.inverseSine=er.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=ef(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},er.inverseTangent=er.atan=function(){var e,t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,h=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=et)return(s=ef(u,d+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new u(NaN);if(d+4<=et)return(s=ef(u,d+4,h).times(.5)).s=c.s,s}for(u.precision=o=d+10,u.rounding=1,e=r=Math.min(28,o/Q+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(L=!1,t=Math.ceil(o/Q),n=1,l=c.times(c),s=new u(c),i=c;-1!==e;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),L=!0,ec(s,u.precision=d,u.rounding=h,!0)},er.isFinite=function(){return!!this.d},er.isInteger=er.isInt=function(){return!!this.d&&B(this.e/Q)>this.d.length-2},er.isNaN=function(){return!this.s},er.isNegative=er.isNeg=function(){return this.s<0},er.isPositive=er.isPos=function(){return this.s>0},er.isZero=function(){return!!this.d&&0===this.d[0]},er.lessThan=er.lt=function(e){return 0>this.cmp(e)},er.lessThanOrEqualTo=er.lte=function(e){return 1>this.cmp(e)},er.logarithm=er.log=function(e){var t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,h=u.rounding,f=5;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new u(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t){if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}}if(L=!1,ea((l=el(s=ev(c,o=d+f),n=t?eh(u,o+10):ev(e,o),o,1)).d,i=d,h))do if(o+=10,l=el(s=ev(c,o),n=t?eh(u,o+10):ev(e,o),o,1),!a){+en(l.d).slice(i+1,i+15)+1==1e14&&(l=ec(l,d+1,0));break}while(ea(l.d,i+=10,h));return L=!0,ec(l,d,h)},er.minus=er.sub=function(e){var t,r,n,i,a,s,o,l,c,u,d,h,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new p(e.d||f.s!==e.s?f:NaN):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,h=e.d,o=p.precision,l=p.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new p(3===l?-0:0);e=new p(f)}return L?ec(e,o,l):e}if(r=B(e.e/Q),u=B(f.e/Q),c=c.slice(),a=u-r){for((d=a<0)?(t=c,a=-a,s=h.length):(t=h,r=u,s=c.length),a>(n=Math.max(Math.ceil(o/Q),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=c.length)<(s=h.length))&&(s=n),n=0;n<s;n++)if(c[n]!=h[n]){d=c[n]<h[n];break}a=0}for(d&&(t=c,c=h,h=t,e.s=-e.s),s=c.length,n=h.length-s;n>0;--n)c[s++]=0;for(n=h.length;n>a;){if(c[--n]<h[n]){for(i=n;i&&0===c[--i];)c[i]=X-1;--c[i],c[n]+=X}c[n]-=h[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=ed(c,r),L?ec(e,o,l):e):new p(3===l?-0:0)},er.modulo=er.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),r.d&&e.s&&(!e.d||e.d[0])?e.d&&(!r.d||r.d[0])?(L=!1,9==n.modulo?(t=el(r,e.abs(),0,3,1),t.s*=e.s):t=el(r,e,0,n.modulo,1),t=t.times(e),L=!0,r.minus(t)):ec(new n(r),n.precision,n.rounding):new n(NaN)},er.naturalExponential=er.exp=function(){return ew(this)},er.naturalLogarithm=er.ln=function(){return ev(this)},er.negated=er.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ec(e)},er.plus=er.add=function(e){var t,r,n,i,a,s,o,l,c,u,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,u=e.d,o=h.precision,l=h.rounding,!c[0]||!u[0])return u[0]||(e=new h(d)),L?ec(e,o,l):e;if(a=B(d.e/Q),n=B(e.e/Q),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,s=u.length):(r=u,n=a,s=c.length),i>(s=(a=Math.ceil(o/Q))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=c.length)-(i=u.length)<0&&(i=s,r=u,u=c,c=r),t=0;i;)t=(c[--i]=c[i]+u[i]+t)/X|0,c[i]%=X;for(t&&(c.unshift(t),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=ed(c,n),L?ec(e,o,l):e},er.precision=er.sd=function(e){var t,r=this;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(F+e);return r.d?(t=ep(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},er.round=function(){var e=this,t=e.constructor;return ec(new t(e),e.e+1,t.rounding)},er.sine=er.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Q,n.rounding=1,r=eS(n,eA(n,r)),n.precision=e,n.rounding=t,ec(N>2?r.neg():r,e,t,!0)):new n(NaN)},er.squareRoot=er.sqrt=function(){var e,t,r,n,i,a,s=this,o=s.d,l=s.e,c=s.s,u=s.constructor;if(1!==c||!o||!o[0])return new u(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);for(L=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=en(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=B((l+1)/2)-(l<0||l%2),n=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new u(c.toString()),r=(l=u.precision)+3;;)if(n=(a=n).plus(el(s,a,r+2,1)).times(.5),en(a.d).slice(0,r)===(t=en(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ec(n,l+1,1),e=!n.times(n).eq(s));break}if(!i&&(ec(a,l+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}return L=!0,ec(n,l,u.rounding,e)},er.tangent=er.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=el(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,ec(2==N||4==N?r.neg():r,e,t,!0)):new n(NaN)},er.times=er.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(e.s*=u.s,!h||!h[0]||!f||!f[0])return new d(e.s&&(!h||h[0]||f)&&(!f||f[0]||h)?h&&f?0*e.s:e.s/0:NaN);for(r=B(u.e/Q)+B(e.e/Q),(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,s=l,l=c,c=s),a=[],n=s=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+f[n]*h[i-n-1]+t,a[i--]=o%X|0,t=o/X|0;a[i]=(a[i]+t)%X|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=ed(a,r),L?ec(e,d.precision,d.rounding):e},er.toBinary=function(e,t){return eT(this,2,e,t)},er.toDecimalPlaces=er.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(ei(e,0,$),void 0===t?t=n.rounding:ei(t,0,8),ec(r,e+r.e+1,t))},er.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=eu(n,!0):(ei(e,0,$),void 0===t?t=i.rounding:ei(t,0,8),r=eu(n=ec(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},er.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=eu(i):(ei(e,0,$),void 0===t?t=a.rounding:ei(t,0,8),r=eu(n=ec(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},er.toFraction=function(e){var t,r,n,i,a,s,o,l,c,u,d,h,f=this,p=f.d,m=f.constructor;if(!p)return new m(f);if(c=r=new m(1),n=l=new m(0),s=(a=(t=new m(n)).e=ep(p)-f.e-1)%Q,t.d[0]=K(10,s<0?Q+s:s),null==e)e=a>0?t:c;else{if(!(o=new m(e)).isInt()||o.lt(c))throw Error(F+o);e=o.gt(t)?a>0?t:c:o}for(L=!1,o=new m(en(p)),u=m.precision,m.precision=a=p.length*Q*2;d=el(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=c,c=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=el(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=f.s,h=1>el(c,n,a,1).minus(f).abs().cmp(el(l,r,a,1).minus(f).abs())?[c,n]:[l,r],m.precision=u,L=!0,h},er.toHexadecimal=er.toHex=function(e,t){return eT(this,16,e,t)},er.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:ei(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(L=!1,r=el(r,e,0,t,1).times(e),L=!0,ec(r)):(e.s=r.s,r=e),r},er.toNumber=function(){return+this},er.toOctal=function(e,t){return eT(this,8,e,t)},er.toPower=er.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(K(+o,c));if((o=new l(o)).eq(1))return o;if(n=l.precision,a=l.rounding,e.eq(1))return ec(o,n,a);if((t=B(e.e/Q))>=e.d.length-1&&(r=c<0?-c:c)<=Y)return i=eg(l,o,r,n),e.s<0?new l(1).div(i):ec(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new l(NaN);if(1&e.d[t]||(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=K(+o,c))&&isFinite(r)?new l(r+"").e:B(c*(Math.log("0."+en(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(L=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=ew(e.times(ev(o,n+r)),n)).d&&ea((i=ec(i,n+5,1)).d,n,a)&&(t=n+10,+en((i=ec(ew(e.times(ev(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=ec(i,n+1,0))),i.s=s,L=!0,l.rounding=a,ec(i,n,a))},er.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=eu(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ei(e,1,$),void 0===t?t=i.rounding:ei(t,0,8),r=eu(n=ec(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},er.toSignificantDigits=er.toSD=function(e,t){var r=this,n=r.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ei(e,1,$),void 0===t?t=n.rounding:ei(t,0,8)),ec(new n(r),e,t)},er.toString=function(){var e=this,t=e.constructor,r=eu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},er.truncated=er.trunc=function(){return ec(new this.constructor(this),this.e+1,1)},er.valueOf=er.toJSON=function(){var e=this,t=e.constructor,r=eu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var el=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,l){var c,u,d,h,f,p,m,g,y,b,w,v,_,x,E,S,k,P,A,T,O=n.constructor,R=n.s==i.s?1:-1,N=n.d,I=i.d;if(!N||!N[0]||!I||!I[0])return new O(n.s&&i.s&&(N?!I||N[0]!=I[0]:I)?N&&0==N[0]||!I?0*R:R/0:NaN);for(l?(f=1,u=n.e-i.e):(l=X,f=Q,u=B(n.e/f)-B(i.e/f)),A=I.length,k=N.length,b=(y=new O(R)).d=[],d=0;I[d]==(N[d]||0);d++);if(I[d]>(N[d]||0)&&u--,null==a?(x=a=O.precision,s=O.rounding):x=o?a+(n.e-i.e)+1:a,x<0)b.push(1),p=!0;else{if(x=x/f+2|0,d=0,1==A){for(h=0,I=I[0],x++;(d<k||h)&&x--;d++)E=h*l+(N[d]||0),b[d]=E/I|0,h=E%I|0;p=h||d<k}else{for((h=l/(I[0]+1)|0)>1&&(I=e(I,h,l),N=e(N,h,l),A=I.length,k=N.length),S=A,v=(w=N.slice(0,A)).length;v<A;)w[v++]=0;(T=I.slice()).unshift(0),P=I[0],I[1]>=l/2&&++P;do h=0,(c=t(I,w,A,v))<0?(_=w[0],A!=v&&(_=_*l+(w[1]||0)),(h=_/P|0)>1?(h>=l&&(h=l-1),g=(m=e(I,h,l)).length,v=w.length,1==(c=t(m,w,g,v))&&(h--,r(m,A<g?T:I,g,l))):(0==h&&(c=h=1),m=I.slice()),(g=m.length)<v&&m.unshift(0),r(w,m,v,l),-1==c&&(v=w.length,(c=t(I,w,A,v))<1&&(h++,r(w,A<v?T:I,v,l))),v=w.length):0===c&&(h++,w=[0]),b[d++]=h,c&&w[0]?w[v++]=N[S]||0:(w=[N[S]],v=1);while((S++<k||void 0!==w[0])&&x--);p=void 0!==w[0]}b[0]||b.shift()}if(1==f)y.e=u,C=p;else{for(d=1,h=b[0];h>=10;h/=10)d++;y.e=d+u*f-1,ec(y,o?a+y.e+1:a,s,p)}return y}}();function ec(e,t,r,n){var i,a,s,o,l,c,u,d,h,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=Q,s=t,l=(u=d[h=0])/K(10,i-s-1)%10|0;else if((h=Math.ceil((a+1)/Q))>=(o=d.length)){if(n){for(;o++<=h;)d.push(0);u=l=0,i=1,a%=Q,s=a-Q+1}else break e}else{for(u=o=d[h],i=1;o>=10;o/=10)i++;a%=Q,l=(s=a-Q+i)<0?0:u/K(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[h+1]||(s<0?u:u%K(10,i-s-1)),c=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?s>0?u/K(10,i-s):0:d[h-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=K(10,(Q-t%Q)%Q),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=h,o=1,h--):(d.length=h+1,o=K(10,Q-a),d[h]=s>0?(u/K(10,i-s)%K(10,s)|0)*o:0),c)for(;;)if(0==h){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,d[0]==X&&(d[0]=1));break}else{if(d[h]+=o,d[h]!=X)break;d[h--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return L&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function eu(e,t,r){if(!e.isFinite())return e_(e);var n,i=e.e,a=en(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+em(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+em(-i-1)+a,r&&(n=r-s)>0&&(a+=em(n))):i>=s?(a+=em(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+em(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=em(n))),a}function ed(e,t){var r=e[0];for(t*=Q;r>=10;r/=10)t++;return t}function eh(e,t,r){if(t>ee)throw L=!0,r&&(e.precision=r),Error(V);return ec(new e(D),t,1,!0)}function ef(e,t,r){if(t>et)throw Error(V);return ec(new e(M),t,r,!0)}function ep(e){var t=e.length-1,r=t*Q+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function em(e){for(var t="";e--;)t+="0";return t}function eg(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/Q+4);for(L=!1;;){if(r%2&&eO((a=a.times(t)).d,s)&&(i=!0),0===(r=B(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}eO((t=t.times(t)).d,s)}return L=!0,a}function ey(e){return 1&e.d[e.d.length-1]}function eb(e,t,r){for(var n,i,a=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function ew(e,t){var r,n,i,a,s,o,l,c=0,u=0,d=0,h=e.constructor,f=h.rounding,p=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(L=!1,l=p):l=t,o=new h(.03125);e.e>-2;)e=e.times(o),d+=5;for(l+=n=Math.log(K(2,d))/Math.LN10*2+5|0,r=a=s=new h(1),h.precision=l;;){if(a=ec(a.times(e),l,1),r=r.times(++u),en((o=s.plus(el(a,r,l,1))).d).slice(0,l)===en(s.d).slice(0,l)){for(i=d;i--;)s=ec(s.times(s),l,1);if(null!=t)return h.precision=p,s;if(!(c<3&&ea(s.d,l-n,f,c)))return ec(s,h.precision=p,f,L=!0);h.precision=l+=10,r=a=o=new h(1),u=0,c++}s=o}}function ev(e,t){var r,n,i,a,s,o,l,c,u,d,h,f=1,p=10,m=e,g=m.d,y=m.constructor,b=y.rounding,w=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(L=!1,u=w):u=t,y.precision=u+=p,n=(r=en(g)).charAt(0),!(15e14>Math.abs(a=m.e)))return c=eh(y,u+2,w).times(a+""),m=ev(new y(n+"."+r.slice(1)),u-p).plus(c),y.precision=w,null==t?ec(m,w,b,L=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=en((m=m.times(e)).d)).charAt(0),f++;for(a=m.e,n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1)),d=m,l=s=m=el(m.minus(1),m.plus(1),u,1),h=ec(m.times(m),u,1),i=3;;){if(s=ec(s.times(h),u,1),en((c=l.plus(el(s,new y(i),u,1))).d).slice(0,u)===en(l.d).slice(0,u)){if(l=l.times(2),0!==a&&(l=l.plus(eh(y,u+2,w).times(a+""))),l=el(l,new y(f),u,1),null!=t)return y.precision=w,l;if(!ea(l.d,u-p,b,o))return ec(l,y.precision=w,b,L=!0);y.precision=u+=p,c=s=m=el(d.minus(1),d.plus(1),u,1),h=ec(m.times(m),u,1),i=o=1}l=c,i+=2}}function e_(e){return String(e.s*e.s/0)}function ex(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Q,r<0&&(n+=Q),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Q;n<i;)e.d.push(+t.slice(n,n+=Q));n=Q-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),L&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eE(e,t){var r,n,i,a,s,o,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),G.test(t))return ex(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Z.test(t))r=16,t=t.toLowerCase();else if(J.test(t))r=2;else if(z.test(t))r=8;else throw Error(F+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=eg(n,new n(r),a,2*a)),a=u=(c=es(t,r,X)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=ed(c,u),e.d=c,L=!1,s&&(e=el(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?K(2,l):to.pow(2,l))),L=!0,e)}function eS(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:ek(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=ek(e,2,t=t.times(1/eP(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}function ek(e,t,r,n,i){var a,s,o,l,c=e.precision,u=Math.ceil(c/Q);for(L=!1,l=r.times(r),o=new e(n);;){if(s=el(o.times(l),new e(t++*t++),c,1),o=i?n.plus(s):n.minus(s),n=el(s.times(l),new e(t++*t++),c,1),void 0!==(s=o.plus(n)).d[u]){for(a=u;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return L=!0,s.d.length=u+1,s}function eP(e,t){for(var r=e;--t;)r*=e;return r}function eA(e,t){var r,n=t.s<0,i=ef(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return N=n?4:1,t;if((r=t.divToInt(i)).isZero())N=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return N=ey(r)?n?2:3:n?4:1,t;N=ey(r)?n?1:4:n?3:2}return t.minus(i).abs()}function eT(e,t,r,n){var i,a,s,o,l,c,u,d,h,f=e.constructor,p=void 0!==r;if(p?(ei(r,1,$),void 0===n?n=f.rounding:ei(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(s=(u=eu(e)).indexOf("."),p?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(u=u.replace(".",""),(h=new f(1)).e=u.length-s,h.d=es(eu(h),10,i),h.e=h.d.length),a=l=(d=es(u,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?a--:((e=new f(e)).d=d,e.e=a,d=(e=el(e,h,r,n,0,i)).d,a=e.e,c=C),s=d[r],o=i/2,c=c||void 0!==d[r+1],c=n<4?(void 0!==s||c)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||c||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,c)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,u="";s<l;s++)u+=j.charAt(d[s]);if(p){if(l>1){if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)u+="0";for(l=(d=es(u,i,t)).length;!d[l-1];--l);for(s=1,u="1.";s<l;s++)u+=j.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1)}u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>l)for(a-=l;a--;)u+="0";else a<l&&(u=u.slice(0,a)+"."+u.slice(a))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=e_(e);return e.s<0?"-"+u:u}function eO(e,t){if(e.length>t)return e.length=t,!0}function eR(e){return new this(e).abs()}function eC(e){return new this(e).acos()}function eN(e){return new this(e).acosh()}function eI(e,t){return new this(e).plus(t)}function e$(e){return new this(e).asin()}function ej(e){return new this(e).asinh()}function eD(e){return new this(e).atan()}function eM(e){return new this(e).atanh()}function eU(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?ef(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=ef(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(el(e,t,a,1)),t=ef(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(el(e,t,a,1)):(r=ef(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eL(e){return new this(e).cbrt()}function eq(e){return ec(e=new this(e),e.e+1,2)}function eF(e,t,r){return new this(e).clamp(t,r)}function eV(e){if(!e||"object"!=typeof e)throw Error(q+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,$,"rounding",0,8,"toExpNeg",-I,0,"toExpPos",0,I,"maxE",0,I,"minE",-I,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=U[r]),void 0!==(n=e[r])){if(B(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(F+r+": "+n)}if(r="crypto",i&&(this[r]=U[r]),void 0!==(n=e[r])){if(!0===n||!1===n||0===n||1===n){if(n){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(H)}else this[r]=!1}else throw Error(F+r+": "+n)}return this}function eH(e){return new this(e).cos()}function eW(e){return new this(e).cosh()}function eB(e){var t,r,n;function i(e){var t,r,n,a=this;if(!(a instanceof i))return new i(e);if(a.constructor=i,eG(e)){a.s=e.s,L?!e.d||e.e>i.maxE?(a.e=NaN,a.d=null):e.e<i.minE?(a.e=0,a.d=[0]):(a.e=e.e,a.d=e.d.slice()):(a.e=e.e,a.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){a.s=1/e<0?-1:1,a.e=0,a.d=[0];return}if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;L?t>i.maxE?(a.e=NaN,a.d=null):t<i.minE?(a.e=0,a.d=[0]):(a.e=t,a.d=[e]):(a.e=t,a.d=[e]);return}if(0*e!=0){e||(a.s=NaN),a.e=NaN,a.d=null;return}return ex(a,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),a.s=-1):(43===r&&(e=e.slice(1)),a.s=1),G.test(e)?ex(a,e):eE(a,e);if("bigint"===n)return e<0?(e=-e,a.s=-1):a.s=1,ex(a,e.toString());throw Error(F+e)}if(i.prototype=er,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=eV,i.clone=eB,i.isDecimal=eG,i.abs=eR,i.acos=eC,i.acosh=eN,i.add=eI,i.asin=e$,i.asinh=ej,i.atan=eD,i.atanh=eM,i.atan2=eU,i.cbrt=eL,i.ceil=eq,i.clamp=eF,i.cos=eH,i.cosh=eW,i.div=eK,i.exp=eJ,i.floor=eZ,i.hypot=ez,i.ln=eX,i.log=eQ,i.log10=e0,i.log2=eY,i.max=e1,i.min=e2,i.mod=e5,i.mul=e4,i.pow=e3,i.random=e6,i.round=e9,i.sign=e8,i.sin=e7,i.sinh=te,i.sqrt=tt,i.sub=tr,i.sum=tn,i.tan=ti,i.tanh=ta,i.trunc=ts,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function eK(e,t){return new this(e).div(t)}function eJ(e){return new this(e).exp()}function eZ(e){return ec(e=new this(e),e.e+1,3)}function ez(){var e,t,r=new this(0);for(L=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return L=!0,new this(1/0);r=t}return L=!0,r.sqrt()}function eG(e){return e instanceof to||e&&e.toStringTag===W||!1}function eX(e){return new this(e).ln()}function eQ(e,t){return new this(e).log(t)}function eY(e){return new this(e).log(2)}function e0(e){return new this(e).log(10)}function e1(){return eb(this,arguments,-1)}function e2(){return eb(this,arguments,1)}function e5(e,t){return new this(e).mod(t)}function e4(e,t){return new this(e).mul(t)}function e3(e,t){return new this(e).pow(t)}function e6(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:ei(e,1,$),n=Math.ceil(e/Q),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(H)}else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=Q,n&&e&&(i=K(10,Q-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=Q)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<Q&&(r-=Q-n)}return s.e=r,s.d=o,s}function e9(e){return ec(e=new this(e),e.e+1,this.rounding)}function e8(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e7(e){return new this(e).sin()}function te(e){return new this(e).sinh()}function tt(e){return new this(e).sqrt()}function tr(e,t){return new this(e).sub(t)}function tn(){var e=0,t=arguments,r=new this(t[0]);for(L=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return L=!0,ec(r,this.precision,this.rounding)}function ti(e){return new this(e).tan()}function ta(e){return new this(e).tanh()}function ts(e){return ec(e=new this(e),e.e+1,1)}er[Symbol.for("nodejs.util.inspect.custom")]=er.toString,er[Symbol.toStringTag]="Decimal";var to=er.constructor=eB(U);D=new to(D),M=new to(M);var tl=to},704:e=>{"use strict";e.exports=globalThis.__import_unsupported("fs")},724:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e},s=e=>a(t({},"__esModule",{value:!0}),e),o={};function l(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function c(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function u(e){if(!e)return;let[[t,r],...n]=c(e),{domain:i,expires:a,httponly:s,maxage:o,path:l,samesite:u,secure:h,partitioned:p,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return d({name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...s&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...u&&{sameSite:f(u)},...h&&{secure:!0},...g&&{priority:m(g)},...p&&{partitioned:!0}})}function d(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(o,{RequestCookies:()=>y,ResponseCookies:()=>b,parseCookie:()=>c,parseSetCookie:()=>u,stringifyCookie:()=>l}),e.exports=s(o);var h=["strict","lax","none"];function f(e){return e=e.toLowerCase(),h.includes(e)?e:void 0}var p=["low","medium","high"];function m(e){return e=e.toLowerCase(),p.includes(e)?e:void 0}function g(e){if(!e)return[];var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function c(){return"="!==(r=e.charAt(o))&&";"!==r&&","!==r}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&c();)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}var y=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of c(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>l(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>l(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},b=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:g(i)){let t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,v({name:t,value:r,...n})),w(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(l).join("; ")}};function w(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=l(r);t.append("set-cookie",e)}}function v(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}},745:e=>{"use strict";e.exports=globalThis.__import_unsupported("child_process")},792:(e,t,r)=>{"use strict";r.d(t,{X:()=>d});var n=r(801);let i=Symbol.for("react.postpone");function a(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}let s="BAILOUT_TO_CLIENT_SIDE_RENDERING";function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}var l=r(199),c=r(557),u=r(16);function d(e){if((0,l.p)(e)||o(e)||(0,u.h)(e)||(0,c.I3)(e)||a(e)||(0,n.T)(e))throw e;e instanceof Error&&"cause"in e&&d(e.cause)}},799:e=>{"use strict";e.exports=globalThis.__import_unsupported("fs/promises")},801:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}r.d(t,{T:()=>n,W:()=>s});let i="HANGING_PROMISE_REJECTION";class a extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=i}}function s(e,t){let r=new Promise((r,n)=>{e.addEventListener("abort",()=>{n(new a(t))},{once:!0})});return r.catch(o),r}function o(){}},802:e=>{var t="/";(()=>{"use strict";var r={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,a||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,s),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){let a=i/2|0,s=n+a;0>=r(e[s],t)?(n=++s,i-=a+1):i=a}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);class i{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(r);return}let i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}t.default=i},816:(e,t,r)=>{let n=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,r)=>new Promise((a,s)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){a(e);return}let o=setTimeout(()=>{if("function"==typeof r){try{a(r())}catch(e){s(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new i(n);"function"==typeof e.cancel&&e.cancel(),s(o)},t);n(e.then(a,s),()=>{clearTimeout(o)})});e.exports=a,e.exports.default=a,e.exports.TimeoutError=i}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}},s=!0;try{r[e](a,a.exports,i),s=!1}finally{s&&delete n[e]}return a.exports}i.ab=t+"/";var a={};(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0});let t=i(993),r=i(816),n=i(821),s=()=>{},o=new r.TimeoutError;class l extends t{constructor(e){var t,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(a=null===(i=e.interval)||void 0===i?void 0:i.toString())&&void 0!==a?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){!this._isIntervalIgnored&&void 0===this._intervalId&&(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(o)});n(await a)}catch(e){i(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}e.default=l})(),e.exports=a})()},815:(e,t,r)=>{"use strict";e.exports=r(35)},821:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({})},825:()=>{},830:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});let n=(0,r(58).xl)()},890:e=>{var t="/";(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=t+"/");var r={};(()=>{var e=r;e.parse=s,e.serialize=o;var t=decodeURIComponent,n=encodeURIComponent,i=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,r){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},a=r||{},s=e.split(i),o=a.decode||t,c=0;c<s.length;c++){var u=s[c],d=u.indexOf("=");if(!(d<0)){var h=u.substr(0,d).trim(),f=u.substr(++d,u.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==n[h]&&(n[h]=l(f,o))}}return n}function o(e,t,r){var i=r||{},s=i.encode||n;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!a.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!a.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l}function l(e,t){try{return t(e)}catch(t){return e}}})(),e.exports=r})()},905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{interceptTestApis:function(){return a},wrapRequestHandler:function(){return s}});let n=r(201),i=r(552);function a(){return(0,i.interceptFetch)(r.g.fetch)}function s(e){return(t,r)=>(0,n.withRequest)(t,i.reader,()=>e(t,r))}},956:(e,t,r)=>{var n="/";(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),s="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),s=r(172),o="diag";class l{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}let t=this,r=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let c=(0,s.getGlobal)("diag"),u=(0,i.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:a.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",u,t,!0)};t.setLogger=r,t.disable=()=>{(0,s.unregisterGlobal)(o,t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new l),this._instance}}t.DiagAPI=l},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),s=r(277),o=r(369),l=r(930),c="propagation",u=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),s=r(607),o=r(930),l="trace";class c{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),s=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){function e(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(let t=0;t<r.length;t++)this[r[t].n]=e(r[t].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),s=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let s=l[o]=null!==(a=l[o])&&void 0!==a?a:{version:i.VERSION};if(!n&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[o])||void 0===t?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}function o(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return s(e);let l={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=l.prerelease||a.major!==l.major?s(e):0===a.major?a.minor===l.minor&&a.patch<=l.patch?o(e):s(e):a.minor<=l.minor?o(e):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(r=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends n{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class u extends o{}function d(){return t.NOOP_METER}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=d},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:r.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),s=r(139),o=n.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new a.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return c(n)&&(0,s.isSpanContextValid)(n)?new a.NonRecordingSpan(n):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,s=r,l=n);let c=null!=s?s:o.active(),u=this.startSpan(e,a,c),d=(0,i.setSpan)(c,u);return o.with(d,l,void 0,u)}}function c(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class a{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=a},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564),i=32,a=512,s=",",o="=";class l{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+o+this.get(t)),e),[]).join(s)}_parse(e){!(e.length>a)&&(this._internalState=e.split(s).reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf(o);if(-1!==i){let a=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new l;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=l},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r=t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},i={};function a(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},s=!0;try{t[e].call(n.exports,n,n.exports,a),s=!1}finally{s&&delete i[e]}return n.exports}a.ab=n+"/";var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=a(369);Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return t.baggageEntryMetadataFromString}});var r=a(780);Object.defineProperty(e,"createContextKey",{enumerable:!0,get:function(){return r.createContextKey}}),Object.defineProperty(e,"ROOT_CONTEXT",{enumerable:!0,get:function(){return r.ROOT_CONTEXT}});var n=a(972);Object.defineProperty(e,"DiagConsoleLogger",{enumerable:!0,get:function(){return n.DiagConsoleLogger}});var i=a(957);Object.defineProperty(e,"DiagLogLevel",{enumerable:!0,get:function(){return i.DiagLogLevel}});var o=a(102);Object.defineProperty(e,"createNoopMeter",{enumerable:!0,get:function(){return o.createNoopMeter}});var l=a(901);Object.defineProperty(e,"ValueType",{enumerable:!0,get:function(){return l.ValueType}});var c=a(194);Object.defineProperty(e,"defaultTextMapGetter",{enumerable:!0,get:function(){return c.defaultTextMapGetter}}),Object.defineProperty(e,"defaultTextMapSetter",{enumerable:!0,get:function(){return c.defaultTextMapSetter}});var u=a(125);Object.defineProperty(e,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var d=a(846);Object.defineProperty(e,"ProxyTracerProvider",{enumerable:!0,get:function(){return d.ProxyTracerProvider}});var h=a(996);Object.defineProperty(e,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var f=a(357);Object.defineProperty(e,"SpanKind",{enumerable:!0,get:function(){return f.SpanKind}});var p=a(847);Object.defineProperty(e,"SpanStatusCode",{enumerable:!0,get:function(){return p.SpanStatusCode}});var m=a(475);Object.defineProperty(e,"TraceFlags",{enumerable:!0,get:function(){return m.TraceFlags}});var g=a(98);Object.defineProperty(e,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var y=a(139);Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return y.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return y.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return y.isValidSpanId}});var b=a(476);Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return b.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return b.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return b.INVALID_SPAN_CONTEXT}});let w=a(67);Object.defineProperty(e,"context",{enumerable:!0,get:function(){return w.context}});let v=a(506);Object.defineProperty(e,"diag",{enumerable:!0,get:function(){return v.diag}});let _=a(886);Object.defineProperty(e,"metrics",{enumerable:!0,get:function(){return _.metrics}});let x=a(939);Object.defineProperty(e,"propagation",{enumerable:!0,get:function(){return x.propagation}});let E=a(845);Object.defineProperty(e,"trace",{enumerable:!0,get:function(){return E.trace}}),e.default={context:w.context,diag:v.diag,metrics:_.metrics,propagation:x.propagation,trace:E.trace}})(),e.exports=s})()}},e=>{var t=e(e.s=612);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_src/middleware"]=t}]);
//# sourceMappingURL=middleware.js.map